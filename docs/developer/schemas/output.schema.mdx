---
title: "Output Schema"
description: "Schema definition for CLEO successful command responses"
---

## Overview

The Output schema defines the standard JSON envelope for all successful CLEO command responses. It provides a consistent structure for returning data from commands, including metadata, task objects, task arrays, change tracking, and warnings.

## Schema Definition

```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "schemaVersion": "1.0.0",
  "$id": "https://cleo-dev.com/schemas/v1/output.schema.json",
  "title": "Claude-TODO Response Envelope",
  "description": "Standard JSON envelope for all successful cleo command responses",
  "type": "object",
  "required": ["_meta", "success"],
  "additionalProperties": true
}
```

## Properties

### Root Properties

| Property | Type | Required | Description |
|----------|------|----------|-------------|
| `$schema` | string | No | Schema URL for validation (must be `https://cleo-dev.com/schemas/v1/output.schema.json`) |
| `_meta` | object | Yes | Response metadata |
| `success` | boolean | Yes | Always `true` for successful responses |
| `summary` | object | No | Aggregated statistics or summary data |
| `data` | any | No | Generic data payload (type depends on command) |
| `task` | object | No | Single task object (for add, update, show commands) |
| `tasks` | array | No | Array of task objects (for list commands) |
| `taskId` | string | No | Task ID affected by operation |
| `changes` | object | No | Change tracking for update operations |
| `warnings` | array | No | Non-fatal warnings |

### _meta Object

| Property | Type | Required | Description |
|----------|------|----------|-------------|
| `format` | string | No | Output format identifier (always "json") |
| `version` | string | Yes | CLEO version (semver format) |
| `command` | string | Yes | Command name that generated this response |
| `timestamp` | string | Yes | ISO-8601 UTC timestamp of response generation |
| `checksum` | string | No | SHA256 checksum of source file (64 hex chars) |
| `execution_ms` | integer | No | Execution time in milliseconds |

### Task Object

| Property | Type | Required | Description |
|----------|------|----------|-------------|
| `id` | string | No | Task identifier (T001+, expandable) |
| `type` | string | No | Hierarchy type: epic, task, or subtask |
| `parentId` | string/null | No | Parent task ID or null for root tasks |
| `size` | string/null | No | Task size estimate: small, medium, large, or null |
| `title` | string | No | Task title (minLength: 1) |
| `description` | string | No | Task description |
| `status` | string | No | Task status: pending, active, blocked, or done |
| `priority` | string | No | Task priority: critical, high, medium, or low |
| `createdAt` | string | No | ISO 8601 timestamp when task was created |
| `completedAt` | string/null | No | ISO 8601 timestamp when task was completed |

### Changes Object

The `changes` object tracks modifications made during update operations. Each property represents a changed field with `before` and `after` values:

```json
{
  "changes": {
    "status": {
      "before": "pending",
      "after": "active"
    },
    "priority": {
      "before": "medium",
      "after": "high"
    }
  }
}
```

### Warnings Array Items

| Property | Type | Required | Description |
|----------|------|----------|-------------|
| `code` | string | Yes | Warning code with `W_` prefix (e.g., `W_DEPRECATED`) |
| `message` | string | Yes | Human-readable warning message |
| `suggestion` | string/null | No | Suggested action to address the warning |

## Examples

### Task Creation Response

```json
{
  "$schema": "https://cleo-dev.com/schemas/v1/output.schema.json",
  "_meta": {
    "format": "json",
    "version": "1.0.0",
    "command": "cleo add",
    "timestamp": "2026-01-27T22:30:00Z",
    "execution_ms": 45
  },
  "success": true,
  "task": {
    "id": "T2598",
    "type": "task",
    "parentId": "T2591",
    "size": "medium",
    "title": "Document remaining schemas",
    "description": "Create documentation for config and log schemas",
    "status": "pending",
    "priority": "high",
    "createdAt": "2026-01-27T22:30:00Z",
    "completedAt": null
  },
  "taskId": "T2598"
}
```

### Task List Response

```json
{
  "$schema": "https://cleo-dev.com/schemas/v1/output.schema.json",
  "_meta": {
    "format": "json",
    "version": "1.0.0",
    "command": "cleo list",
    "timestamp": "2026-01-27T22:35:00Z",
    "execution_ms": 23
  },
  "success": true,
  "summary": {
    "total": 5,
    "byStatus": {
      "pending": 2,
      "active": 2,
      "blocked": 1,
      "done": 0
    }
  },
  "tasks": [
    {
      "id": "T2597",
      "type": "task",
      "parentId": "T2591",
      "title": "Document high-priority schemas",
      "status": "active",
      "priority": "high"
    },
    {
      "id": "T2598",
      "type": "task",
      "parentId": "T2591",
      "title": "Document remaining schemas",
      "status": "pending",
      "priority": "high"
    }
  ]
}
```

### Task Update Response with Changes

```json
{
  "$schema": "https://cleo-dev.com/schemas/v1/output.schema.json",
  "_meta": {
    "format": "json",
    "version": "1.0.0",
    "command": "cleo update",
    "timestamp": "2026-01-27T22:40:00Z",
    "execution_ms": 38
  },
  "success": true,
  "task": {
    "id": "T2597",
    "type": "task",
    "parentId": "T2591",
    "title": "Document high-priority schemas",
    "status": "done",
    "priority": "high",
    "createdAt": "2026-01-27T22:12:58Z",
    "completedAt": "2026-01-27T22:40:00Z"
  },
  "taskId": "T2597",
  "changes": {
    "status": {
      "before": "active",
      "after": "done"
    },
    "completedAt": {
      "before": null,
      "after": "2026-01-27T22:40:00Z"
    }
  }
}
```

### Response with Warnings

```json
{
  "$schema": "https://cleo-dev.com/schemas/v1/output.schema.json",
  "_meta": {
    "format": "json",
    "version": "1.0.0",
    "command": "cleo complete",
    "timestamp": "2026-01-27T22:45:00Z",
    "execution_ms": 52
  },
  "success": true,
  "task": {
    "id": "T2597",
    "type": "task",
    "title": "Document high-priority schemas",
    "status": "done"
  },
  "warnings": [
    {
      "code": "W_CHILDREN_ACTIVE",
      "message": "Task has active child tasks that may need attention",
      "suggestion": "Review child tasks T2598, T2599 before completing parent"
    }
  ]
}
```

### Validation Response

```json
{
  "$schema": "https://cleo-dev.com/schemas/v1/output.schema.json",
  "_meta": {
    "format": "json",
    "version": "1.0.0",
    "command": "cleo validate",
    "timestamp": "2026-01-27T22:50:00Z",
    "execution_ms": 125,
    "checksum": "a1b2c3d4e5f6..."
  },
  "success": true,
  "summary": {
    "filesChecked": 3,
    "valid": 3,
    "invalid": 0,
    "errors": []
  },
  "data": {
    "todo.json": { "valid": true },
    "sessions.json": { "valid": true },
    "config.json": { "valid": true }
  }
}
```

## Usage

The output schema is used throughout CLEO:

- **CLI Success Output**: All successful `cleo` commands output in this format when using `--format json`
- **API Responses**: Success responses from any CLEO API endpoints
- **Script Integration**: Bash scripts can parse structured responses
- **Agent Communication**: LLM agents receive consistent response structures

### Response Patterns

Different commands populate different fields:

| Command Type | Populated Fields |
|--------------|------------------|
| `cleo add`, `cleo show` | `task`, `taskId` |
| `cleo list` | `tasks`, `summary` |
| `cleo update` | `task`, `taskId`, `changes` |
| `cleo complete` | `task`, `taskId`, `warnings` |
| `cleo validate` | `summary`, `data` |
| `cleo config` | `data` |

### Warning Codes

Common warning codes include:

| Warning Code | Description |
|--------------|-------------|
| `W_DEPRECATED` | Feature or option is deprecated |
| `W_CHILDREN_ACTIVE` | Parent task has active children |
| `W_SCOPE_OVERLAP` | Session scope overlaps with another session |
| `W_LARGE_TASK` | Task size is large, consider breaking down |
| `W_STALE_DATA` | Data hasn't been updated recently |

### Additional Properties

The schema allows `additionalProperties: true` at the root level, enabling commands to include command-specific fields as needed while maintaining the core structure.
