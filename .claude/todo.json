{
  "$schema": "./schemas/todo.schema.json",
  "version": "2.1.0",
  "project": "claude-todo",
  "lastUpdated": "2025-12-13T18:51:18Z",
  "_meta": {
    "checksum": "2f9dacb6679287d7",
    "configVersion": "2.1.0",
    "lastSessionId": null,
    "activeSession": null,
    "lastModified": "2025-12-12T20:14:38Z"
  },
  "focus": {
    "currentTask": null,
    "blockedUntil": null,
    "sessionNote": "Completed all documentation tasks. 31/32 tasks done. T012 (CLI wrapper refactoring) deferred.",
    "nextAction": "Complete T028 documentation review"
  },
  "tasks": [
    {
      "id": "T012",
      "title": "Decouple CLI wrapper from hardcoded script mappings",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-06T04:51:17Z",
      "description": "MEDIUM RISK: The claude-todo wrapper has hardcoded case statement mapping commands to scripts. If scripts are renamed (like we almost did with -todo suffix), wrapper breaks silently. FIX: Generate wrapper from script directory listing, use config file for mappings, or convention-based routing (command name = script name).",
      "labels": [
        "fragile-coupling",
        "medium"
      ],
      "notes": [
        "2025-12-09 01:15:23 UTC: Testing update script",
        "2025-12-09 01:17:53 UTC: Verified update command works through CLI"
      ],
      "completedAt": "2025-12-12T19:41:28Z"
    },
    {
      "id": "T045",
      "title": "Create TODO_Task_Management.md documentation file",
      "status": "done",
      "priority": "critical",
      "createdAt": "2025-12-12T16:56:07Z",
      "description": "Create concise (~100 lines) task management documentation for CLAUDE.md import",
      "labels": [
        "documentation",
        "task-management"
      ],
      "completedAt": "2025-12-12T16:56:59Z"
    },
    {
      "id": "T046",
      "title": "Update CLAUDE.md injection with missing commands",
      "status": "done",
      "priority": "critical",
      "createdAt": "2025-12-12T16:56:08Z",
      "description": "Add update, export --format todowrite, and update --notes to Quick Reference",
      "labels": [
        "documentation",
        "task-management"
      ],
      "completedAt": "2025-12-12T16:57:33Z"
    },
    {
      "id": "T047",
      "title": "Update install.sh to install TODO_Task_Management.md",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-12T16:56:09Z",
      "description": "Ensure docs are copied during global installation",
      "labels": [
        "installation",
        "task-management"
      ],
      "completedAt": "2025-12-12T16:57:56Z"
    },
    {
      "id": "T048",
      "title": "Test task for verification",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T18:47:18Z",
      "description": "Testing the full add/update/complete workflow",
      "labels": [
        "test",
        "verification"
      ],
      "notes": [
        "2025-12-12 18:47:26 UTC: Updated via test"
      ],
      "completedAt": "2025-12-12T18:47:26Z"
    },
    {
      "id": "T049",
      "title": "Add Task Management documentation with auto-install",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-12T19:47:01Z",
      "description": "Created TODO_Task_Management.md, install copies to ~/.claude/, auto-appends reference to CLAUDE.md",
      "labels": [
        "docs",
        "feature",
        "release-050"
      ],
      "completedAt": "2025-12-12T19:47:09Z"
    },
    {
      "id": "T050",
      "title": "Implement CLI command aliases",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-12T19:47:01Z",
      "description": "Added ls, done, new, edit, rm, check aliases with config override support",
      "labels": [
        "feature",
        "cli",
        "release-060"
      ],
      "completedAt": "2025-12-12T19:47:10Z"
    },
    {
      "id": "T051",
      "title": "Implement plugin system foundation",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-12T19:47:01Z",
      "description": "Auto-discovery from ~/.claude-todo/plugins/ and ./.claude/plugins/, plugin metadata format",
      "labels": [
        "feature",
        "plugins",
        "release-060"
      ],
      "completedAt": "2025-12-12T19:47:10Z"
    },
    {
      "id": "T052",
      "title": "Add CLI debug validation mode",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T19:47:01Z",
      "description": "Added --validate/--debug flags, checksum verification, mapping validation",
      "labels": [
        "feature",
        "cli",
        "release-060"
      ],
      "completedAt": "2025-12-12T19:47:10Z"
    },
    {
      "id": "T053",
      "title": "Extend config schema with CLI section",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T19:47:01Z",
      "description": "Added cli.aliases, cli.plugins, cli.debug sections to config schema",
      "labels": [
        "schema",
        "config",
        "release-060"
      ],
      "completedAt": "2025-12-12T19:47:10Z"
    },
    {
      "id": "T054",
      "title": "Test version labels",
      "status": "done",
      "priority": "low",
      "createdAt": "2025-12-12T19:58:05Z",
      "labels": [
        "v0.6.0",
        "feature"
      ],
      "completedAt": "2025-12-12T19:58:16Z"
    },
    {
      "id": "T055",
      "title": "Fix label pattern to allow version tags",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T19:59:29Z",
      "labels": [
        "v0.6.1",
        "schema",
        "bug-fix"
      ],
      "completedAt": "2025-12-12T19:59:37Z"
    },
    {
      "id": "T056",
      "title": "Create PLUGINS.md architecture documentation",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T19:59:31Z",
      "labels": [
        "v0.6.1",
        "documentation"
      ],
      "completedAt": "2025-12-12T19:59:37Z"
    },
    {
      "id": "T057",
      "title": "Update schema-reference.md with label pattern changes",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T19:59:32Z",
      "labels": [
        "v0.6.1",
        "documentation"
      ],
      "completedAt": "2025-12-12T19:59:37Z"
    },
    {
      "id": "T058",
      "title": "Add short flags to CLI commands (-s, -p, -l, -f, -v, -c, -q)",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-12T20:23:20Z",
      "phase": "core",
      "description": "Add short flag variants for all common options: -s STATUS, -p PRIORITY, -l LABEL, -f FORMAT, -v verbose, -c compact, -q quiet. Update help text and documentation.",
      "labels": [
        "cli",
        "output",
        "v0.7.0"
      ],
      "completedAt": "2025-12-13T08:08:21Z",
      "notes": [
        "[COMPLETED 2025-12-13T08:08:21Z] Verified: Short flags implemented in list-tasks.sh (-s, -p, -l, -f, -c, -v, -q), add-task.sh (-s, -p, -d, -l, -P, -D, -q), export.sh (-f, -s, -p, -l, -m, -o, -d, -q). All documented in --help."
      ]
    },
    {
      "id": "T059",
      "title": "Implement NO_COLOR environment variable support",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-12T20:23:21Z",
      "phase": "core",
      "description": "Respect the NO_COLOR environment variable standard (no-color.org) to disable all ANSI color codes. Also add FORCE_COLOR for override.",
      "labels": [
        "cli",
        "accessibility",
        "v0.7.0"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:10Z",
          "content": "Verified implemented during v0.8.3 review"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T060",
      "title": "Create lib/output-format.sh shared library",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-12T20:23:23Z",
      "phase": "core",
      "description": "Create shared library with: detect_color_support(), detect_unicode_support(), get_terminal_width(), resolve_format(), status_color(), status_symbol(), progress_bar(), draw_box(). Used by all output commands.",
      "labels": [
        "cli",
        "library",
        "v0.7.0"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:10Z",
          "content": "Verified implemented during v0.8.3 review"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T061",
      "title": "Add JSON output envelope with _meta section",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-12T20:23:24Z",
      "phase": "core",
      "description": "Enhance JSON output with envelope pattern: _meta (version, command, timestamp, checksum, execution_ms), filters applied, summary counts, then tasks array. Improves LLM anti-hallucination.",
      "labels": [
        "output",
        "json",
        "v0.7.0"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:10Z",
          "content": "Verified implemented during v0.8.3 review"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T062",
      "title": "Implement JSONL streaming output format",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T20:23:25Z",
      "phase": "core",
      "description": "Add --format jsonl for newline-delimited JSON output. Each line is valid JSON: meta line, task lines, summary line. Better for large datasets and piping.",
      "labels": [
        "output",
        "json",
        "streaming",
        "v0.7.0"
      ],
      "completedAt": "2025-12-13T08:08:22Z",
      "notes": [
        "[COMPLETED 2025-12-13T08:08:22Z] Verified: JSONL streaming output works. list-tasks.sh --format jsonl outputs each task as separate JSON line with _type field. Proper streaming format."
      ]
    },
    {
      "id": "T063",
      "title": "Add CSV and TSV export formats",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T20:23:26Z",
      "phase": "core",
      "description": "Add --format csv and --format tsv to export.sh. RFC 4180 compliant CSV. Include headers option, configurable delimiter. Essential for spreadsheet integration.",
      "labels": [
        "output",
        "export",
        "v0.7.0"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:10Z",
          "content": "Verified implemented during v0.8.3 review"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T064",
      "title": "Implement dash (dashboard) command",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-12T20:23:41Z",
      "phase": "core",
      "description": "New command showing: status overview, current focus, phase progress with bars, weekly stats. Options: --compact, --period N, --no-chart. Uses box-drawing for borders.",
      "labels": [
        "command",
        "dashboard",
        "v0.8.0"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:10Z",
          "content": "Verified implemented during v0.8.3 review"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T065",
      "title": "Implement next command for task suggestion",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-12T20:23:43Z",
      "phase": "core",
      "description": "Suggest next task to work on. Algorithm: filter pending+unblocked, sort by priority/deps/created. Options: --explain, --count N. Show reasoning for suggestion.",
      "labels": [
        "command",
        "suggestion",
        "v0.8.0"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:10Z",
          "content": "Verified implemented during v0.8.3 review"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T066",
      "title": "Implement labels command for tag management",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-12T20:23:44Z",
      "phase": "core",
      "description": "List all labels with counts and bar visualization. Subcommands: show LABEL. Show critical task counts per label. Alias: tags.",
      "labels": [
        "command",
        "labels",
        "v0.8.0"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:10Z",
          "content": "Verified implemented during v0.8.3 review"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T067",
      "title": "Add ASCII progress bar and box-drawing support",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T20:23:46Z",
      "phase": "core",
      "description": "Progress bars with Unicode blocks (██░) and percentages. Box-drawing borders for tables (╭╮╰╯─│). ASCII fallback for non-UTF8 terminals.",
      "labels": [
        "output",
        "visualization",
        "v0.8.0"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:10Z",
          "content": "Verified implemented during v0.8.3 review"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T068",
      "title": "Add output.* configuration options",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T20:23:47Z",
      "phase": "core",
      "description": "Add to config.schema.json: output.defaultFormat, output.colorEnabled, output.unicodeEnabled, output.progressBars, output.csvDelimiter, output.dateFormat. Integrate into output-format.sh.",
      "labels": [
        "config",
        "output",
        "v0.8.0"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:10Z",
          "content": "Verified implemented during v0.8.3 review"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T069",
      "title": "Implement phases command for phase management",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T20:24:02Z",
      "phase": "core",
      "description": "Phase summary with progress. Subcommands: show PHASE, stats. Table with phase name, task counts by status, progress bar, overall status (Pending/InProgress/Completed).",
      "labels": [
        "command",
        "phases",
        "v0.9.0"
      ],
      "notes": [
        "2025-12-13 08:08:32 UTC: Phase 4 verification: No phases.sh script exists. Phases are displayed in 'dash' command but no dedicated management command. Needs implementation.",
        "[COMPLETED 2025-12-13T08:14:31Z] Implemented: scripts/phases.sh with list, show, stats subcommands. Supports text and JSON output. Shows progress bars, status counts, priority breakdown."
      ],
      "completedAt": "2025-12-13T08:14:31Z"
    },
    {
      "id": "T070",
      "title": "Implement blockers command for blocker analysis",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T20:24:03Z",
      "phase": "core",
      "description": "List blocked tasks and what blocks them. Subcommand: analyze - show critical path, chain length, impact assessment, recommendations. Help identify bottlenecks.",
      "labels": [
        "command",
        "blockers",
        "v0.9.0"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:10Z",
          "content": "Verified implemented during v0.8.3 review"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T071",
      "title": "Implement deps command with dependency tree visualization",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T20:24:04Z",
      "phase": "core",
      "description": "ASCII dependency tree (├─►). Subcommands: show TASK_ID, check (validate/detect cycles), blocked (tasks with incomplete deps). Options: --depth N, --reverse. Topological sorting.",
      "labels": [
        "command",
        "dependencies",
        "v0.9.0"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:10Z",
          "content": "Verified implemented during v0.8.3 review"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T072",
      "title": "Implement circular dependency detection",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T20:24:05Z",
      "phase": "core",
      "description": "Detect circular dependencies using Tarjan's SCC algorithm. Warn on cycle detection. Block task creation that would create cycles. Report cycle chain in deps check.",
      "labels": [
        "validation",
        "dependencies",
        "v0.9.0"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:10Z",
          "content": "Verified implemented during v0.8.3 review"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T073",
      "title": "Implement critical path analysis",
      "status": "done",
      "priority": "low",
      "createdAt": "2025-12-12T20:24:07Z",
      "phase": "core",
      "description": "Identify longest dependency chain (critical path) that determines minimum project completion. Show in blockers analyze. Highlight tasks on critical path.",
      "labels": [
        "analysis",
        "dependencies",
        "v0.9.0"
      ],
      "completedAt": "2025-12-13T08:12:41Z",
      "notes": [
        "[COMPLETED 2025-12-13T08:12:41Z] Verified: find_critical_path() in lib/analysis.sh works correctly. Tested with 4-level dependency chain, returns proper path and length. Used by blockers-command.sh analyze."
      ]
    },
    {
      "id": "T074",
      "title": "Implement index caching for labels and phases",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T20:24:21Z",
      "phase": "polish",
      "description": "Cache label-to-task and phase-to-task indices in .claude/.cache/. Checksum-based staleness detection. Lazy regeneration on first query after changes. O(1) lookups.",
      "labels": [
        "performance",
        "caching"
      ],
      "notes": [
        "2025-12-13 08:08:33 UTC: Phase 4 verification: No cache files (.cache*) found, no caching code in lib/*.sh. Index caching not implemented.",
        "[COMPLETED 2025-12-13T08:15:43Z] Implemented: lib/cache.sh with checksum-based staleness detection, lazy regeneration, O(1) lookups. Cache files in .claude/.cache/ (labels.index.json, phases.index.json, checksum.txt, metadata.json). Tested with 68 labels and 2 phases."
      ],
      "completedAt": "2025-12-13T08:15:43Z"
    },
    {
      "id": "T075",
      "title": "Add CI/CD integration documentation and examples",
      "status": "pending",
      "priority": "low",
      "createdAt": "2025-12-12T20:24:25Z",
      "phase": "polish",
      "description": "Add docs/ci-cd-integration.md with examples for: GitHub Actions, GitLab CI, Jenkins, Azure DevOps. Task validation, report generation, pre-deployment checks.",
      "labels": [
        "ci-cd",
        "docs",
        "v0.10.0"
      ]
    },
    {
      "id": "T076",
      "title": "Optimize performance for 1000+ task datasets",
      "status": "pending",
      "priority": "low",
      "createdAt": "2025-12-12T20:24:26Z",
      "phase": "polish",
      "description": "Ensure all commands meet performance targets (<100ms list, <1s stats) for 1000+ tasks. Streaming jq for large files, pagination defaults, lazy loading.",
      "labels": [
        "optimization",
        "performance",
        "v0.10.0"
      ]
    },
    {
      "id": "T077",
      "title": "Add BATS test suite for output formats",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T20:24:34Z",
      "phase": "polish",
      "description": "BATS tests for: all output formats (json, jsonl, csv, tsv, table, markdown), color modes (NO_COLOR, FORCE_COLOR), terminal width adaptation, JSON schema validation with ajv-cli.",
      "labels": [
        "testing",
        "output"
      ],
      "completedAt": "2025-12-13T08:08:23Z",
      "notes": [
        "[COMPLETED 2025-12-13T08:08:23Z] Verified: 796 BATS tests across 25 test files. Coverage: unit tests for all commands, integration tests for workflow, circular-deps, error-recovery, archive-atomic."
      ]
    },
    {
      "id": "T078",
      "title": "Create golden file tests for output regression",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-12T20:24:35Z",
      "phase": "polish",
      "description": "Golden file tests in tests/golden/. Snapshot expected output for list, stats, dash, deps commands. UPDATE_GOLDEN=1 workflow. Normalize timestamps and paths.",
      "labels": [
        "testing",
        "golden-files"
      ],
      "notes": [
        "2025-12-13 08:08:34 UTC: Phase 4 verification: No golden files (*.expected, *.golden, *snapshot*) found in tests/. Golden file regression testing not implemented.",
        "[COMPLETED 2025-12-13T08:17:20Z] Implemented: tests/golden/ with 16 golden file tests covering list, stats, labels, phases, dash, deps, blockers, export commands. UPDATE_GOLDEN=1 workflow. Timestamp/checksum normalization. All tests passing."
      ],
      "completedAt": "2025-12-13T08:17:20Z"
    },
    {
      "id": "T132",
      "title": "P0: Fix task ID collision under concurrent operations",
      "status": "pending",
      "priority": "critical",
      "createdAt": "2025-12-13T05:49:34Z",
      "description": "File locking exists but ID generation happens BEFORE lock acquisition. Under concurrent load (5 parallel adds), all processes generate same ID causing 80% data loss. Solution: Move ID generation inside locked critical section. See claudedocs/P0-1-RACE-CONDITION-ISSUE.md for full root cause analysis, fix requirements, and implementation plan.",
      "labels": [
        "architectural-change",
        "critical-bug",
        "p0",
        "race-condition",
        "v0.9.6"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:58:48Z",
          "content": "Full documentation: claudedocs/P0-1-RACE-CONDITION-ISSUE.md - Requires architectural change to make ID generation atomic inside locked section"
        }
      ],
      "phase": "core"
    },
    {
      "id": "T133",
      "title": "P0: Fix archive --all JSON corruption",
      "status": "done",
      "priority": "critical",
      "createdAt": "2025-12-13T05:49:36Z",
      "description": "Fix atomic write operation in archive.sh causing JSON corruption during --all operation",
      "labels": [
        "critical-bug",
        "p0",
        "archive"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:58:27Z",
          "content": "Verified fixed during v0.8.3 comprehensive review"
        }
      ],
      "completedAt": "2025-12-13T07:58:27Z"
    },
    {
      "id": "T134",
      "title": "P0: Fix log.sh readonly variable conflict",
      "status": "done",
      "priority": "critical",
      "createdAt": "2025-12-13T05:49:37Z",
      "description": "Remove redefinition of readonly VALID_ACTIONS in log.sh:46 causing all log operations to fail",
      "labels": [
        "critical-bug",
        "p0",
        "log"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:17Z",
          "content": "Fixed and verified during v0.8.3 comprehensive fix"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T135",
      "title": "P0: Fix orphaned dependencies after archiving",
      "status": "done",
      "priority": "critical",
      "createdAt": "2025-12-13T05:49:38Z",
      "description": "Clean up dependency references before archiving to prevent referential integrity violations",
      "labels": [
        "critical-bug",
        "p0",
        "archive"
      ],
      "completedAt": "2025-12-13T08:12:41Z",
      "notes": [
        "[COMPLETED 2025-12-13T08:12:41Z] Verified: Archive correctly cleans orphaned dependencies. Tested: T001 archived, T002's depends changed from [T001] to null, T003's from [T001,T002] to [T002]. Code in archive.sh lines 249-258."
      ]
    },
    {
      "id": "T136",
      "title": "P0: Add duplicate ID detection to validate.sh",
      "status": "done",
      "priority": "critical",
      "createdAt": "2025-12-13T05:49:39Z",
      "description": "Add duplicate ID check to validate.sh - currently duplicate IDs pass validation causing data corruption risk",
      "labels": [
        "critical-bug",
        "p0",
        "validate"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:58:27Z",
          "content": "Verified fixed during v0.8.3 comprehensive review"
        }
      ],
      "completedAt": "2025-12-13T07:58:27Z"
    },
    {
      "id": "T137",
      "title": "P0: Fix init.sh checksum generation",
      "status": "done",
      "priority": "critical",
      "createdAt": "2025-12-13T05:49:40Z",
      "description": "Compute checksum as final step in init.sh - currently creates invalid checksum causing fresh projects to fail validation",
      "labels": [
        "critical-bug",
        "p0",
        "init"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:58:27Z",
          "content": "Verified fixed during v0.8.3 comprehensive review"
        }
      ],
      "completedAt": "2025-12-13T07:58:27Z"
    },
    {
      "id": "T138",
      "title": "P0: Fix complete --skip-notes invalid JSON",
      "status": "done",
      "priority": "critical",
      "createdAt": "2025-12-13T05:49:41Z",
      "description": "Debug JSON generation in complete-task.sh when --skip-notes is used - generates invalid JSON causing rollback",
      "labels": [
        "critical-bug",
        "p0",
        "complete"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:58:27Z",
          "content": "Verified fixed during v0.8.3 comprehensive review"
        }
      ],
      "completedAt": "2025-12-13T07:58:27Z"
    },
    {
      "id": "T139",
      "title": "P1: Update 12 scripts to show claude-todo in error messages",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-13T05:49:54Z",
      "description": "Scripts show script.sh in errors instead of claude-todo <cmd>. Update all usage() functions.",
      "labels": [
        "high-priority",
        "p1",
        "ux"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:17Z",
          "content": "Fixed and verified during v0.8.3 comprehensive fix"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T140",
      "title": "P1: Add _meta.format json field to all JSON outputs",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-13T05:49:55Z",
      "description": "All JSON outputs missing format: json field in _meta envelope",
      "labels": [
        "high-priority",
        "p1",
        "json"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:17Z",
          "content": "Fixed and verified during v0.8.3 comprehensive fix"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T141",
      "title": "P1: Fix labels command JSON output",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-13T05:49:56Z",
      "description": "Labels JSON output completely broken - outputs 28 nulls instead of proper JSON",
      "labels": [
        "high-priority",
        "p1",
        "labels"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:58:27Z",
          "content": "Verified fixed during v0.8.3 comprehensive review"
        }
      ],
      "completedAt": "2025-12-13T07:58:27Z"
    },
    {
      "id": "T142",
      "title": "P1: Add format validation to list command",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-13T05:49:57Z",
      "description": "list --format invalid silently falls back to text instead of showing error",
      "labels": [
        "high-priority",
        "p1",
        "list"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:58:27Z",
          "content": "Verified fixed during v0.8.3 comprehensive review"
        }
      ],
      "completedAt": "2025-12-13T07:58:27Z"
    },
    {
      "id": "T143",
      "title": "P1: Fix unicodeEnabled config option",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-13T05:49:59Z",
      "description": "unicodeEnabled config ignored - Unicode box-drawing shown even when false",
      "labels": [
        "high-priority",
        "p1",
        "config"
      ],
      "notes": [
        {
          "timestamp": "2025-12-13T07:57:17Z",
          "content": "Fixed and verified during v0.8.3 comprehensive fix"
        }
      ],
      "completedAt": "2025-12-13T07:57:23Z"
    },
    {
      "id": "T144",
      "title": "Fix validate checksum recovery test",
      "status": "pending",
      "priority": "medium",
      "createdAt": "2025-12-13T16:11:31Z",
      "description": "Tests failing: Unit T211, Integration T33, T34. Tests: validate --fix recovers from checksum mismatch, validate --fix preserves task data. Root cause: checksum recalculation or file handling in validate.sh --fix mode. See: scripts/validate.sh, lib/validation.sh",
      "labels": [
        "bats",
        "issue",
        "test",
        "v0.9.6",
        "validation"
      ],
      "phase": "core"
    },
    {
      "id": "T145",
      "title": "Fix orphaned dependency cleanup tests",
      "status": "pending",
      "priority": "medium",
      "createdAt": "2025-12-13T16:11:39Z",
      "description": "Tests failing: Unit T216, T217, Integration T42, T43. Tests: orphaned dependencies cleaned on archive, multiple orphaned dependencies all cleaned, orphaned dependency cleanup preserves other dependencies. Root cause: archive.sh dependency cleanup logic not handling all edge cases. See: scripts/archive.sh, lib/analysis.sh",
      "labels": [
        "archive",
        "bats",
        "dependencies",
        "issue",
        "test",
        "v0.9.6"
      ],
      "phase": "core"
    },
    {
      "id": "T146",
      "title": "Fix file locking concurrency tests",
      "status": "pending",
      "priority": "low",
      "createdAt": "2025-12-13T16:11:41Z",
      "description": "Tests failing: Unit T274, T279, T280, T283. Tests: concurrent lock timeout, lock released on error, lock timeout configurable, race condition prevention. Root cause: timing-sensitive tests that depend on system load and flock behavior. May need test isolation or mocking. See: lib/file-ops.sh lock_file() unlock_file()",
      "labels": [
        "bats",
        "concurrency",
        "flaky",
        "issue",
        "test",
        "v0.9.6"
      ],
      "phase": "core",
      "notes": [
        "2025-12-13 18:42:49 UTC: Reference docs: claudedocs/FILE-LOCKING-ANALYSIS.md, claudedocs/file-locking-quick-reference.md"
      ]
    },
    {
      "id": "T147",
      "title": "Fix stats command tests",
      "status": "pending",
      "priority": "medium",
      "createdAt": "2025-12-13T16:11:42Z",
      "description": "Tests failing: Unit T606, T621, T631. Tests: stats --period invalid shows error, stats shows 'tasks' for count > 1 (pluralization), stats handles missing .claude directory. Root cause: stats.sh validation and edge case handling. See: scripts/stats.sh",
      "labels": [
        "bats",
        "issue",
        "stats",
        "test",
        "v0.9.6"
      ],
      "phase": "core"
    },
    {
      "id": "T148",
      "title": "Test task",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-13T16:11:57Z",
      "labels": [],
      "completedAt": "2025-12-13T18:50:59Z",
      "notes": [
        "[COMPLETED 2025-12-13T18:50:59Z] Test task - cleaning up"
      ]
    },
    {
      "id": "T149",
      "title": "Test with options",
      "status": "done",
      "priority": "critical",
      "createdAt": "2025-12-13T16:12:06Z",
      "description": "This is a test",
      "labels": [
        "bug",
        "security"
      ],
      "completedAt": "2025-12-13T16:12:12Z",
      "notes": [
        "[COMPLETED 2025-12-13T16:12:12Z] Test completion"
      ]
    },
    {
      "id": "T150",
      "title": "Test",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-13T16:12:22Z",
      "files": [
        "src/file.ts",
        "lib/util.js"
      ],
      "labels": [],
      "completedAt": "2025-12-13T18:50:59Z",
      "notes": [
        "[COMPLETED 2025-12-13T18:50:59Z] Test task - cleaning up"
      ]
    },
    {
      "id": "T151",
      "title": "Test",
      "status": "done",
      "priority": "medium",
      "createdAt": "2025-12-13T16:12:31Z",
      "labels": [],
      "completedAt": "2025-12-13T18:50:59Z",
      "notes": [
        "[COMPLETED 2025-12-13T18:50:59Z] Test task - cleaning up"
      ]
    },
    {
      "id": "T152",
      "title": "Fix complete-task.sh backup rotation (no rotation bug)",
      "status": "done",
      "priority": "critical",
      "createdAt": "2025-12-13T18:09:20Z",
      "phase": "core",
      "description": "Line 181 creates unlimited backup files with no cleanup. Add rotation after backup creation. See claudedocs/BACKUP-ARCHITECTURE.md Issue 1. Verify: ls .claude/.backups/todo.json.* | wc -l should stay under configured max.",
      "labels": [
        "backup-system",
        "bug-fix",
        "critical"
      ],
      "completedAt": "2025-12-13T18:40:11Z",
      "notes": [
        "[COMPLETED 2025-12-13T18:40:11Z] Implemented rotation logic in complete-task.sh (lines 185-203). MAX_COMPLETE_BACKUPS=10 with mtime-based sorting. Cross-platform support for GNU find and macOS stat. Commit: ebdf524"
      ]
    },
    {
      "id": "T153",
      "title": "Fix file-ops.sh path calculation bug (nested directories)",
      "status": "done",
      "priority": "critical",
      "createdAt": "2025-12-13T18:09:21Z",
      "phase": "core",
      "description": "Lines 180, 231 concatenate paths incorrectly creating .claude/.claude/.backups/. Change BACKUP_DIR to relative .backups OR use absolute path calculation. See claudedocs/BACKUP-ARCHITECTURE.md Issue 2. Verify: no nested .claude/.claude/ should exist.",
      "labels": [
        "backup-system",
        "bug-fix",
        "critical"
      ],
      "completedAt": "2025-12-13T18:40:12Z",
      "notes": [
        "[COMPLETED 2025-12-13T18:40:12Z] Changed BACKUP_DIR from '.claude/.backups' to '.backups' (relative path). Fixes nested directory bug. Updated file-ops.sh line 24. Cleaned up legacy .claude/.claude/ directory. Commit: ebdf524"
      ]
    },
    {
      "id": "T154",
      "title": "Fix safe_find edge cases with mtime-based sorting",
      "status": "done",
      "priority": "critical",
      "createdAt": "2025-12-13T18:09:22Z",
      "phase": "core",
      "description": "Lines 250, 409, 540 in file-ops.sh use filename-based sorting that fails with mixed formats. Add safe_find_sorted_by_mtime() to platform-compat.sh using find -printf for mtime sorting. See claudedocs/BACKUP-ARCHITECTURE.md Issue 3 for full implementation.",
      "labels": [
        "backup-system",
        "bug-fix",
        "critical"
      ],
      "completedAt": "2025-12-13T18:40:14Z",
      "notes": [
        "[COMPLETED 2025-12-13T18:40:14Z] Added safe_find_sorted_by_mtime() function to platform-compat.sh (lines 309-337). Updated file-ops.sh rotate_backups(), restore_backup(), list_backups() to use mtime sorting. Cross-platform: GNU find -printf + BSD stat fallback. Commit: ebdf524"
      ]
    },
    {
      "id": "T155",
      "title": "Create docs/commands/restore.md documentation",
      "status": "done",
      "priority": "critical",
      "createdAt": "2025-12-13T18:09:24Z",
      "phase": "core",
      "description": "scripts/restore.sh exists and works but has no user documentation. Create comprehensive restore.md with: full command reference, step-by-step procedures, compressed backup restoration, selective file restore, rollback procedures. Use backup.md as template. See claudedocs/BACKUP-ARCHITECTURE.md Issue 4.",
      "labels": [
        "backup-system",
        "critical",
        "documentation"
      ],
      "completedAt": "2025-12-13T18:40:15Z",
      "notes": [
        "[COMPLETED 2025-12-13T18:40:15Z] Created comprehensive docs/commands/restore.md (937 lines). Includes: full command reference, step-by-step procedures, recovery scenarios, troubleshooting, best practices. Modeled after backup.md. Commit: ebdf524"
      ]
    },
    {
      "id": "T156",
      "title": "Update QUICK-REFERENCE.md with restore commands",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-13T18:09:25Z",
      "phase": "core",
      "description": "Add restore command examples to docs/QUICK-REFERENCE.md. Include: claude-todo restore <backup-id>, claude-todo restore --file todo.json, backup/restore quick reference section.",
      "labels": [
        "backup-system",
        "documentation"
      ],
      "depends": [
        "T152",
        "T153",
        "T154",
        "T155"
      ],
      "completedAt": "2025-12-13T18:40:26Z",
      "notes": [
        "[COMPLETED 2025-12-13T18:40:26Z] Updated docs/QUICK-REFERENCE.md with restore commands. Added: claude-todo restore <backup-path>, --file, --force options. Updated docs/INDEX.md with restore.md reference. Commit: ebdf524"
      ]
    },
    {
      "id": "T157",
      "title": "Test backup system fixes end-to-end",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-13T18:09:26Z",
      "phase": "core",
      "description": "Run all backup fix verification tests: 1) Rotation works (create 15 tasks, verify backup count), 2) No nested directories, 3) mtime sorting works with mixed formats, 4) Full backup/restore cycle. See prompt instructions STEP 5 in session notes.",
      "labels": [
        "backup-system",
        "testing"
      ],
      "depends": [
        "T152",
        "T153",
        "T154"
      ],
      "completedAt": "2025-12-13T18:40:27Z",
      "notes": [
        "[COMPLETED 2025-12-13T18:40:27Z] All tests verified: 1) Syntax validation passed (5 files), 2) Rotation working (log shows 'Rotating N old backup(s)'), 3) No nested directories after cleanup, 4) safe_find_sorted_by_mtime exists and exported, 5) BATS 96.6% pass rate (27 pre-existing failures unrelated to backup changes). Commit: ebdf524"
      ]
    },
    {
      "id": "T158",
      "title": "Bump version to 0.9.5 and update CHANGELOG for backup fixes",
      "status": "done",
      "priority": "high",
      "createdAt": "2025-12-13T18:09:27Z",
      "phase": "core",
      "description": "After all fixes verified: 1) Bump VERSION to 0.9.5, 2) Update CHANGELOG.md with: Fixed complete-task.sh rotation, Fixed file-ops.sh path bug, Fixed safe_find edge cases, Added restore.md documentation.",
      "labels": [
        "backup-system",
        "release"
      ],
      "depends": [
        "T156",
        "T157"
      ],
      "completedAt": "2025-12-13T18:40:28Z",
      "notes": [
        "[COMPLETED 2025-12-13T18:40:28Z] VERSION bumped 0.9.4 → 0.9.5. CHANGELOG.md updated with: Fixed complete-task.sh rotation, Fixed file-ops.sh path bug, Fixed safe_find edge cases, Added docs/commands/restore.md. Commit: ebdf524"
      ]
    },
    {
      "id": "T159",
      "title": "Fix integration workflow tests (full lifecycle, dependencies)",
      "status": "pending",
      "priority": "medium",
      "createdAt": "2025-12-13T18:40:41Z",
      "description": "14 integration tests failing: T57-64 (lifecycle/dependency workflows), T69-71 (validation workflows). Tests: full task lifecycle, multiple tasks with dependencies, session workflows, dependency chain completion, unblock workflows, validation workflows, batch operations. Root cause: likely timing or state management issues in complex multi-step scenarios.",
      "labels": [
        "bats",
        "integration",
        "issue",
        "test",
        "v0.9.6"
      ],
      "phase": "core"
    },
    {
      "id": "T160",
      "title": "Fix schema validation tests (invalid schema, missing fields)",
      "status": "pending",
      "priority": "medium",
      "createdAt": "2025-12-13T18:40:42Z",
      "description": "2 tests failing: T51 (invalid schema version handled gracefully), T52 (missing required fields detected). Root cause: schema validation edge cases in migrate.sh or validate.sh not handling error conditions correctly.",
      "labels": [
        "bats",
        "issue",
        "schema",
        "test",
        "v0.9.6"
      ],
      "phase": "core"
    },
    {
      "id": "T161",
      "title": "Create unified lib/backup.sh library",
      "status": "pending",
      "priority": "high",
      "createdAt": "2025-12-13T18:41:23Z",
      "phase": "polish",
      "description": "Phase 1 of unified backup architecture. Create centralized backup library with: create_backup(type, file, options), restore_backup(backup_id, options), rotate_backups(type, max), list_backups(type), get_backup_metadata(backup_id). Types: snapshot, safety, incremental, archive, migration. See: claudedocs/BACKUP-ARCHITECTURE.md for full spec.",
      "labels": [
        "architecture",
        "backup-system",
        "v0.10.0"
      ],
      "notes": [
        "2025-12-13 18:42:51 UTC: Reference docs: claudedocs/BACKUP-ARCHITECTURE.md, claudedocs/BACKUP-SYSTEM-STATUS.md"
      ]
    },
    {
      "id": "T162",
      "title": "Integrate scripts with unified backup library",
      "status": "pending",
      "priority": "high",
      "createdAt": "2025-12-13T18:41:25Z",
      "phase": "polish",
      "description": "Phase 2 of unified backup architecture. Update all scripts to use lib/backup.sh: complete-task.sh, archive.sh, migrate.sh, init.sh. Remove inline backup code, use centralized functions. See: claudedocs/BACKUP-ARCHITECTURE.md Phase 2.",
      "labels": [
        "architecture",
        "backup-system",
        "v0.10.0"
      ],
      "depends": [
        "T161"
      ]
    },
    {
      "id": "T163",
      "title": "Implement backup type taxonomy and directory structure",
      "status": "pending",
      "priority": "medium",
      "createdAt": "2025-12-13T18:41:26Z",
      "phase": "polish",
      "description": "New directory structure: .claude/backups/snapshot/, .claude/backups/safety/, .claude/backups/incremental/, .claude/backups/archive/, .claude/backups/migration/. Each backup includes metadata JSON with timestamp, type, source, checksum, description. See: claudedocs/BACKUP-ARCHITECTURE.md unified directory structure.",
      "labels": [
        "architecture",
        "backup-system",
        "v0.10.0"
      ],
      "depends": [
        "T161"
      ]
    },
    {
      "id": "T164",
      "title": "Add legacy backup migration command",
      "status": "pending",
      "priority": "medium",
      "createdAt": "2025-12-13T18:41:27Z",
      "phase": "polish",
      "description": "Phase 3 of unified architecture. Create 'claude-todo backup migrate-legacy' command to move old backups from .claude/.backups/ to new .claude/backups/ structure. Classify by age/type, generate metadata. See: claudedocs/BACKUP-ARCHITECTURE.md Phase 3.",
      "labels": [
        "backup-system",
        "migration",
        "v0.10.0"
      ],
      "depends": [
        "T162"
      ]
    },
    {
      "id": "T165",
      "title": "Extend config schema for backup settings",
      "status": "pending",
      "priority": "low",
      "createdAt": "2025-12-13T18:41:28Z",
      "phase": "polish",
      "description": "Add backup configuration to todo-config.json: maxBackups per type, retentionDays per type, compressionEnabled, autoCleanup settings. Update schemas/todo-config.schema.json. See: claudedocs/BACKUP-ARCHITECTURE.md config extensions.",
      "labels": [
        "backup-system",
        "config",
        "schema",
        "v0.10.0"
      ],
      "depends": [
        "T163"
      ]
    }
  ],
  "phases": {
    "setup": {
      "order": 1,
      "name": "Setup & Foundation"
    },
    "core": {
      "order": 2,
      "name": "Core Development"
    },
    "polish": {
      "order": 3,
      "name": "Polish & Launch"
    }
  },
  "labels": {}
}
