---
title: "Output Formats"
description: "JSON, CSV, text, and other output format options for CLEO commands"
icon: "file-export"
---

# Output Formats

CLEO commands support multiple output formats for different use cases. This reference covers format options and usage patterns.

## Format Auto-Detection

CLEO automatically detects the appropriate output format:

| Context | Default Format |
|---------|---------------|
| Interactive terminal (TTY) | Text (human-readable) |
| Piped output (non-TTY) | JSON |
| Explicit `--format` flag | Specified format |

```bash
# Terminal: text output
cleo list

# Piped: JSON output
cleo list | jq '.tasks[]'

# Explicit format
cleo list --format json
cleo list --format text
```

## Available Formats

<Tabs>
  <Tab title="JSON">
    **Flag**: `--format json` or `--json`

    **Use**: LLM agents, scripting, data processing

    ```bash
    cleo list --json
    ```

    ```json
    {
      "_meta": {
        "command": "list",
        "timestamp": "2025-01-19T12:00:00Z"
      },
      "summary": {
        "total": 15,
        "pending": 10,
        "active": 1
      },
      "tasks": [
        {
          "id": "T001",
          "title": "Implement auth",
          "status": "active"
        }
      ]
    }
    ```
  </Tab>

  <Tab title="Text">
    **Flag**: `--format text` or `--human`

    **Use**: Human reading, terminal display

    ```bash
    cleo list --human
    ```

    ```
    Tasks (15 total)
    ================

    [T001] Implement auth (active) - high
           Phase: core | Labels: backend, security

    [T002] Fix login bug (pending) - critical
           Phase: core | Labels: bug
    ```
  </Tab>

  <Tab title="Compact">
    **Flag**: `--compact`

    **Use**: Quick overview, limited space

    ```bash
    cleo list --compact
    ```

    ```
    T001  active   high  Implement auth
    T002  pending  crit  Fix login bug
    T003  blocked  med   Add tests
    ```
  </Tab>

  <Tab title="CSV/TSV">
    **Flag**: `--format csv` or `--format tsv`

    **Use**: Spreadsheets, data export

    ```bash
    cleo export --format csv > tasks.csv
    ```

    ```csv
    id,title,status,priority,labels
    T001,Implement auth,active,high,"backend,security"
    T002,Fix login bug,pending,critical,"bug"
    ```
  </Tab>

  <Tab title="Markdown">
    **Flag**: `--format markdown`

    **Use**: Documentation, reports

    ```bash
    cleo list --format markdown
    ```

    ```markdown
    ## Tasks

    - [ ] **T001**: Implement auth (high)
    - [ ] **T002**: Fix login bug (critical)
    - [x] **T003**: Set up CI (done)
    ```
  </Tab>
</Tabs>

## JSON Envelope Structure

All JSON output follows a consistent envelope:

```json
{
  "_meta": {
    "command": "command-name",
    "timestamp": "ISO-8601",
    "version": "0.54.0"
  },
  "summary": {
    // Command-specific summary
  },
  "data": {
    // Main payload (or "tasks", "task", etc.)
  },
  "error": {
    // Present only on error
    "code": "E_NOT_FOUND",
    "message": "Task T999 not found",
    "fix": "cleo list --status pending"
  }
}
```

## Color Control

### Disable Colors

```bash
# Standard NO_COLOR environment variable
NO_COLOR=1 cleo list

# Also works
CLEO_NO_COLOR=1 cleo list
```

### Force Colors

```bash
# Force colors even in piped output
FORCE_COLOR=1 cleo list | less -R
```

## Command-Specific Formats

<AccordionGroup>
  <Accordion title="list command" icon="list">
    | Format | Description |
    |--------|-------------|
    | `text` | Full task details with colors |
    | `json` | Complete task objects |
    | `compact` | One-line per task |
    | `markdown` | Checklist format |
    | `table` | ASCII table |
  </Accordion>

  <Accordion title="analyze command" icon="chart-line">
    **Default**: JSON (designed for LLM agents)

    | Format | Description |
    |--------|-------------|
    | `json` | Structured analysis with scores |
    | `human` | Text summary with recommendations |
  </Accordion>

  <Accordion title="export command" icon="file-export">
    | Format | Description |
    |--------|-------------|
    | `csv` | Comma-separated values |
    | `tsv` | Tab-separated values |
    | `json` | Full JSON export |
    | `jsonl` | JSON Lines (one per line) |
  </Accordion>

  <Accordion title="dash command" icon="gauge">
    | Format | Description |
    |--------|-------------|
    | `text` | ASCII dashboard |
    | `json` | Structured metrics |
    | `compact` | Single-line summary |
  </Accordion>
</AccordionGroup>

## Minimal Error Output (Token Optimization)

<Note>
  **New in v0.74.1**: Error responses now use minimal context by default, reducing token usage by up to 93%.
</Note>

Error responses are optimized for LLM agent token efficiency. Large arrays (sessions, epics) are replaced with counts by default.

### Default Behavior

Error output includes only essential information:

```json
{
  "success": false,
  "error": {
    "code": "E_SESSION_DISCOVERY_MODE",
    "message": "Multi-session enabled. 9 active sessions exist.",
    "fix": "cleo session status",
    "exitCode": 100,
    "context": {
      "activeSessions": 9,
      "sessionsCount": 9,
      "epicsCount": 34,
      "hint": "Use CLEO_VERBOSE=1 or --verbose for full context"
    }
  }
}
```

### Verbose Mode

To get full context (for debugging), use `CLEO_VERBOSE=1`:

```bash
# Full error context with complete arrays
CLEO_VERBOSE=1 cleo session start --name "test"

# Or use in scripts
export CLEO_VERBOSE=1
cleo session start --scope epic:T001
```

### Token Savings

| Mode | Output Size | Use Case |
|------|-------------|----------|
| Default (minimal) | ~1,000 chars | Normal LLM agent usage |
| Verbose | ~15,000 chars | Debugging, human inspection |

<Warning>
  The verbose output includes full session objects, focus history, and epic arrays. Only use when debugging.
</Warning>

## LLM Agent Best Practices

<CardGroup cols={2}>
  <Card title="Use JSON for Parsing" icon="code">
    Always use `--json` when processing output programmatically
  </Card>
  <Card title="Prefer Native Filters" icon="filter">
    Use `--status`, `--label`, `--phase` instead of `| jq 'select(...)'`
  </Card>
  <Card title="Check success Field" icon="check">
    Always verify `"success": true` in JSON responses
  </Card>
  <Card title="Use find for Discovery" icon="magnifying-glass">
    `cleo find` returns minimal output (99% less than list)
  </Card>
</CardGroup>

## Next Steps

<CardGroup cols={2}>
  <Card title="Exit Codes" icon="hashtag" href="/api/exit-codes">
    CLI exit code reference
  </Card>
  <Card title="Configuration" icon="gear" href="/api/configuration">
    Configure CLEO behavior
  </Card>
</CardGroup>
