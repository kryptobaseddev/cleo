{"id":"ADR-001","file":".cleo/adrs/archive/ADR-001-storage-architecture.md","title":"ADR-001: Storage Architecture Decision (JSONL vs SQLite+Vectors)","status":"accepted","date":"2026-02-14"}
{"id":"ADR-002","file":".cleo/adrs/archive/ADR-002-hybrid-storage-strategy.md","title":"ADR-002: Hybrid Storage Strategy (JSON + SQLite + JSONL)","status":"accepted","date":"2026-02-14","supersedes":"ADR-001 (partially — retains JSON for config/logs, introduces SQLite for task domain)"}
{"id":"ADR-003","file":".cleo/adrs/ADR-003-mcp-engine-unification.md","title":"ADR-003: MCP Engine Unification","status":"accepted","date":"2026-02-16","accepted":"2026-02-16","relatedTasks":["T4628","T4554"],"summary":"Eliminates CLEO's dual-engine architecture by unifying all MCP operations to delegate to src/core/ shared logic. The standalone mcp-server/ package was merged into src/mcp/, removing ~3,000 lines of duplicated engine code.","keywords":["mcp","engine","unification","shared-core","dual-engine","refactor"],"topics":["admin","orchestrate","tools"]}
{"id":"ADR-004","file":".cleo/adrs/ADR-004-typescript-first-architecture.md","title":"ADR-004: TypeScript-First Architecture","status":"accepted","date":"2026-02-16","accepted":"2026-02-16","relatedTasks":["T4628","T4554"],"summary":"Migrates CLEO from 185+ Bash shell scripts (133,000 lines) to a TypeScript-first architecture. All new functionality is implemented in TypeScript under src/. Bash scripts in scripts/ and lib/ are deprecated and pending removal.","keywords":["typescript","bash","migration","architecture","shared-core","esm","commander"],"topics":["admin","tools","naming"]}
{"id":"ADR-005","file":".cleo/adrs/ADR-005-migration-safety.md","title":"ADR-005: Migration Safety Architecture","status":"accepted","date":"2026-02-18","accepted":"2026-02-18","summary":"Establishes safety architecture for JSON→SQLite data migrations. Implements atomic write, checkpoint/rollback, and data loss prevention guards to protect against migration failures.","keywords":["migration","safety","sqlite","json","backup","checkpoint","rollback","data-loss"],"topics":["storage","migration","security"]}
{"id":"ADR-006","file":".cleo/adrs/ADR-006-canonical-sqlite-storage.md","title":"ADR-006: Canonical SQLite Storage Architecture","status":"accepted","date":"2026-02-21","accepted":"2026-02-21","supersedes":"ADR-001, ADR-002","amendedBy":"ADR-010, ADR-011, ADR-017","summary":"Establishes SQLite as the canonical runtime store for all CLEO operational data, replacing scattered JSON files. Defines the schema for tasks, sessions, lifecycle pipelines, and ADR tracking. All MCP and CLI operations must read/write through SQLite.","keywords":["sqlite","storage","schema","canonical","json","tasks","sessions","lifecycle","architecture_decisions"],"topics":["storage","tasks","session","pipeline","admin"]}
{"id":"ADR-007","file":".cleo/adrs/archive/ADR-007-domain-consolidation-v1-proposed.md","title":"ADR-007: CLEO Domain Consolidation — 9-Domain Architecture with Unified Dispatch","status":"proposed","date":"2026-02-22","supersedes":"All prior domain architecture documents"}
{"id":"ADR-007","file":".cleo/adrs/ADR-007-domain-consolidation.md","title":"ADR-007: CLEO Domain Architecture — 9-Domain Shared-Core Model","status":"accepted","date":"2026-02-22","accepted":"2026-02-25","relatedTasks":["T4772","T4820","T4813","T4894"],"summary":"Consolidates CLEO's dispatch architecture into 9 canonical domains: tasks, session, memory, check, pipeline, orchestrate, tools, admin, nexus. All MCP and CLI operations must use these domain namespaces with dot-notation. Admin domain owns ADR management operations (adr.list, adr.show, adr.find, adr.sync, adr.validate).","keywords":["domains","dispatch","mcp","cli","operations","admin","tasks","session","pipeline","nexus","orchestrate"],"topics":["admin","orchestrate","tasks","session","naming"]}
{"id":"ADR-008","file":".cleo/adrs/ADR-008-CLEO-CANONICAL-ARCHITECTURE.md","title":"ADR-008: CLEO Canonical Architecture — Shared-Core with CQRS Dispatch","status":"accepted","date":"2026-02-22","accepted":"2026-02-22","amendedBy":"ADR-017","relatedTasks":["T4797","T4781","T4813","T4863","T4800"],"summary":"Defines the canonical shared-core + CQRS dispatch architecture. src/core/ is the single source of truth for all business logic. CLI and MCP are thin wrappers that parse/translate then delegate to core. Introduces the dispatch layer (cleo_query/cleo_mutate) as the uniform interface.","keywords":["architecture","shared-core","cqrs","dispatch","mcp","cli","core","canonical"],"topics":["admin","orchestrate","tools","naming"]}
{"id":"ADR-009","file":".cleo/adrs/ADR-009-BRAIN-cognitive-architecture.md","title":"ADR-009: CLEO BRAIN Cognitive Architecture — Unified Reference","status":"proposed","date":"2026-02-22","relatedTasks":["T2971","T2996","T4797"],"summary":"Unifies the BRAIN cognitive architecture across scattered documents. Establishes SQLite as the runtime store for BRAIN memory (decisions, patterns, learnings), defines Vectorless RAG as the primary retrieval method, and maps the 5 BRAIN dimensions to CLEO's 9 canonical domains.","keywords":["brain","cognitive","memory","rag","vectorless","sqlite","retrieval","embeddings","dimensions"],"topics":["memory","storage","orchestrate","nexus"]}
{"id":"ADR-010","file":".cleo/adrs/ADR-010-node-sqlite-engine-choice.md","title":"ADR-010: SQL Engine & ORM Layer Selection","status":"accepted","date":"2026-02-23","accepted":"2026-02-23","amends":"ADR-006","relatedTasks":["T4817"],"summary":"Selects node:sqlite (Node.js built-in, v22.5+) over sql.js and better-sqlite3 as the SQLite engine, paired with drizzle-orm/sqlite-proxy as the ORM layer. Zero native dependencies, cross-platform, WAL mode enabled.","keywords":["sqlite","node-sqlite","drizzle-orm","orm","sql-engine","wasm","better-sqlite3","wal"],"topics":["storage","admin","migration"]}
{"id":"ADR-011","file":".cleo/adrs/ADR-011-project-configuration-architecture.md","title":"ADR-011: Project Configuration Architecture","status":"accepted","date":"2026-02-23","accepted":"2026-02-23","amends":"ADR-006 (Section 1)","summary":"Documents the three .cleo/ configuration files (config.json, project-context.json, global-config.json), their purposes, ownership, and how project-context.json reaches LLM agents through AGENT-INJECTION.md.","keywords":["config","project-context","global-config","llm","agent-injection","configuration"],"topics":["admin","tools"]}
{"id":"ADR-012","file":".cleo/adrs/ADR-012-drizzle-kit-migration-system.md","title":"ADR-012: Drizzle-Kit Migration System for DDL Management","status":"accepted","date":"2026-02-23","accepted":"2026-02-23","amends":"ADR-006 Section 4 (replaces manual SQL with schema.ts-generated DDL), ADR-010 Sections 5.2/7.5 (fulfills drizzle-kit adoption recommendation)","relatedTasks":["T4817","T4837"],"summary":"Adopts drizzle-kit as the DDL migration management tool. schema.ts is the single source of truth for DB schema; drizzle-kit generate produces migration.sql + snapshot.json pairs. Manual SQL migrations are forbidden. Custom migrations require --custom flag for CHECK constraint changes.","keywords":["drizzle-kit","migration","schema","ddl","generate","snapshot","check-constraint","custom"],"topics":["storage","migration","schema","admin"]}
{"id":"ADR-013","file":".cleo/adrs/ADR-013-data-integrity-checkpoint-architecture.md","title":"ADR-013: Data Integrity & Checkpoint Architecture","status":"proposed","date":"2026-02-25","relatedTasks":["T4867","T4868","T4869"],"gate":"HITL","gateStatus":"pending","summary":"Addresses two critical bugs in git-checkpoint.ts that pollute the project git history. Proposes isolating .cleo/ checkpoint commits to a dedicated git worktree or orphan branch to prevent history contamination.","keywords":["git","checkpoint","data-integrity","atomic","backup","isolation","git-history"],"topics":["storage","security","admin"]}
{"id":"ADR-014","file":".cleo/adrs/ADR-014-rcasd-rename-and-protocol-validation.md","title":"ADR-014: RCASD Rename and Protocol Output Validation Architecture","status":"proposed","date":"2026-02-25","relatedTasks":["T4855","T4856","T4857","T4858","T4859"],"summary":"Renames the RCSD pipeline to RCASD (Research→Consensus→ADR→Spec→Decompose) to make the ADR stage explicit in the lifecycle. Adds protocol output validation to ensure pipeline stage artifacts meet format requirements.","keywords":["rcasd","rcsd","pipeline","protocol","validation","lifecycle","stages","rename"],"topics":["pipeline","lifecycle","admin","check"]}
{"id":"ADR-015","file":".cleo/adrs/ADR-015-multi-contributor-architecture.md","title":"ADR-015: Multi-Contributor .cleo/ Architecture","status":"accepted","date":"2026-02-25","accepted":"2026-02-25","relatedTasks":["T4880","T4881","T4882","T4883","T4884"],"gate":"HITL","gateStatus":"passed","summary":"Establishes how multiple AI agents and human contributors can safely share the .cleo/ directory. Introduces contributor isolation, lock files for concurrent write safety, and per-contributor audit trails.","keywords":["multi-contributor","agents","concurrent","lock","isolation","audit","cleo-dir"],"topics":["orchestrate","session","storage","security"]}
{"id":"ADR-016","file":".cleo/adrs/ADR-016-installation-channels-and-dev-runtime-isolation.md","title":"ADR-016: Installation Channels and Dev Runtime Isolation","status":"accepted","date":"2026-02-25","accepted":"2026-02-25","relatedTasks":["T4881","T4882","T4883","T4884","T4885","T4886","T4887","T4888"],"summary":"Defines three CLEO installation channels (npm global, npm local, dev symlink) and establishes runtime isolation between dev and production instances. Prevents the dev source tree from affecting production .cleo/ data.","keywords":["installation","channels","npm","global","local","dev","symlink","runtime-isolation","npm-link"],"topics":["admin","tools","security"]}
{"id":"ADR-017","file":".cleo/adrs/ADR-017-verb-and-naming-standards.md","title":"ADR-017: Verb and Naming Standards","status":"accepted","date":"2026-02-26","accepted":"2026-02-26","amends":"ADR-006 (§3 ADR Lifecycle Tooling), ADR-008 (§14 File Naming, §15.2 Verb Standards)","relatedTasks":["T4732","T4791","T4792","T4942"],"summary":"Establishes the canonical naming, verb, and frontmatter standards for CLEO ADRs. Extends architecture_decisions DB with lifecycle tracking columns and adds cognitive search fields (summary, keywords, topics) to enable agent-native ADR discovery via admin.adr.find.","keywords":["naming","verbs","frontmatter","adr","schema","db","cognitive-search","dispatch"],"topics":["admin","naming","storage","schema"]}
{"id":"ADR-018","file":".cleo/adrs/ADR-018-unified-status-registry.md","title":"ADR-018: Unified Status Registry","status":"accepted","date":"2026-02-26","amends":"ADR-006 (§4 Lifecycle Pipeline/Stage enums)","relatedTasks":["TBD"],"gate":"HITL","gateStatus":"passed","summary":"Consolidates all status enumerations into a single source of truth at src/store/status-registry.ts. Eliminates scattered hardcoded strings for task, session, lifecycle pipeline/stage, ADR, gate, and manifest statuses.","keywords":["status","enum","registry","task-status","session-status","lifecycle","pipeline","stage"],"topics":["tasks","session","pipeline","storage","schema"]}
