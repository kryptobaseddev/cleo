---
title: "Project Configuration"
description: "Configure CLEO for any testing framework and project type"
icon: "gear"
---

# Project-Agnostic Configuration

CLEO supports 16+ testing frameworks across Node.js, Python, Rust, Go, and other ecosystems. This guide covers configuration options for making CLEO work with your project.

## Quick Start

Auto-detect your project configuration:

```bash
# Preview detection results
cleo init --detect --dry-run

# Apply detected configuration
cleo init --detect
```

## Configuration Sections

### validation.testing

Test validation settings for release gates and task completion:

```json
{
  "validation": {
    "testing": {
      "enabled": true,
      "framework": "vitest",
      "command": "vitest run",
      "directory": "tests",
      "requirePassingTests": false,
      "runOnComplete": false,
      "testFilePatterns": ["**/*.test.ts"]
    }
  }
}
```

| Field | Type | Default | Description |
|-------|------|---------|-------------|
| `enabled` | boolean | `true` | Enable test validation |
| `framework` | enum | `"bats"` | Testing framework (see supported frameworks) |
| `command` | string | varies | Test execution command |
| `directory` | string | `"tests"` | Test directory path |
| `requirePassingTests` | boolean | `false` | Block operations on test failure |
| `runOnComplete` | boolean | `false` | Auto-run tests on task completion |
| `testFilePatterns` | array | varies | Glob patterns for test files |

### Supported Frameworks

CLEO supports 16 testing frameworks:

| Framework | Extension | Default Command | Ecosystem |
|-----------|-----------|-----------------|-----------|
| `bats` | `.bats` | `./tests/run-all-tests.sh` | Bash |
| `jest` | `.test.js` | `jest` | Node.js |
| `vitest` | `.test.ts` | `vitest run` | Node.js |
| `playwright` | `.spec.ts` | `playwright test` | Node.js |
| `cypress` | `.cy.js` | `cypress run` | Node.js |
| `mocha` | `.test.js` | `mocha` | Node.js |
| `ava` | `.test.js` | `ava` | Node.js |
| `uvu` | `.test.js` | `uvu` | Node.js |
| `tap` | `.test.js` | `tap` | Node.js |
| `node:test` | `.test.js` | `node --test` | Node.js |
| `deno` | `_test.ts` | `deno test` | Deno |
| `bun` | `.test.ts` | `bun test` | Bun |
| `pytest` | `_test.py` | `pytest` | Python |
| `go` | `_test.go` | `go test ./...` | Go |
| `cargo` | `.rs` | `cargo test` | Rust |
| `custom` | varies | user-defined | Any |

### testing (Comprehensive)

Detailed testing configuration:

```json
{
  "testing": {
    "framework": {
      "name": "vitest",
      "fileExtension": ".test.ts",
      "runCommand": "vitest run",
      "watchCommand": "vitest",
      "coverageCommand": "vitest --coverage",
      "configFile": "vitest.config.ts"
    },
    "directories": {
      "unit": "tests/unit/",
      "integration": "tests/integration/",
      "golden": "tests/golden/",
      "fixtures": "tests/fixtures/"
    },
    "skillName": "ct-test-writer-vitest",
    "dispatchKeywords": ["test", "vitest", "coverage"]
  }
}
```

### directories

Configure all directory paths:

```json
{
  "directories": {
    "data": ".cleo",
    "schemas": "schemas",
    "agentOutputs": "claudedocs/agent-outputs",
    "metrics": "claudedocs/metrics",
    "documentation": "docs",
    "skills": "skills"
  }
}
```

### tools

External tool configuration:

```json
{
  "tools": {
    "jsonProcessor": {
      "name": "jq",
      "command": "jq",
      "installCommand": "brew install jq",
      "required": true
    },
    "testRunner": {
      "name": "vitest",
      "command": "vitest",
      "installCommand": "npm install -D vitest",
      "required": true
    }
  }
}
```

## Configuration Inheritance (extends)

Share configuration across projects:

```json
{
  "extends": "~/.cleo/config.json",
  "validation": {
    "testing": {
      "framework": "vitest"
    }
  }
}
```

Multiple inheritance (left-to-right, last wins):

```json
{
  "extends": [
    "~/.cleo/config.json",
    "./shared/ci-config.json"
  ]
}
```

## project-context.json

LLM-readable project metadata generated by `cleo init --detect`:

```json
{
  "schemaVersion": "1.0.0",
  "detectedAt": "2026-01-31T12:00:00Z",
  "projectTypes": ["node"],
  "primaryType": "node",
  "testing": {
    "framework": "vitest",
    "testFilePatterns": ["**/*.test.ts"]
  },
  "llmHints": {
    "preferredTestStyle": "vitest with describe/it blocks",
    "typeSystem": "TypeScript strict mode",
    "commonPatterns": ["Use async/await over promises"],
    "avoidPatterns": ["Avoid require() in ESM projects"]
  }
}
```

Reference in CLAUDE.md for agent injection:
```markdown
@.cleo/project-context.json
```

## Framework Examples

### Node.js with Vitest

```json
{
  "validation": {
    "testing": {
      "framework": "vitest",
      "command": "vitest run",
      "testFilePatterns": ["**/*.test.ts", "**/*.spec.ts"]
    }
  }
}
```

### Python with pytest

```json
{
  "validation": {
    "testing": {
      "framework": "pytest",
      "command": "pytest -v",
      "directory": "tests",
      "testFilePatterns": ["**/test_*.py", "**/*_test.py"]
    }
  }
}
```

### Rust with Cargo

```json
{
  "validation": {
    "testing": {
      "framework": "cargo",
      "command": "cargo test",
      "testFilePatterns": ["**/*.rs"]
    }
  }
}
```

### Go

```json
{
  "validation": {
    "testing": {
      "framework": "go",
      "command": "go test ./...",
      "testFilePatterns": ["**/*_test.go"]
    }
  }
}
```

## Migration from BATS-Only

Existing CLEO projects using BATS require no changes. All defaults preserve BATS behavior:

1. Run `cleo init --detect --dry-run` to preview detection
2. If switching frameworks, run `cleo init --detect`
3. Verify with `cleo validate`

## See Also

- [Specification](/developer/specifications/VALIDATION-CONFIG-SPEC) - Full RFC 2119 specification
- [Testing](/guides/testing) - Testing guide
- [Init Command](/commands/init) - Command reference
