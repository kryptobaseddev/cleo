{
  "version": "2026.2.4",
  "project": {
    "name": "project",
    "currentPhase": null,
    "phases": {},
    "phaseHistory": [],
    "releases": [
      {
        "version": "2026.2.2",
        "status": "released",
        "tasks": [
          "T4699"
        ],
        "notes": null,
        "targetDate": null,
        "releasedAt": "2026-02-19T00:03:47.280Z",
        "changelog": "### Features\n\n- Add pre-flight migration check to core - detect JSON data needing SQLite migration (T4699)\n"
      },
      {
        "version": "2026.2.3",
        "status": "released",
        "tasks": [
          "T4699"
        ],
        "notes": null,
        "targetDate": null,
        "releasedAt": "2026-02-19T00:32:20.006Z",
        "changelog": "### Features\n\n- Add pre-flight migration check to core - detect JSON data needing SQLite migration (T4699)\n"
      },
      {
        "version": "2026.2.4",
        "status": "released",
        "tasks": [
          "T4699"
        ],
        "notes": null,
        "targetDate": null,
        "releasedAt": "2026-02-19T00:34:59.710Z",
        "changelog": "### Features\n\n- Add pre-flight migration check to core - detect JSON data needing SQLite migration (T4699)\n"
      }
    ]
  },
  "lastUpdated": "2026-02-19T00:34:59.710Z",
  "_meta": {
    "schemaVersion": "2.10.0",
    "checksum": "a9e5077d2c19c319",
    "configVersion": "1.0.0"
  },
  "focus": {
    "currentTask": "T4699",
    "currentPhase": null,
    "blockedUntil": null,
    "sessionNote": null,
    "sessionNotes": [
      {
        "note": "Focus set to T4699: Add pre-flight migration check to core - detect JSON data needing SQLite migration",
        "timestamp": "2026-02-18T23:55:14.723Z"
      }
    ],
    "nextAction": null,
    "primarySession": null
  },
  "tasks": [
    {
      "id": "T301",
      "title": "TECH DEBT: Audit and eliminate hardcoded values - enforce schema-driven design",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Found hardcoded phase structures in migration (fixed in v0.13.3), but this is likely systemic. Need comprehensive audit:\n\nKNOWN ISSUES:\n- lib/migrate.sh had hardcoded 4-phase structure (fixed - now reads from template)\n- lib/todowrite-integration.sh has verb mappings that may need review\n- scripts/benchmark-performance.sh has hardcoded phase array for tests\n- scripts/phases.sh has hardcoded examples in help text\n- Likely MORE throughout codebase\n\nAUDIT SCOPE:\n1. Find ALL hardcoded values that should derive from schemas/templates\n2. Identify validation logic duplicated across scripts vs centralized in lib/\n3. Check for magic strings/numbers that should be constants\n4. Review enum values (status, priority, phase status) - are they schema-derived?\n5. Check default values - do they match schema defaults?\n\nPRINCIPLES TO ENFORCE:\n- SINGLE SOURCE OF TRUTH: schemas/*.json and templates/*.json\n- DRY: No duplicate definitions of structures/enums/defaults\n- SOLID: Scripts should depend on abstractions (lib functions), not concrete values\n- Schema-driven: Runtime should validate against and derive from schemas\n\nDELIVERABLES:\n- Comprehensive grep/audit report of all hardcoded values\n- Prioritized list of violations by severity\n- Refactoring plan with helper functions to centralize\n- Tests to prevent regression (schema drift detection)\n\nRelated: v0.13.3 fix for migration phase hardcoding",
      "labels": [
        "architecture",
        "audit",
        "code-smell",
        "dry-violation",
        "solid-violation",
        "tech-debt"
      ],
      "createdAt": "2025-12-16T20:00:59Z",
      "updatedAt": "2025-12-16T20:00:59Z"
    },
    {
      "id": "T424",
      "title": "P3: Standardize _meta envelope fields across all commands",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "maintenance",
      "size": "medium",
      "position": 4,
      "positionVersion": 0,
      "description": "All JSON outputs MUST include consistent _meta fields: format, version, command, timestamp. Some commands have inconsistent _meta.",
      "labels": [
        "json",
        "json-output",
        "llm-agent-first",
        "p3",
        "v0.17.0"
      ],
      "createdAt": "2025-12-18T00:53:48Z",
      "updatedAt": "2025-12-18T00:53:48Z"
    },
    {
      "id": "T425",
      "title": "P3: Add hierarchy fields to task JSON output",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "maintenance",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Write commands MUST include type, parentId, size fields in task JSON per HIERARCHY-ENHANCEMENT-SPEC.",
      "labels": [
        "hierarchy",
        "json",
        "json-output",
        "llm-agent-first",
        "p3",
        "v0.17.0"
      ],
      "createdAt": "2025-12-18T00:53:51Z",
      "updatedAt": "2025-12-18T00:53:51Z"
    },
    {
      "id": "T426",
      "title": "Archive PHASE-ENHANCEMENT-RISK-ANALYSIS.md (superseded by spec)",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "phase": "polish",
      "size": "medium",
      "position": 6,
      "positionVersion": 0,
      "description": "The PHASE-ENHANCEMENT-RISK-ANALYSIS.md in project root has been superseded by:\n- docs/specs/PHASE-SYSTEM-SPEC.md (authoritative specification)\n\nOptions:\n1. Move to docs/archive/ for historical reference\n2. Delete entirely (spec is comprehensive)\n3. Add header noting superseded status\n\nRecommendation: Move to docs/archive/PHASE-ENHANCEMENT-RISK-ANALYSIS-2025-12-15.md",
      "labels": [
        "cleanup",
        "documentation",
        "feature-phase",
        "housekeeping"
      ],
      "createdAt": "2025-12-18T00:53:54Z",
      "updatedAt": "2025-12-18T00:53:54Z"
    },
    {
      "id": "T445",
      "title": "T429.16: Update archive.schema.json for metadata fields",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 7,
      "positionVersion": 0,
      "description": "Schema updates for archive metadata tracking - REVISED for multi-agent/multi-user future.\n\n## New Fields in Archived Task\n\n### archivedBy (NEW - Multi-Agent/Multi-User Attribution)\n```json\n{\n  \"archivedBy\": {\n    \"type\": \"string\",\n    \"enum\": [\"user\", \"agent\", \"auto\", \"hook\"],\n    \"description\": \"Actor type that performed the archive\"\n  },\n  \"archivedByIdentity\": {\n    \"type\": \"string\",\n    \"description\": \"Actor identity: git user, session ID, or policy name\"\n  },\n  \"archivedByGitUser\": {\n    \"type\": \"string\",\n    \"description\": \"Git user identity if available (e.g., 'Name <email>')\"\n  }\n}\n```\n\n### archivedFrom (REVISED - Git Context)\n```json\n{\n  \"archivedFromBranch\": {\n    \"type\": \"string\",\n    \"description\": \"Git branch name at archive time\"\n  },\n  \"archivedFromCommit\": {\n    \"type\": \"string\",\n    \"description\": \"Git commit SHA at archive time\"\n  }\n}\n```\n\n## Acceptance Criteria\n- [ ] archivedBy* fields added to archive schema\n- [ ] archivedFrom* git context fields added\n- [ ] archive.sh populates fields from git config and session\n- [ ] Backward compatible (new fields optional)\n\n## Future Value\n- Multi-agent session tracking\n- Multi-user collaboration audit trail\n- Git-integrated task management provenance",
      "labels": [
        "archive-enhancement",
        "future-proofing",
        "multi-agent",
        "optimization",
        "schema",
        "testing"
      ],
      "notes": [
        "[CANCELLED 2025-12-27T05:15:53Z] Implementation far exceeds original spec: 8-value reason enum (vs 4), triggerDetails for rich context, relationshipState for restoration, cycleTimeDays for analytics. All spec fields covered in superior design.",
        "[RESTORED 2025-12-27T05:19:59Z] Originally cancelled: Implementation far exceeds original spec: 8-value reason enum (vs 4), triggerDetails for rich context, relationshipState for restoration, cycleTimeDays for analytics. All spec fields covered in superior design. | Restored because: Reopening for proper multi-agent consensus validation per CONSENSUS-FRAMEWORK-SPEC",
        "2025-12-27 05:33:25 UTC: CONSENSUS OUTCOME: 3-2 split resolved by HITL. Original dismissal overturned. User vision: multi-agent/multi-user collaboration with git integration requires proper actor tracking and git context."
      ],
      "createdAt": "2025-12-18T18:34:02Z",
      "updatedAt": "2025-12-27T05:19:59Z"
    },
    {
      "id": "T479",
      "title": "P3 Low Priority Enhancements",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "phase": "polish",
      "size": "medium",
      "position": 9,
      "positionVersion": 0,
      "description": "Phase 3 enhancements: batch semantics, Unicode validation, lock retry, globals refactor, perf requirements, language examples. See docs/specs/LLM-AGENT-FIRST-FINALIZATION-PLAN.md Tasks 4.1-4.6",
      "labels": [
        "backlog",
        "p3",
        "phase-3"
      ],
      "createdAt": "2025-12-19T07:16:35Z",
      "updatedAt": "2025-12-19T07:16:35Z"
    },
    {
      "id": "T558",
      "title": "ENHANCE: Add 'empty: true' field to JSON output when matches=0",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "phase": "polish",
      "size": "medium",
      "position": 12,
      "positionVersion": 0,
      "description": "Exit code 100 (EXIT_NO_DATA) indicates empty results. Consider adding explicit 'empty: true' field to JSON output for clearer LLM agent parsing. Currently agents must check 'matches.length == 0' or 'summary.matches == 0'. An explicit boolean would be more direct. Affects: find, list, and other commands that can return empty results.",
      "labels": [
        "enhancement",
        "find-command",
        "json-output",
        "lllm-agent-first",
        "llm-agent-first"
      ],
      "createdAt": "2025-12-20T07:25:08Z",
      "updatedAt": "2025-12-20T07:25:08Z"
    },
    {
      "id": "T653",
      "title": "EPIC: Multi-Agent Sync Protocol Adapters",
      "status": "blocked",
      "priority": "medium",
      "type": "epic",
      "phase": "core",
      "size": "medium",
      "position": 14,
      "positionVersion": 0,
      "description": "Agent-agnostic sync adapter framework enabling cleo to work with multiple AI coding agents (Claude Code, Gemini CLI, Codex CLI, Kimi CLI, etc.).\n\n**Architecture** (Implementation-Agnostic):\n- Adapter interface: inject(), extract(), status_map(), status_unmap()\n- Agent detection via env vars and heuristics\n- Generic fallback adapter for unknown agents\n- ID embedding pattern: [T###] prefix\n\n**Reference Docs**:\n- docs/specs/MULTI-AGENT-ABSTRACTION-SPEC.md (authoritative)\n- claudedocs/CLEO-Rebrand/research/MULTI-AGENT-ABSTRACTION-PLAN.md\n\n**Deferred From**: T650 (CLEO Rebrand v1.0.0)\n**Target**: v2.0.0+ or post-Python migration\n\n**Note**: Design principles are language-agnostic. Implementation will align with future tech stack (Python/DuckDB).",
      "labels": [
        "architecture",
        "cleo",
        "deferred",
        "multi-agent",
        "rebrand",
        "sync"
      ],
      "notes": [
        "2025-12-30 07:47:26 UTC: Promoted from T650 child to standalone epic. Design preserved for future implementation post-Python migration."
      ],
      "blockedBy": "DEFERRED to v2.0.0 - Multi-agent sync adapters not in v1.0.0 scope",
      "createdAt": "2025-12-23T02:08:37Z",
      "updatedAt": "2026-02-03T08:59:57Z"
    },
    {
      "id": "T882",
      "title": "FEATURE: Add 'persistent' field for evergreen epics",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 45,
      "positionVersion": 0,
      "description": "Add persistent: true boolean to prevent epic auto-completion. See task notes for full research findings.",
      "labels": [
        "feature",
        "hierarchy",
        "schema"
      ],
      "createdAt": "2025-12-26T14:52:33Z",
      "updatedAt": "2025-12-26T14:52:33Z"
    },
    {
      "id": "T907",
      "title": "Optimize stats command performance - exceeds 1000ms target at 1000+ tasks",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 52,
      "positionVersion": 0,
      "description": "The stats command exceeds the 1000ms performance target when processing 1000+ tasks. Benchmark data shows 1726ms mean at 1000 tasks (target: <1000ms). This impacts LLM agent efficiency as stats is called frequently for project overview. Root cause analysis and optimization needed in scripts/stats.sh and potentially lib/analysis.sh.",
      "labels": [
        "cli",
        "performance",
        "stats"
      ],
      "notes": [
        "2025-12-27 05:22:39 UTC: ## Benchmark Data (2025-12-27)\n\n### Performance Results\n| Dataset | Mean | Min | Max | Target | Status |\n|---------|------|-----|-----|--------|--------|\n| 100 tasks | 1988ms | 1791ms | 2151ms | N/A | PASS (threshold only for 1000+) |\n| 500 tasks | 1834ms | 1762ms | 1927ms | N/A | PASS |\n| 1000 tasks | 1726ms | 1686ms | 1771ms | <1000ms | FAIL |\n\n### Observations\n1. Performance is relatively consistent (low variance ~5%)\n2. Counterintuitively SLOWER with fewer tasks (1988ms@100 vs 1726ms@1000)\n3. Likely fixed overhead dominates - jq startup, file I/O, subprocess spawning\n\n### Suspected Bottlenecks (to investigate)\n1. scripts/stats.sh - Main entry point\n2. lib/analysis.sh - Task analysis functions  \n3. Multiple jq invocations instead of single pass\n4. Potential redundant file reads\n5. Subprocess spawning overhead\n\n### Impact\n- LLM agents call stats frequently for project overview\n- 1.7s latency per call compounds over session\n- Target: <1000ms for 1000+ task datasets\n\n### Comparison: list command\n- list at 1000 tasks: 1ms (extremely fast)\n- stats at 1000 tasks: 1726ms (1726x slower)\n- Suggests stats-specific logic is the bottleneck, not file I/O"
      ],
      "createdAt": "2025-12-27T05:22:20Z",
      "updatedAt": "2025-12-27T05:22:20Z"
    },
    {
      "id": "T998",
      "title": "EPIC: Session System Documentation & Enhancement",
      "status": "cancelled",
      "priority": "high",
      "type": "epic",
      "parentId": "T2794",
      "phase": "polish",
      "size": "medium",
      "position": 57,
      "positionVersion": 0,
      "description": "EPIC: Session System Documentation & Enhancement\n\n**RCSD Phases:**\n\n## Phase 1: Research & Design (setup)\n- T1013: Design seamless multi-agent session binding [CRITICAL BLOCKER]\n\n## Phase 2: Core Fixes (core) \nFix bugs blocking proper multi-session usage:\n- T1012: Auto-set currentSessionId in sessions.json\n- T1008: Fix session status to read from sessions.json\n- T1011: Default multiSession.enabled=true in templates\n- T1010: Clean up stale migrated legacy sessions\n\n## Phase 3: Validation & UX (core)\n- T1003: Improve session start UX when multiSession disabled\n- T1004: Validate agent ID uniqueness\n- T1005: Validate scope type enum\n\n## Phase 4: Documentation (polish)\n- T999: Rewrite docs/commands/session.md\n- T1000: Document scope types and conflict detection\n- T1001: Document sessions.json file structure\n- T1002: Document multi-session configuration\n- T1007: Update TODO_Task_Management.md\n- T1009: Document CLEO_SESSION requirement\n\n## Phase 5: Enhancements (polish)\n- T1006: Auto-generate session names from scope\n\n**Execution Model:**\n- Each phase = 1 scoped session\n- Tasks within phase can be parallelized by multiple agents\n- Phase N+1 blocked until Phase N complete",
      "labels": [
        "documentation",
        "session"
      ],
      "notes": [
        "2026-02-16 18:00:52 UTC: Triage T4570: Obsolete. Session system reimplemented in TS (T4463). Docs covered by T4556."
      ],
      "createdAt": "2025-12-29T08:26:02Z",
      "updatedAt": "2026-02-16T18:00:52.271Z",
      "cancelledAt": "2026-02-16T18:00:52.271Z"
    },
    {
      "id": "T1043",
      "title": "Centralize session error handling in error-json.sh",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T1027",
      "phase": "core",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "T1042 fix works but violates architecture by using inline JSON building instead of centralized helpers.\n\n**Current State (T1042 implementation):**\n- Discovery mode and resume-when-active use `output_error_actionable` directly\n- JSON for `fix`, `alternatives`, `context` built inline in session.sh and sessions.sh\n- Error codes `E_SESSION_DISCOVERY_MODE` not in centralized mapping\n\n**Required Refactoring:**\n1. Add missing error codes to error-json.sh:\n   - `E_SESSION_DISCOVERY_MODE` (exit 100)\n   - `E_SESSION_RESUME_ACTIVE` (exit 30, distinct from E_SESSION_EXISTS)\n\n2. Add new helper functions to error-json.sh:\n   - `get_session_error_fix()` - returns copy-paste ready fix command\n   - `get_session_error_alternatives()` - returns JSON array of {action, command}\n\n3. Enhance `output_session_error()` signature:\n   ```bash\n   output_session_error \"$error_code\" \"$message\" \"$exit_code\" \"$context_json\" [\"$fix\"] [\"$alternatives\"]\n   # OR auto-derive fix/alternatives from error_code via helpers\n   ```\n\n4. Replace inline implementations in:\n   - scripts/session.sh:390-473 (discovery mode)\n   - lib/sessions.sh:752-789 (resume-when-active)\n\n**Benefits:**\n- Single source of truth for session error responses\n- Consistent error format across all session operations\n- Easier to maintain and extend\n- Aligns with T1018 intent\n\n**Files to modify:**\n- lib/error-json.sh (add helpers, enhance output_session_error)\n- scripts/session.sh (use output_session_error)\n- lib/sessions.sh (use output_session_error)",
      "labels": [
        "error-handling",
        "refactoring",
        "technical-debt"
      ],
      "notes": [
        "2025-12-29 20:36:35 UTC: EXECUTION ORDER: T1018 must complete first (enhances output_session_error with fix/alternatives helpers). Then this task refactors T1042's inline implementation to use the centralized function.",
        "2025-12-30 01:28:44 UTC: READY TO IMPLEMENT: T1018 completed - output_session_error() now includes fix/alternatives. Refactor T1042's inline code at session.sh:390-473 (discovery mode) and lib/sessions.sh:766-803 (resume-when-active) to use output_session_error() with appropriate error codes E_SESSION_DISCOVERY_MODE and E_SESSION_RESUME_ACTIVE.",
        "2025-12-30 01:30:19 UTC: NEXT SESSION START HERE: T1018 completed. Refactor T1042's inline output_error_actionable calls to use output_session_error(). Files: session.sh:390-473 (discovery mode), sessions.sh:766-803 (resume-when-active). Error codes E_SESSION_DISCOVERY_MODE and E_SESSION_RESUME_ACTIVE are now defined."
      ],
      "createdAt": "2025-12-29T20:33:22Z",
      "updatedAt": "2025-12-30T01:30:34Z"
    },
    {
      "id": "T1079",
      "title": "Create plugin directory structure and manifest",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Create plugin/ directory in CLEO repo with .claude-plugin/plugin.json manifest. Structure: skills/, commands/, agents/, hooks/ directories. Follow CLEO-PLUGIN-SPEC.md section 1 for manifest schema.",
      "notes": [
        "2025-12-31 23:33:32 UTC: WAVE 1: Create plugin structure per T1075 research. Manifest in .claude-plugin/, components at root."
      ],
      "createdAt": "2025-12-30T07:41:46Z",
      "updatedAt": "2026-01-26T16:46:18Z"
    },
    {
      "id": "T1083",
      "title": "Implement agents (3 agents)",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 9,
      "positionVersion": 0,
      "description": "Create agents/: task-planner.md (feature decomposition), task-analyzer.md (status analysis), session-reviewer.md (completeness validation). Each needs frontmatter with examples, model, color, tools. System prompt in body. Follow CLEO-PLUGIN-SPEC.md section 4.",
      "createdAt": "2025-12-30T07:41:52Z",
      "updatedAt": "2025-12-30T07:41:52Z"
    },
    {
      "id": "T1084",
      "title": "Implement hooks configuration and scripts",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 10,
      "positionVersion": 0,
      "description": "Create hooks/hooks.json with SessionStart, Stop, UserPromptSubmit hooks. Create hooks/scripts/: session-start.sh (auto-start cleo session), check-focus.sh (remind about focus), session-end.sh (optional cleanup). Use CLAUDE_PLUGIN_ROOT for paths.",
      "notes": [
        "2026-01-05 07:01:04 UTC: REQUIREMENT from T1138: session-start.sh hook must check CLEO_SESSION env var. If already set, skip session creation (subagent running within existing session). Prevents duplicate sessions when plugin agents spawn."
      ],
      "createdAt": "2025-12-30T07:41:54Z",
      "updatedAt": "2025-12-30T07:41:54Z"
    },
    {
      "id": "T1085",
      "title": "Update install.sh with plugin symlink support",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 11,
      "positionVersion": 0,
      "description": "Add install_plugin() function to install.sh. Creates ~/.claude/plugins/cleo symlink pointing to ~/.cleo/plugin/. Handle existing symlink removal. Add --skip-plugin flag option. Report plugin installation status. NEW: Also update to call injection setup for first-time installs (run cleo init automatically to set up both GLOBAL and PROJECT injections).",
      "notes": [
        "2025-12-31 23:33:32 UTC: WAVE 1: Update install.sh per T1078. Use --plugin-dir for dev."
      ],
      "createdAt": "2025-12-30T07:42:09Z",
      "updatedAt": "2026-01-26T16:43:01Z"
    },
    {
      "id": "T1087",
      "title": "Create plugin README.md documentation",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "polish",
      "size": "medium",
      "position": 13,
      "positionVersion": 0,
      "description": "Write plugin/README.md with: overview, prerequisites (CLEO CLI), installation, features (skills, commands, agents, hooks), configuration, troubleshooting. ~500 words. Include links to main CLEO docs.",
      "depends": [
        "T1079",
        "T1083",
        "T1084"
      ],
      "createdAt": "2025-12-30T07:42:11Z",
      "updatedAt": "2025-12-30T07:42:11Z"
    },
    {
      "id": "T1088",
      "title": "Create hook script unit tests",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "testing",
      "size": "medium",
      "position": 14,
      "positionVersion": 0,
      "description": "Write BATS tests for hook scripts. Test session-start.sh with mock CLAUDE_PROJECT_DIR. Test check-focus.sh with various user prompts. Test JSON output format. Test error handling for missing ct command.",
      "depends": [
        "T1084"
      ],
      "createdAt": "2025-12-30T07:42:35Z",
      "updatedAt": "2025-12-30T07:42:35Z"
    },
    {
      "id": "T1089",
      "title": "Integration testing in Claude Code",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "testing",
      "size": "medium",
      "position": 15,
      "positionVersion": 0,
      "description": "Manual integration testing checklist: Plugin loads in /plugins. Skill triggers on task-related phrases. Commands appear in /help and execute. Agents trigger on matching scenarios. Hooks fire on events. Test with claude --debug. NEW: Validate GLOBAL injection present in ~/.claude/CLAUDE.md and PROJECT injection present in project CLAUDE.md. Test skill progressive disclosure loads correctly.",
      "depends": [
        "T1079",
        "T1083",
        "T1084",
        "T1085",
        "T2299"
      ],
      "createdAt": "2025-12-30T07:42:36Z",
      "updatedAt": "2026-01-26T16:43:04Z"
    },
    {
      "id": "T1090",
      "title": "Create migration guide from injection to plugin",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "polish",
      "size": "medium",
      "position": 16,
      "positionVersion": 0,
      "description": "Write docs/MIGRATION-PLUGIN.md: Why migrate (benefits), prerequisites, step-by-step migration. NEW: Cover three-tier architecture: GLOBAL injection (~/.claude/CLAUDE.md via CLEO-INJECTION.md), PROJECT injection (project/CLAUDE.md via AGENT-INJECTION.md), SKILL (cleo-task-management for progressive disclosure). Removing old TODO_Task_Management.md references. Verifying plugin and injections work. Rollback procedure. Include troubleshooting section.",
      "depends": [
        "T1079",
        "T1085",
        "T1089",
        "T2302"
      ],
      "createdAt": "2025-12-30T07:42:38Z",
      "updatedAt": "2026-01-26T16:43:08Z"
    },
    {
      "id": "T1091",
      "title": "Update main CLEO documentation for plugin",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "polish",
      "size": "medium",
      "position": 17,
      "positionVersion": 0,
      "description": "Update README.md installation section to mention plugin and injection system. Update CONTRIBUTING.md with plugin development info and injection template maintenance. Add plugin section to docs/. Cross-reference plugin README. Update CHANGELOG.md for plugin release. NEW: Document three-tier architecture for contributors: CLEO-INJECTION.md (global), AGENT-INJECTION.md (project), cleo-task-management skill (progressive disclosure).",
      "depends": [
        "T1087",
        "T1089",
        "T1090"
      ],
      "createdAt": "2025-12-30T07:42:39Z",
      "updatedAt": "2026-02-11T05:35:00Z"
    },
    {
      "id": "T1236",
      "title": "Optional Plugin: Git Workflow Integration (cleo-git)",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "phase": "polish",
      "size": "medium",
      "position": 21,
      "positionVersion": 0,
      "description": "OPTIONAL PLUGIN for git workflow integration. NOT core functionality. Per multi-agent consensus (2026-01-03): git/PR/CI-CD operations belong external to CLEO core. This plugin provides: (1) ct-branch - create branch from task ID, (2) ct-pr - create PR from task notes, (3) ct-commit - commit template with task context, (4) Post-complete hook for optional git operations. Uses gh CLI and git, not custom implementations. Reference: docs/research/PIPELINE-PATTERNS-RESEARCH.md for production patterns.",
      "labels": [
        "git",
        "optional",
        "plugin"
      ],
      "createdAt": "2026-01-03T00:41:02Z",
      "updatedAt": "2026-01-03T00:41:02Z"
    },
    {
      "id": "T1094",
      "title": "Test plugin with claude --plugin-dir",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T1089",
      "phase": "core",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Test plugin loading without installing: claude --plugin-dir /path/to/plugin. Verify all components load. Check for warnings/errors. Document any issues found.",
      "depends": [
        "T1079",
        "T1083",
        "T1084"
      ],
      "createdAt": "2025-12-30T07:42:56Z",
      "updatedAt": "2025-12-30T07:42:56Z"
    },
    {
      "id": "T1116",
      "title": "Create lib/orchestrator.sh with spawn and monitor functions",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "core",
      "size": "medium",
      "position": 2,
      "positionVersion": 0,
      "description": "## Objective\nCreate lib/orchestrator.sh (Layer 3: Application) with core orchestration functions.\n\n## Dependencies\n- lib/sessions.sh (session state management)\n- lib/file-ops.sh (atomic writes)\n- lib/config.sh (orchestration settings)\n\n## Functions (from ORCHESTRATOR-SPEC.md Part 4)\n\n### Core Orchestration\n- orchestrate_start() - Initialize orchestration for epic\n- orchestrate_stop() - Stop all agents gracefully\n- orchestrate_status() - Return JSON status\n\n### Wave Management\n- compute_dependency_waves() - Compute wave number from deps\n- spawn_wave() - Spawn agents for wave N\n- get_next_wave() - Return next wave to spawn\n\n### tmux Lifecycle\n- tmux_create_session() - Create tmux session\n- tmux_spawn_agent_pane() - Add pane for agent\n- tmux_send_prompt() - Inject prompt to pane\n- tmux_kill_session() - Terminate session\n\n### Monitoring\n- handle_agent_completion() - Process Stop hook events\n- detect_stale_agents() - Find agents past heartbeat timeout\n\n## Input/Output\n- Input: Epic task ID, config settings\n- Output: JSON status, tmux sessions, event files\n\n## Acceptance Criteria\n- [ ] File exists at lib/orchestrator.sh\n- [ ] All 12 functions defined with proper signatures\n- [ ] Follows CLEO lib layer conventions (source guards, error handling)\n- [ ] Sources lib/sessions.sh, lib/file-ops.sh, lib/config.sh\n- [ ] Functions documented with usage comments\n- [ ] Exit codes 50-59 used per ORCHESTRATOR-SPEC.md Part 10\n- [ ] bash -n lib/orchestrator.sh passes\n\n## References\n- ORCHESTRATOR-SPEC.md Part 4 (Core Functions)\n- ORCHESTRATOR-SPEC.md Part 10 (Exit Codes)\n- lib/sessions.sh (pattern reference)",
      "labels": [
        "orchestration",
        "tmux"
      ],
      "createdAt": "2025-12-31T01:33:33Z",
      "updatedAt": "2025-12-31T01:33:33Z"
    },
    {
      "id": "T1117",
      "title": "Create scripts/orchestrate.sh CLI command",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "core",
      "size": "small",
      "position": 3,
      "positionVersion": 0,
      "description": "## Objective\nCreate scripts/orchestrate.sh CLI entry point for orchestration commands.\n\n## Interface (ORCHESTRATOR-SPEC.md Part 3)\n```bash\ncleo orchestrate start <epic-id> [options]\ncleo orchestrate stop [--force]\ncleo orchestrate status [--json]\ncleo orchestrate list     # List running orchestrations\n```\n\n## Options\n- --agents N: Number of parallel agents (default: 3)\n- --mode sequential|parallel|wave (default: wave)\n- --dry-run: Show what would spawn without executing\n\n## Implementation\n- Thin wrapper around lib/orchestrator.sh functions\n- Follows scripts/ conventions (getopts, help text, exit codes)\n- Sources lib/orchestrator.sh for all logic\n\n## Input/Output\n- Input: CLI arguments\n- Output: JSON status or human-readable text\n\n## Acceptance Criteria\n- [ ] File exists at scripts/orchestrate.sh\n- [ ] All 4 subcommands implemented (start, stop, status, list)\n- [ ] --help shows usage for each subcommand\n- [ ] --json flag produces valid JSON output\n- [ ] Exit codes match ORCHESTRATOR-SPEC.md Part 10\n- [ ] bash -n scripts/orchestrate.sh passes\n- [ ] Integration with cleo main dispatcher works\n\n## References\n- ORCHESTRATOR-SPEC.md Part 3 (CLI Interface)\n- scripts/session.sh (pattern reference)\n- lib/orchestrator.sh (depends on T1116)",
      "labels": [
        "cli",
        "orchestration"
      ],
      "depends": [
        "T1116"
      ],
      "createdAt": "2025-12-31T01:33:54Z",
      "updatedAt": "2025-12-31T01:33:54Z"
    },
    {
      "id": "T1118",
      "title": "Update CLEO_SESSION env var detection in session.sh",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "core",
      "size": "small",
      "position": 4,
      "positionVersion": 0,
      "description": "## Objective\nUpdate lib/sessions.sh to detect CLEO_SESSION env var injection from orchestrator.\n\n## Context\nWhen orchestrator spawns an agent, it sets CLEO_SESSION env var.\nSessions library must detect this and auto-bind without `session start`.\n\n## Changes to lib/sessions.sh\n\n### New Function\n```bash\ndetect_orchestrated_session() {\n    # Check if CLEO_SESSION is set (by orchestrator)\n    # If set, auto-bind to that session\n    # Return 0 if bound, 1 if not in orchestrated context\n}\n```\n\n### Update Existing\n- session_start(): Check for CLEO_SESSION before creating new\n- session_get_current(): Prefer CLEO_SESSION over .current-session file\n\n## Input/Output\n- Input: CLEO_SESSION env var (set by orchestrator)\n- Output: Session binding behavior\n\n## Acceptance Criteria\n- [ ] detect_orchestrated_session() function exists\n- [ ] Returns 0 when CLEO_SESSION env var is set\n- [ ] Auto-binds session context without file write\n- [ ] session_start() detects existing CLEO_SESSION\n- [ ] session_get_current() prioritizes env var over file\n- [ ] Works in subshell context (env var inheritance)\n- [ ] Unit tests pass in tests/unit/sessions.bats\n\n## References\n- ORCHESTRATOR-SPEC.md Part 6 (Environment Injection)\n- lib/sessions.sh current implementation",
      "labels": [
        "orchestration",
        "session"
      ],
      "createdAt": "2025-12-31T01:33:55Z",
      "updatedAt": "2025-12-31T01:33:55Z"
    },
    {
      "id": "T1119",
      "title": "Create agent prompt template for orchestrated agents",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "## Objective\nCreate base session agent prompt template at templates/session-agent-prompt.md\n\n## Purpose\nInjected into spawned Claude Code agents via tmux_send_prompt() to:\n- Establish agent identity and scope\n- Provide task context (filtered to scope)\n- Set behavioral expectations\n- Enable completion signaling\n\n## Template Variables (from SOLID-PROMPTING-SYSTEM-SPEC.md)\n| Variable | Source | Description |\n|----------|--------|-------------|\n| ${AGENT_ID} | orchestrator | Unique agent identifier |\n| ${AGENT_ROLE} | config | planner/coder/testing/etc |\n| ${SCOPE_TYPE} | session | epic/taskGroup/epicPhase |\n| ${SCOPE_ROOT} | session | Root task ID |\n| ${TASK_LIST} | todo.json | Filtered task summaries |\n| ${WAVE_NUMBER} | orchestrator | Current wave |\n| ${EPIC_CONTEXT} | todo.json | Epic title and description |\n\n## File Location\ntemplates/session-agent-prompt.md\n\n## Injection Flow\n1. orchestrate_start() computes agent assignments\n2. spawn_wave() creates tmux pane per agent\n3. tmux_send_prompt() reads template, substitutes vars\n4. Prompt piped to claude --prompt in pane\n\n## Acceptance Criteria\n- [ ] File exists at templates/session-agent-prompt.md\n- [ ] All template variables documented in header\n- [ ] Follows SOLID-PROMPTING-SYSTEM-SPEC.md two-tier structure\n- [ ] Contains anti-hallucination protections\n- [ ] Includes scope constraint instructions\n- [ ] Has ${TASK_LIST} placeholder for filtered tasks\n- [ ] Template validates (no syntax errors in variable refs)\n\n## References\n- SOLID-PROMPTING-SYSTEM-SPEC.md (prompt structure)\n- ORCHESTRATOR-SPEC.md Part 6 (Environment Injection)\n- templates/AGENT-INJECTION.md (existing pattern)",
      "labels": [
        "orchestration",
        "prompts"
      ],
      "createdAt": "2025-12-31T01:33:55Z",
      "updatedAt": "2025-12-31T01:33:55Z"
    },
    {
      "id": "T1120",
      "title": "Add Stop hook notification for orchestrator",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "core",
      "size": "small",
      "position": 6,
      "positionVersion": 0,
      "description": "## Objective\nCreate Stop hook to notify orchestrator when agent completes.\n\n## File Location\n.claude/hooks/orchestrator-stop.yaml\n\n## Hook Specification (ORCHESTRATOR-SPEC.md Part 7)\n```yaml\nname: Orchestrator Completion Notifier\ntrigger: Stop\nwhen: \\$CLEO_ORCHESTRATION_ID \\!= \"\"\nactions:\n  - bash: |\n      event_dir=\"\\${CLEO_PROJECT_ROOT}/.cleo/orchestration/events\"\n      mkdir -p \"\\$event_dir\"\n      event_file=\"\\${event_dir}/\\${CLEO_SESSION}_complete.json\"\n      jq -nc \\\\\n        --arg session \"\\$CLEO_SESSION\" \\\\\n        --arg agent \"\\$CLEO_AGENT_ID\" \\\\\n        --arg status \"\\$EXIT_STATUS\" \\\\\n        --arg wave \"\\$CLEO_WAVE\" \\\\\n        --arg timestamp \"\\$(date -u +%Y-%m-%dT%H:%M:%SZ)\" \\\\\n        '{session: \\$session, agent: \\$agent, exitStatus: (\\$status | tonumber), wave: (\\$wave | tonumber), completedAt: \\$timestamp}' > \"\\$event_file\"\n```\n\n## Event Schema\n```json\n{\n  \"session\": \"session_xxx\",\n  \"agent\": \"agent_01\",\n  \"exitStatus\": 0,\n  \"wave\": 1,\n  \"completedAt\": \"ISO8601\"\n}\n```\n\n## Acceptance Criteria\n- [ ] File exists at .claude/hooks/orchestrator-stop.yaml\n- [ ] Triggers only when CLEO_ORCHESTRATION_ID is set\n- [ ] Creates event file in .cleo/orchestration/events/\n- [ ] Event JSON validates against schema\n- [ ] Works with Claude Code Stop hook system\n- [ ] Does not block on completion\n\n## References\n- ORCHESTRATOR-SPEC.md Part 7 (Completion Detection)\n- Claude Code hooks documentation",
      "labels": [
        "hooks",
        "orchestration"
      ],
      "createdAt": "2025-12-31T01:33:56Z",
      "updatedAt": "2025-12-31T01:33:56Z"
    },
    {
      "id": "T1121",
      "title": "Document orchestration architecture and usage",
      "status": "pending",
      "priority": "low",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "polish",
      "size": "medium",
      "position": 7,
      "positionVersion": 0,
      "description": "## Objective\nCreate comprehensive documentation for orchestration architecture and usage.\n\n## Deliverables\n\n### docs/commands/orchestrate.md\n- Command reference for `cleo orchestrate`\n- All subcommands and options\n- Examples for common workflows\n\n### docs/reference/orchestration-architecture.md\n- High-level architecture diagram (ASCII)\n- Component interactions\n- Wave-based execution explanation\n- Environment variable reference\n\n### docs/tutorials/multi-agent-orchestration.md\n- Step-by-step tutorial for first orchestration\n- Troubleshooting common issues\n- Best practices\n\n## Input/Output\n- Input: All implemented orchestration features\n- Output: 3 documentation files\n\n## Acceptance Criteria\n- [ ] docs/commands/orchestrate.md exists with full command reference\n- [ ] docs/reference/orchestration-architecture.md explains system design\n- [ ] docs/tutorials/multi-agent-orchestration.md provides walkthrough\n- [ ] All code examples are tested and work\n- [ ] Links between docs are valid\n- [ ] Follows existing docs/ formatting conventions\n- [ ] TOC in docs/INDEX.md updated\n\n## References\n- docs/commands/session.md (command doc pattern)\n- docs/reference/sessions-json.md (reference doc pattern)\n- ORCHESTRATOR-SPEC.md (source of truth)",
      "labels": [
        "documentation",
        "orchestration"
      ],
      "depends": [
        "T1116",
        "T1117",
        "T1119",
        "T1120"
      ],
      "createdAt": "2025-12-31T01:33:58Z",
      "updatedAt": "2025-12-31T01:33:58Z"
    },
    {
      "id": "T1122",
      "title": "Update specs for TMUX orchestration: CLEO-SYSTEM-ARCHITECTURE, MULTI-SESSION, IMPLEMENTATION-ORCHESTRATION",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "polish",
      "size": "medium",
      "position": 8,
      "positionVersion": 0,
      "description": "## Objective\nUpdate 3 specs to include orchestration context.\n\n## Spec Updates\n\n### CLEO-SYSTEM-ARCHITECTURE.md\nAdd section: Part X - Orchestration Layer\n- Where orchestrator fits in layer model\n- Relationship to sessions system\n- Exit code allocation (50-59)\n\n### MULTI-SESSION-SPEC.md\nAdd section: Orchestrated Sessions\n- How orchestrator creates sessions\n- Scope pre-assignment vs manual scoping\n- Session isolation guarantees\n\n### IMPLEMENTATION-ORCHESTRATION-SPEC.md\nUpdate: 7-Agent Pipeline Reference\n- Link to each agent prompt template\n- Wave assignment for each agent\n- Input/output specifications\n\n## Acceptance Criteria\n- [ ] CLEO-SYSTEM-ARCHITECTURE.md has Orchestration Layer section\n- [ ] MULTI-SESSION-SPEC.md covers orchestrated sessions\n- [ ] IMPLEMENTATION-ORCHESTRATION-SPEC.md references prompt templates\n- [ ] All cross-references to ORCHESTRATOR-SPEC.md work\n- [ ] Version numbers bumped appropriately\n- [ ] No conflicts with existing content\n\n## References\n- ORCHESTRATOR-SPEC.md (source of truth)\n- Existing spec files (current state)",
      "notes": [
        "2025-12-31 02:01:06 UTC: CLEO-SYSTEM-ARCHITECTURE-SPEC Updates: Add Section 5.3 Agent Spawning and Terminal Binding - Orchestrator diagram, CLEO_SESSION env var binding, session resolution priority (env var then file), completion detection via Stop hooks to events directory, orchestrator state machine. Update Section 7 Configuration - add orchestration config block with terminal, maxConcurrentAgents, sessionEnvVar, completionTimeout, eventPollingMs properties.",
        "2025-12-31 02:01:16 UTC: MULTI-SESSION-SPEC Updates: Add Terminal Binding Mechanism section - Environment variable priority (CLEO_SESSION set by orchestrator), file binding fallback (.cleo/.current-session), why env var enables true multi-terminal isolation without --session flags. Update Session Resolution Algorithm - document two-step resolution with code example of resolve_current_session_id() checking env var first then file.",
        "2025-12-31 02:01:27 UTC: IMPLEMENTATION-ORCHESTRATION-SPEC Updates (Create or Major): If creating new spec - Part 1 Preamble (purpose, authority, exit codes 40-49), Part 2 Agent Architecture (7 agents, roles, subagent_types), Part 3 Verification Gates (gate names, state machine, ct verify), Part 4 Orchestration Engine (spawning, monitoring, routing), Part 5 Terminal Integration (tmux, CLEO_SESSION, completion hooks), Part 6 Configuration, Part 7 CLI Commands (ct orchestrate, ct verify, ct pipeline), Part 8 Error Handling. If updating existing - add terminal spawning, CLEO_SESSION binding, Stop hook completion protocol, event file format.",
        "2025-12-31 02:01:36 UTC: Config Schema Updates: Add orchestration object to schemas/config.schema.json with properties - terminal (enum: tmux, zellij, auto), maxConcurrentAgents (integer, default 5), sessionEnvVar (string, default CLEO_SESSION), completionTimeout (integer seconds), eventPollingMs (integer). Add validation rules for each property.",
        "2025-12-31 02:01:46 UTC: ACCEPTANCE CRITERIA: (1) All three specs updated with TMUX orchestration details, (2) Config schema includes orchestration block with validation, (3) Diagrams show terminal spawning flow clearly, (4) CLEO_SESSION env var documented as primary binding mechanism, (5) Stop hook to events completion protocol documented, (6) Exit codes 40-49 allocated for orchestration errors in spec, (7) Cross-references between specs are bidirectional, (8) Examples show ct orchestrate usage with common flags, (9) T1062 proposal referenced as source material."
      ],
      "files": [
        "docs/specs/CLEO-SYSTEM-ARCHITECTURE-SPEC.md",
        "docs/specs/MULTI-SESSION-SPEC.md",
        "docs/specs/IMPLEMENTATION-ORCHESTRATION-SPEC.md",
        "schemas/config.schema.json",
        "claudedocs/CLEO-ORCHESTRATION-PLATFORM-PROPOSAL.md"
      ],
      "depends": [
        "T1116",
        "T1117",
        "T1118",
        "T1120"
      ],
      "createdAt": "2025-12-31T02:00:45Z",
      "updatedAt": "2025-12-31T02:00:45Z"
    },
    {
      "id": "T1124",
      "title": "Create Planner Agent prompt template",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "core",
      "size": "small",
      "position": 9,
      "positionVersion": 0,
      "description": "## Objective\nCreate Planner Agent prompt template at templates/agents/planner.md\n\n## Role: Planner Agent\n- **Wave**: 0 (first to run)\n- **Purpose**: Analyze epic scope, decompose into atomic tasks, set dependencies\n- **Subagent Type**: Plan (from Claude Code)\n\n## Template Structure\nExtends base template (T1119) with role-specific:\n- Analysis instructions (understand requirements first)\n- Task decomposition guidelines (atomic execution)\n- Dependency mapping rules\n- Output format (cleo add commands)\n\n## Input/Output\n- Input: Epic task ID, epic description\n- Output: Task creation commands, dependency graph\n\n## Acceptance Criteria\n- [ ] File exists at templates/agents/planner.md\n- [ ] Extends base template variables\n- [ ] Includes IMPLEMENTATION-ORCHESTRATION-SPEC.md Planner role definition\n- [ ] Has task atomicity requirements from TASK-DECOMPOSITION-SPEC.md\n- [ ] Specifies output format for cleo add commands\n- [ ] Contains anti-hallucination protections\n- [ ] Wave 0 constraint documented\n\n## References\n- templates/session-agent-prompt.md (base template, T1119)\n- IMPLEMENTATION-ORCHESTRATION-SPEC.md (Planner role)\n- TASK-DECOMPOSITION-SPEC.md (atomicity requirements)\n- SOLID-PROMPTING-SYSTEM-SPEC.md (prompt structure)",
      "depends": [
        "T1119"
      ],
      "createdAt": "2025-12-31T07:05:57Z",
      "updatedAt": "2025-12-31T07:05:57Z"
    },
    {
      "id": "T1125",
      "title": "Create Coder Agent prompt template",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "core",
      "size": "small",
      "position": 10,
      "positionVersion": 0,
      "description": "## Objective\nCreate Coder Agent prompt template at templates/agents/coder.md\n\n## Role: Coder Agent\n- **Wave**: 1 (after Planner)\n- **Purpose**: Implement features, write code, create files\n- **Subagent Type**: general-purpose (from Claude Code)\n\n## Template Structure\nExtends base template (T1119) with role-specific:\n- Code quality requirements (CLEO lib patterns)\n- File operation guidelines (atomic writes)\n- Testing expectations (unit tests for new code)\n- Scope constraints (only assigned tasks)\n\n## Input/Output\n- Input: Task list with descriptions, file references\n- Output: Code files, cleo complete commands\n\n## Acceptance Criteria\n- [ ] File exists at templates/agents/coder.md\n- [ ] Extends base template variables\n- [ ] Includes IMPLEMENTATION-ORCHESTRATION-SPEC.md Coder role definition\n- [ ] Has code style requirements from CLAUDE.md\n- [ ] Specifies atomic operation requirements\n- [ ] Contains scope constraint protections\n- [ ] Wave 1 constraint documented\n\n## References\n- templates/session-agent-prompt.md (base template, T1119)\n- IMPLEMENTATION-ORCHESTRATION-SPEC.md (Coder role)\n- CLAUDE.md (code style requirements)\n- SOLID-PROMPTING-SYSTEM-SPEC.md (prompt structure)",
      "depends": [
        "T1119"
      ],
      "createdAt": "2025-12-31T07:06:18Z",
      "updatedAt": "2025-12-31T07:06:18Z"
    },
    {
      "id": "T1126",
      "title": "Create Testing Agent prompt template",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "core",
      "size": "small",
      "position": 11,
      "positionVersion": 0,
      "description": "## Objective\nCreate Testing Agent prompt template at templates/agents/testing.md\n\n## Role: Testing Agent\n- **Wave**: 2 (after Coder)\n- **Purpose**: Write and run tests, verify implementations\n- **Subagent Type**: quality-engineer (from Claude Code)\n\n## Template Structure\nExtends base template (T1119) with role-specific:\n- Test coverage requirements\n- BATS test conventions for this project\n- Integration vs unit test guidelines\n- Failure reporting format\n\n## Input/Output\n- Input: Implemented files from Coder, test requirements\n- Output: Test files, test results, cleo complete commands\n\n## Acceptance Criteria\n- [ ] File exists at templates/agents/testing.md\n- [ ] Extends base template variables\n- [ ] Includes IMPLEMENTATION-ORCHESTRATION-SPEC.md Testing role definition\n- [ ] Has BATS test conventions from tests/ structure\n- [ ] Specifies test file naming patterns\n- [ ] Contains failure escalation instructions\n- [ ] Wave 2 constraint documented\n\n## References\n- templates/session-agent-prompt.md (base template, T1119)\n- IMPLEMENTATION-ORCHESTRATION-SPEC.md (Testing role)\n- tests/ directory structure\n- SOLID-PROMPTING-SYSTEM-SPEC.md (prompt structure)",
      "depends": [
        "T1119"
      ],
      "createdAt": "2025-12-31T07:06:20Z",
      "updatedAt": "2025-12-31T07:06:20Z"
    },
    {
      "id": "T1127",
      "title": "Create QA Agent prompt template",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "core",
      "size": "small",
      "position": 12,
      "positionVersion": 0,
      "description": "## Objective\nCreate QA Agent prompt template at templates/agents/qa.md\n\n## Role: QA Agent\n- **Wave**: 3 (after Testing)\n- **Purpose**: Review code quality, verify standards compliance\n- **Subagent Type**: feature-dev:code-reviewer (from Claude Code)\n\n## Template Structure\nExtends base template (T1119) with role-specific:\n- Code review checklist\n- CLEO project conventions\n- Issue severity classification\n- Approval/rejection criteria\n\n## Input/Output\n- Input: Code files, test results\n- Output: Review comments, approval status\n\n## Acceptance Criteria\n- [ ] File exists at templates/agents/qa.md\n- [ ] Extends base template variables\n- [ ] Includes IMPLEMENTATION-ORCHESTRATION-SPEC.md QA role definition\n- [ ] Has code review checklist items\n- [ ] Specifies issue severity levels\n- [ ] Contains approval gate criteria\n- [ ] Wave 3 constraint documented\n\n## References\n- templates/session-agent-prompt.md (base template, T1119)\n- IMPLEMENTATION-ORCHESTRATION-SPEC.md (QA role)\n- CLAUDE.md (project conventions)\n- SOLID-PROMPTING-SYSTEM-SPEC.md (prompt structure)",
      "depends": [
        "T1119"
      ],
      "createdAt": "2025-12-31T07:06:21Z",
      "updatedAt": "2025-12-31T07:06:21Z"
    },
    {
      "id": "T1128",
      "title": "Create Cleanup Agent prompt template",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "core",
      "size": "small",
      "position": 13,
      "positionVersion": 0,
      "description": "## Objective\nCreate Cleanup Agent prompt template at templates/agents/cleanup.md\n\n## Role: Cleanup Agent\n- **Wave**: 4 (after QA)\n- **Purpose**: Remove dead code, fix linting issues, organize imports\n- **Subagent Type**: refactoring-expert (from Claude Code)\n\n## Template Structure\nExtends base template (T1119) with role-specific:\n- Cleanup scope (only touched files)\n- Safe refactoring rules\n- Import organization\n- Comment/todo cleanup\n\n## Input/Output\n- Input: Files modified by Coder\n- Output: Cleaned files, summary of changes\n\n## Acceptance Criteria\n- [ ] File exists at templates/agents/cleanup.md\n- [ ] Extends base template variables\n- [ ] Includes IMPLEMENTATION-ORCHESTRATION-SPEC.md Cleanup role definition\n- [ ] Has safe refactoring constraints\n- [ ] Specifies what NOT to clean up\n- [ ] Contains no-behavior-change requirement\n- [ ] Wave 4 constraint documented\n\n## References\n- templates/session-agent-prompt.md (base template, T1119)\n- IMPLEMENTATION-ORCHESTRATION-SPEC.md (Cleanup role)\n- SOLID-PROMPTING-SYSTEM-SPEC.md (prompt structure)",
      "depends": [
        "T1119"
      ],
      "createdAt": "2025-12-31T07:06:23Z",
      "updatedAt": "2025-12-31T07:06:23Z"
    },
    {
      "id": "T1129",
      "title": "Create Security Agent prompt template",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "core",
      "size": "small",
      "position": 14,
      "positionVersion": 0,
      "description": "## Objective\nCreate Security Agent prompt template at templates/agents/security.md\n\n## Role: Security Agent\n- **Task Wave**: 2 (after base template T1119)\n- **Execution Wave**: 3 (parallel with QA in production pipeline)\n- **Purpose**: Security review, vulnerability detection\n- **Subagent Type**: security-engineer (from Claude Code)\n\n## Template Structure\nExtends base template (T1119) with role-specific:\n- OWASP Top 10 checklist\n- Shell injection prevention (critical for Bash)\n- Input validation requirements\n- Secret detection\n\n## Input/Output\n- Input: Code files, especially scripts/\n- Output: Security findings, severity ratings\n\n## Acceptance Criteria\n- [ ] File exists at templates/agents/security.md\n- [ ] Extends base template variables\n- [ ] Includes IMPLEMENTATION-ORCHESTRATION-SPEC.md Part 3.6 Security Agent definition\n- [ ] Has shell injection prevention checks\n- [ ] Specifies severity classification (critical/high/medium/low)\n- [ ] Contains false positive handling\n- [ ] Execution wave 3 documented in template header\n\n## References\n- templates/session-agent-prompt.md (base template, T1119)\n- IMPLEMENTATION-ORCHESTRATION-SPEC.md Part 3.6 (Security Agent)\n- OWASP Top 10\n- SOLID-PROMPTING-SYSTEM-SPEC.md (prompt structure)",
      "depends": [
        "T1119"
      ],
      "createdAt": "2025-12-31T07:06:25Z",
      "updatedAt": "2025-12-31T07:06:25Z"
    },
    {
      "id": "T1130",
      "title": "Create Docs Agent prompt template",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T1114",
      "phase": "core",
      "size": "small",
      "position": 15,
      "positionVersion": 0,
      "description": "## Objective\nCreate Docs Agent prompt template at templates/agents/docs.md\n\n## Role: Docs Agent\n- **Task Wave**: 2 (after base template T1119)\n- **Execution Wave**: 5 (final agent in production pipeline)\n- **Purpose**: Update documentation, add examples\n- **Subagent Type**: technical-writer (from Claude Code)\n\n## Template Structure\nExtends base template (T1119) with role-specific:\n- Documentation scope (only changed features)\n- CLAUDE.md update requirements\n- docs/ structure conventions\n- Example code requirements\n\n## Input/Output\n- Input: Changed files, new features\n- Output: Updated docs, CLAUDE.md changes\n\n## Acceptance Criteria\n- [ ] File exists at templates/agents/docs.md\n- [ ] Extends base template variables\n- [ ] Includes IMPLEMENTATION-ORCHESTRATION-SPEC.md Part 3.7 Docs Agent definition\n- [ ] Has docs/ structure guidelines\n- [ ] Specifies CLAUDE.md update rules\n- [ ] Contains example code requirements\n- [ ] Execution wave 5 documented in template header\n\n## References\n- templates/session-agent-prompt.md (base template, T1119)\n- IMPLEMENTATION-ORCHESTRATION-SPEC.md Part 3.7 (Docs Agent)\n- docs/ directory structure\n- SOLID-PROMPTING-SYSTEM-SPEC.md (prompt structure)",
      "depends": [
        "T1119"
      ],
      "createdAt": "2025-12-31T07:06:26Z",
      "updatedAt": "2025-12-31T07:06:26Z"
    },
    {
      "id": "T1172",
      "title": "T1171.1: Create demo project with realistic task data (50+ tasks)",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "setup",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Create examples/demo-project/ with pre-populated .cleo/ directory. Must include: multiple epics with children, phase distribution, dependencies, some done/blocked tasks, realistic titles. Used for all screenshot scenarios.",
      "labels": [
        "demo",
        "screenshots"
      ],
      "createdAt": "2026-01-01T00:23:42Z",
      "updatedAt": "2026-01-01T00:23:42Z"
    },
    {
      "id": "T1173",
      "title": "T1171.2: Screenshot scenario - Project Dashboard (ct dash --human)",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 2,
      "positionVersion": 0,
      "description": "Capture ct dash --human with demo project. Hook: One command to know exactly where I am. Shows phase progress, task counts, current focus.",
      "labels": [
        "screenshots"
      ],
      "createdAt": "2026-01-01T00:23:43Z",
      "updatedAt": "2026-01-01T00:23:43Z"
    },
    {
      "id": "T1174",
      "title": "T1171.3: Screenshot scenario - Phases Progress (ct phases --human)",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 3,
      "positionVersion": 0,
      "description": "Capture ct phases --human showing progress bars. Hook: Track real progress across development phases. Eye-catching visual with percentage bars.",
      "labels": [
        "screenshots"
      ],
      "createdAt": "2026-01-01T00:23:45Z",
      "updatedAt": "2026-01-01T00:23:45Z"
    },
    {
      "id": "T1175",
      "title": "T1171.4: Screenshot scenario - Hierarchy Tree (ct list --tree --human)",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 4,
      "positionVersion": 0,
      "description": "Capture ct list --tree --human showing epictasksubtask structure. Hook: Break down features naturally. Shows priority icons and status.",
      "labels": [
        "screenshots"
      ],
      "createdAt": "2026-01-01T00:23:46Z",
      "updatedAt": "2026-01-01T00:23:46Z"
    },
    {
      "id": "T1176",
      "title": "T1171.5: Screenshot scenario - Analyze Engine (ct analyze --human)",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Capture ct analyze --human showing leverage scoring and bottlenecks. Hook: CLEO tells me what has the most impact. Shows unblocks N tasks insight.",
      "labels": [
        "screenshots"
      ],
      "createdAt": "2026-01-01T00:23:48Z",
      "updatedAt": "2026-01-01T00:23:48Z"
    },
    {
      "id": "T1177",
      "title": "T1171.6: Screenshot scenario - Anti-Hallucination Demo (error output)",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 6,
      "positionVersion": 0,
      "description": "Capture error when agent tries non-existent task (ct complete T999). Hook: Claude cant invent task IDs anymore. Shows structured error with fix command.",
      "labels": [
        "screenshots"
      ],
      "createdAt": "2026-01-01T00:23:49Z",
      "updatedAt": "2026-01-01T00:23:49Z"
    },
    {
      "id": "T1178",
      "title": "T1171.7: Screenshot scenario - Agent vs Human side-by-side",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 7,
      "positionVersion": 0,
      "description": "Create side-by-side image: Left: JSON output (agent sees), Right: --human output (you see). Hook: Designed for agents, readable by humans. Requires image editing tool.",
      "labels": [
        "screenshots"
      ],
      "createdAt": "2026-01-01T00:23:51Z",
      "updatedAt": "2026-01-01T00:23:51Z"
    },
    {
      "id": "T1179",
      "title": "T1171.8: Create animated GIF of session workflow",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "polish",
      "size": "medium",
      "position": 8,
      "positionVersion": 0,
      "description": "Use asciinema or similar to record: session start  focus set  work  complete  dash. Shows flow in action. For README hero section.",
      "labels": [
        "gif",
        "screenshots"
      ],
      "createdAt": "2026-01-01T00:23:52Z",
      "updatedAt": "2026-01-01T00:23:52Z"
    },
    {
      "id": "T1180",
      "title": "T1171.9: Update README with screenshots section",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "polish",
      "size": "medium",
      "position": 9,
      "positionVersion": 0,
      "description": "Add visual showcase section near top of README. Include: dashboard, phases, tree view. Link to docs/ROADMAP.md. Add 5-minute demo scenario.",
      "labels": [
        "documentation",
        "readme"
      ],
      "createdAt": "2026-01-01T00:23:54Z",
      "updatedAt": "2026-01-01T00:23:54Z"
    },
    {
      "id": "T1003",
      "title": "Review session start UX when multiSession disabled",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T998",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Review and improve session start behavior when Epic-Bound options are used but multiSession.enabled=false.\n\n**Current Behavior:**\n- User runs: cleo session start --scope epic:T001 --agent opus\n- Error: E_CONFIG_ERROR 'Multi-session mode not enabled'\n- User might fall back to: cleo session start (no scope binding)\n- Result: Session starts without scope protection\n\n**Issues:**\n1. Error message doesn't suggest enabling multiSession\n2. Easy to accidentally start unbound session\n3. No warning that scope/agent options were ignored\n\n**Potential Improvements:**\n1. Add suggestion to error: 'Run: cleo config set multiSession.enabled true'\n2. Or: Auto-enable multiSession when scope options provided?\n3. Or: Refuse to start ANY session if scope options given but disabled?\n4. Better error message with actionable fix command",
      "labels": [
        "enhancement",
        "session"
      ],
      "createdAt": "2025-12-29T08:27:14Z",
      "updatedAt": "2025-12-29T08:27:14Z"
    },
    {
      "id": "T1004",
      "title": "Validate agent ID uniqueness across active sessions",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T998",
      "phase": "core",
      "size": "medium",
      "position": 6,
      "positionVersion": 0,
      "description": "Currently agent IDs are not validated for uniqueness - multiple active sessions can have the same agent ID.\n\n**Current Behavior:**\n- Agent ID is optional, stored as-is\n- No uniqueness check\n- Multiple sessions can have same agentId or null\n\n**Enhancement Options:**\n1. Warn if duplicate agent ID in active sessions\n2. Error if duplicate (strict mode)\n3. Auto-generate unique agent ID if not provided\n4. Make configurable: multiSession.requireUniqueAgentId\n\n**Consideration:** \nIs agent ID meant to identify the LLM instance? If so, uniqueness makes sense.\nOr is it just metadata? Then duplicates are fine.",
      "labels": [
        "enhancement",
        "session"
      ],
      "createdAt": "2025-12-29T08:27:26Z",
      "updatedAt": "2025-12-29T08:27:26Z"
    },
    {
      "id": "T1005",
      "title": "Validate scope type is one of known types",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T998",
      "phase": "core",
      "size": "medium",
      "position": 7,
      "positionVersion": 0,
      "description": "Add validation that scope type is one of the 6 known types.\n\n**Known Scope Types:**\n- epic, task, taskGroup, subtree, epicPhase, custom\n\n**Current Behavior:**\n- Scope type parsed from --scope argument (e.g., 'epic:T001')\n- Unknown types may cause undefined behavior\n- No explicit validation error for invalid scope type\n\n**Enhancement:**\n1. Validate scope type against known list\n2. Return E_INVALID_INPUT with clear message\n3. Suggest valid scope types in error message",
      "labels": [
        "enhancement",
        "session"
      ],
      "createdAt": "2025-12-29T08:27:37Z",
      "updatedAt": "2025-12-29T08:27:37Z"
    },
    {
      "id": "T1006",
      "title": "Auto-generate meaningful session names from scope",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T998",
      "phase": "polish",
      "size": "medium",
      "position": 8,
      "positionVersion": 0,
      "description": "When --name is not provided, auto-generate a meaningful session name from the scope.\n\n**Current Behavior:**\n- Session name is optional\n- If not provided, stored as null\n- Session list shows null names\n\n**Enhancement:**\n1. Auto-generate name from scope: 'Epic: T001' or 'Task: T005'\n2. Include task title if available: 'Epic: Auth System (T001)'\n3. Timestamp suffix for uniqueness if needed\n4. Still allow explicit --name to override\n\n**Benefits:**\n- Better session list readability\n- Easier to identify sessions\n- No manual naming required",
      "labels": [
        "enhancement",
        "session"
      ],
      "depends": [
        "T1003"
      ],
      "createdAt": "2025-12-29T08:27:52Z",
      "updatedAt": "2025-12-29T08:27:52Z"
    },
    {
      "id": "T1019",
      "title": "Parse scope parameter in session resume subcommand",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T998",
      "phase": "core",
      "size": "medium",
      "position": 18,
      "positionVersion": 0,
      "description": "session.sh resume parser silently ignores scope parameter with catch-all pattern. User scope is dropped silently. Should parse and filter by scope or error if no match.",
      "labels": [
        "bug",
        "cli-parsing",
        "session"
      ],
      "notes": [
        "2025-12-29 18:05:24 UTC: LLM-AGENT-FIRST PRINCIPLE: Silent parameter drops are catastrophic for agents. They construct commands based on their understanding and expect explicit feedback. Silently ignoring --scope means agents cannot trust the command executed what they intended. Must either parse the parameter OR return an error explaining the parameter is not supported."
      ],
      "createdAt": "2025-12-29T17:21:21Z",
      "updatedAt": "2025-12-31T01:07:21Z"
    },
    {
      "id": "T1024",
      "title": "Add compliance checks for session exit codes and suggestions",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T998",
      "phase": "testing",
      "size": "medium",
      "position": 22,
      "positionVersion": 0,
      "description": "Add to check-compliance.sh: 1) Verify session errors use 30-39 range, 2) Every output_error call includes suggestion, 3) No generic exit 4 for session-specific errors, 4) No stderr when FORMAT=json",
      "labels": [
        "compliance",
        "llm-agent-ux",
        "testing"
      ],
      "notes": [
        "2025-12-29 18:05:47 UTC: LLM-AGENT-FIRST PRINCIPLE: Compliance checks ensure CLEO stays agent-friendly as it evolves. Tests verify: (1) exit codes are semantically correct, (2) error responses include actionable suggestions, (3) JSON output is consistent and self-documenting. These are guardrails that prevent regression."
      ],
      "createdAt": "2025-12-29T17:56:36Z",
      "updatedAt": "2025-12-29T17:56:36Z"
    },
    {
      "id": "T1025",
      "title": "Implement consistent exit 0 vs 100 policy for discovery mode",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T998",
      "phase": "core",
      "size": "medium",
      "position": 24,
      "positionVersion": 0,
      "description": "CRITICAL LLM-AGENT-FIRST: Agents will NEVER see the spec - behavior must be intuitive and self-documenting. CURRENT PROBLEM: Discovery mode returns exit 100 (NO_DATA) but HAS data (epic list). IMPLEMENTATION: Exit 0 with requiresInput:true and suggestedCommand field for interactive prompts. Exit 100 ONLY for true empty results (no matches found). Changes needed in session.sh discovery mode and anywhere exit 100 is used inappropriately.",
      "labels": [
        "documentation",
        "exit-codes",
        "implementation",
        "llm-agent-ux",
        "spec"
      ],
      "notes": [
        "2025-12-29 18:05:00 UTC: LLM-AGENT-FIRST PRINCIPLE: Exit codes must be semantically correct without reading documentation. Exit 0 = success (even if user input needed). Exit 100 = genuinely no data. Agents parse exit codes programmatically - they must be predictable and logical."
      ],
      "createdAt": "2025-12-29T17:56:37Z",
      "updatedAt": "2025-12-29T17:56:37Z"
    },
    {
      "id": "T1026",
      "title": "Fix error cascade in session start with auto-focus",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T998",
      "phase": "core",
      "size": "medium",
      "position": 25,
      "positionVersion": 0,
      "description": "When session start with auto-focus fails, agent sees two errors: E_FOCUS_REQUIRED (38) then E_SESSION_START_FAILED (35). Should be single error with context: E_SESSION_STARTED_FOCUS_FAILED, include session ID that WAS created, provide fix command for focus.",
      "labels": [
        "error-handling",
        "llm-agent-ux",
        "session"
      ],
      "notes": [
        "2025-12-29 18:05:48 UTC: LLM-AGENT-FIRST PRINCIPLE: Error cascades confuse agents. When an operation partially succeeds, agents need clear feedback about what succeeded and what failed, with specific fix commands. Two separate errors for one command forces agents to correlate and deduplicate - they should receive one comprehensive response."
      ],
      "createdAt": "2025-12-29T17:56:51Z",
      "updatedAt": "2025-12-29T17:56:51Z"
    },
    {
      "id": "T1027",
      "title": "Review session.sh and lib/sessions.sh complexity for refactoring",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T998",
      "phase": "polish",
      "size": "medium",
      "position": 26,
      "positionVersion": 0,
      "description": "Analyze the growing complexity of session-related code:\n\n**Files to Review:**\n- scripts/session.sh (~1700 lines after recent additions)\n- lib/sessions.sh (~1600 lines)\n\n**Analysis Required:**\n1. Identify code duplication across cmd_* functions\n2. Assess function responsibility (single responsibility principle)\n3. Map dependencies between functions\n4. Identify candidates for extraction to separate modules\n5. Check for dead code or unused functions\n6. Review error handling consistency\n7. Evaluate test coverage gaps\n\n**Refactoring Considerations:**\n- Split session.sh into smaller command-specific files?\n- Extract scope validation to lib/scope.sh?\n- Extract conflict detection to separate module?\n- Create lib/session-output.sh for JSON formatting?\n\n**Constraints:**\n- Must not break existing functionality\n- Must maintain all exit codes and error handling\n- Tests must pass before and after\n\n**Deliverable:**\n- Technical debt assessment report\n- Prioritized refactoring recommendations\n- Risk analysis for each refactoring option",
      "labels": [
        "code-review",
        "refactor",
        "technical-debt"
      ],
      "createdAt": "2025-12-29T17:57:16Z",
      "updatedAt": "2025-12-29T17:57:16Z"
    },
    {
      "id": "T1114",
      "title": "Implement CLEO-native TMUX Agent Orchestration",
      "status": "pending",
      "priority": "critical",
      "type": "task",
      "parentId": "T998",
      "phase": "core",
      "size": "medium",
      "position": 28,
      "positionVersion": 0,
      "description": "## Problem Statement\n\n`.current-session` is a single file shared by all terminals. True multi-terminal support is impossible without a unique identifier per Claude Code conversation.\n\n## Current Workarounds (all inadequate)\n\n1. **`.current-session` file** - Last session start wins, all terminals use same session\n2. **CLEO_SESSION env var** - Claude can't modify parent shell environment\n3. **`--session` flag** - Requires passing on every command (bad UX)\n\n## Research Findings (from T1013)\n\n- `CLAUDECODE=1` exists but is not unique per conversation\n- No `CLAUDE_CODE_SESSION_ID` or similar exposed\n- TTY returns 'not a tty' in Claude Code bash\n- PPID changes between commands\n\n## Potential Solutions\n\n1. **Feature Request to Anthropic**: Expose conversation ID as env var\n2. **Claude Code Hook**: SessionStart hook that sets CLEO_SESSION\n3. **Scope-based auto-detection**: If command targets T998 task, auto-use T998 session\n4. **Process tree detection**: Track parent process hierarchy\n5. **Accept limitation**: Document that multi-session requires manual `--session` flag\n\n## Success Criteria\n\n- 5 terminals can run 5 different sessions concurrently without interference\n- No manual `--session` flag or env var export required\n- Each Claude Code conversation auto-identifies itself",
      "labels": [
        "architecture",
        "claude-code",
        "limitation"
      ],
      "notes": [
        "2025-12-31 01:18:52 UTC: Identified during T1021 work. T1013 was auto-completed but the core problem remains unsolved. See T1013 notes for research findings.",
        "2025-12-31 02:01:56 UTC: Phase 0 of T1062 orchestration platform. Bash implementation validates patterns (tmux spawning, CLEO_SESSION binding, Stop hooks) before Python migration. Cross-linked with T1062.",
        "2025-12-31 07:29:21 UTC: ## Deliverables\n- lib/orchestrator.sh (T1116)\n- scripts/orchestrate.sh (T1117)\n- lib/sessions.sh updates (T1118)\n- templates/session-agent-prompt.md (T1119)\n- .claude/hooks/orchestrator-stop.yaml (T1120)\n- templates/agents/*.md (7 files: T1124-T1130)\n- docs/commands/orchestrate.md (T1121)\n- docs/reference/orchestration-architecture.md (T1121)\n- docs/tutorials/multi-agent-orchestration.md (T1121)\n- Spec updates: CLEO-SYSTEM-ARCHITECTURE, MULTI-SESSION, IMPLEMENTATION-ORCHESTRATION (T1122)",
        "2026-01-01 23:01:10 UTC: ## Pre-Migration Assessment (2025-12-31)\n\n**Context**: Full cleanup and migration to new repo planned. Identifying MUST-complete tasks.\n\n### MUST-HAVE (Core Orchestration MVP)\n| Task | Why Critical |\n|------|--------------|\n| T1116 | lib/orchestrator.sh - Core spawn/monitor functions, no orchestration without this |\n| T1117 | CLI wrapper - User interface to orchestration |\n| T1118 | CLEO_SESSION env var - Multi-agent session binding |\n| T1119 | Base prompt template - Agents need instructions |\n| T1120 | Stop hook - Completion detection |\n\n### NICE-TO-HAVE (Post-Migration)\n| Task | Why Deferrable |\n|------|----------------|\n| T1121 | Docs - Can document after core works |\n| T1122 | Spec updates - Reference docs, not blocking |\n| T1124-T1130 | 7 agent prompts - Base template sufficient initially, specialize later |\n\n### Migration Blocker Summary\n5 tasks MUST complete: T1116, T1117, T1118, T1119, T1120\n8 tasks can defer: T1121, T1122, T1124-T1130\n\n### Current Status\n- Wave 0:  T1123 complete\n- Wave 1:  4 tasks ready (T1116, T1118, T1119, T1120)\n- Wave 2-3: Blocked on Wave 1"
      ],
      "createdAt": "2025-12-31T01:18:52Z",
      "updatedAt": "2025-12-31T07:22:25Z"
    },
    {
      "id": "T1240",
      "title": "Update FILE-LOCKING-SPEC.md to reference actual implementation files",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "polish",
      "size": "medium",
      "position": 80,
      "positionVersion": 0,
      "description": "FILE-LOCKING-SPEC.md Part 2.1 references non-existent lib/file-locking.sh. Actual implementation is in lib/file-ops.sh (lock_file/unlock_file functions) and lib/atomic-write.sh. Update spec to reflect correct implementation locations.",
      "labels": [
        "docs",
        "spec-alignment"
      ],
      "createdAt": "2026-01-03T01:21:40Z",
      "updatedAt": "2026-01-03T01:21:40Z"
    },
    {
      "id": "T1241",
      "title": "Create documentation for undocumented scripts",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "polish",
      "size": "medium",
      "position": 81,
      "positionVersion": 0,
      "description": "Documentation audit identified 4 scripts without docs: archive-stats.sh, generate-features.sh, unarchive.sh, upgrade.sh. Create docs/commands/ entries for each.",
      "labels": [
        "commands",
        "docs"
      ],
      "createdAt": "2026-01-03T01:21:48Z",
      "updatedAt": "2026-01-03T01:21:48Z"
    },
    {
      "id": "T1316",
      "title": "Document context command following DOCUMENTATION-MAINTENANCE.md",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "polish",
      "size": "medium",
      "position": 85,
      "positionVersion": 0,
      "description": "The context command (scripts/context.sh) exists but lacks required documentation per Layer 321 hierarchy: docs/commands/context.md, COMMANDS-INDEX.json entry, TODO_Task_Management.md section, and potentially AGENT-INJECTION.md if essential",
      "labels": [
        "context-safeguard",
        "documentation"
      ],
      "createdAt": "2026-01-03T17:20:18Z",
      "updatedAt": "2026-01-03T17:20:18Z"
    },
    {
      "id": "T1362",
      "title": "Cleo Work: Embedded Iterative Loop System",
      "status": "cancelled",
      "priority": "critical",
      "type": "epic",
      "phase": "core",
      "size": "medium",
      "position": 3,
      "positionVersion": 0,
      "description": "Full 'cleo work' command system - self-contained iterative loop for working through cleo epics. No external dependencies (replaces ralph-wiggum plugin).",
      "notes": [
        "[Imported from cleo-testing as T012 on 2026-01-03]",
        "2026-02-16 18:00:52 UTC: Triage T4570: Obsolete. Bash-era iterative loop system. 14 children all bash-specific."
      ],
      "createdAt": "2026-01-03T08:28:57Z",
      "updatedAt": "2026-02-16T18:00:52.472Z",
      "cancelledAt": "2026-02-16T18:00:52.472Z"
    },
    {
      "id": "T1363",
      "title": "Design state file format for cleo work",
      "status": "pending",
      "priority": "critical",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Define the state file format (.claude/cleo-work.local.md) with YAML frontmatter. Fields: active, iteration, max_iterations, completion_promise, epic_id, session_id, started_at, cleo_version. Prompt follows after ---. Must be compatible with cleo's existing file conventions.",
      "notes": [
        "[Imported from cleo-testing as T013 on 2026-01-03]"
      ],
      "createdAt": "2026-01-03T08:29:14Z",
      "updatedAt": "2026-02-09T22:08:19Z"
    },
    {
      "id": "T1364",
      "title": "Create stop hook script (work-stop-hook.sh)",
      "status": "pending",
      "priority": "critical",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 2,
      "positionVersion": 0,
      "description": "Port ralph's stop-hook.sh with cleo enhancements: (1) Read state from .claude/cleo-work.local.md (2) Check max iterations (3) Detect <promise>COMPLETE</promise> in output (4) Increment iteration (5) Output JSON {decision:block, reason:prompt, systemMessage:...}. Add cleo-specific: update session activity, log iteration to cleo log.",
      "notes": [
        "[Imported from cleo-testing as T014 on 2026-01-03]"
      ],
      "depends": [
        "T1363"
      ],
      "createdAt": "2026-01-03T08:29:14Z",
      "updatedAt": "2026-02-09T22:08:17Z"
    },
    {
      "id": "T1365",
      "title": "Create setup script (work-setup.sh)",
      "status": "pending",
      "priority": "critical",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 3,
      "positionVersion": 0,
      "description": "Creates state file with cleo-optimized prompt. Takes epic-id, generates prompt with: task tree, workflow instructions, cleo commands (ct tree, ct next, ct focus, ct complete). Handles prompt generation dynamically based on current epic state.",
      "notes": [
        "[Imported from cleo-testing as T015 on 2026-01-03]"
      ],
      "depends": [
        "T1363"
      ],
      "createdAt": "2026-01-03T08:29:15Z",
      "updatedAt": "2026-01-03T08:29:15Z"
    },
    {
      "id": "T1367",
      "title": "Design cleo-optimized prompt template",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Create prompt template optimized for cleo workflow. Include: epic context, task table with status/deps, workflow steps (ct tree, ct next, ct focus set, ct complete), completion signal format, important rules. Template should be in templates/work-prompt.template.md",
      "notes": [
        "[Imported from cleo-testing as T017 on 2026-01-03]"
      ],
      "depends": [
        "T1363"
      ],
      "createdAt": "2026-01-03T08:29:26Z",
      "updatedAt": "2026-01-03T08:29:26Z"
    },
    {
      "id": "T1369",
      "title": "Create hook registration system",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 7,
      "positionVersion": 0,
      "description": "Create hook install/uninstall system. Scripts: work-hook-install.sh, work-hook-uninstall.sh. Template: templates/hooks/cleo-work-hooks.json. Acceptance: (1) cleo work install-hook --project creates .claude/hooks/ (2) cleo work install-hook --user creates ~/.claude/hooks/ (3) cleo work uninstall-hook removes hook files (4) Hook only activates when state file exists.",
      "notes": [
        "[Imported from cleo-testing as T019 on 2026-01-03]"
      ],
      "depends": [
        "T1364"
      ],
      "createdAt": "2026-01-03T08:29:39Z",
      "updatedAt": "2026-01-03T08:29:39Z"
    },
    {
      "id": "T1366",
      "title": "Create work.sh main command",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 4,
      "positionVersion": 0,
      "description": "Main work.sh command script with 4 subcommands. See subtasks: T1377 (start), T1378 (status), T1379 (cancel), T1380 (resume). Container task - completes when all subtasks done.",
      "notes": [
        "[Imported from cleo-testing as T016 on 2026-01-03]"
      ],
      "depends": [
        "T1364",
        "T1365"
      ],
      "createdAt": "2026-01-03T08:29:15Z",
      "updatedAt": "2026-01-03T08:29:15Z"
    },
    {
      "id": "T1368",
      "title": "Implement dynamic prompt generation",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 6,
      "positionVersion": 0,
      "description": "Generate prompts dynamically based on epic state. Query task tree, get pending tasks, include dependency info. Handle different epic sizes and complexity. Output clean markdown suitable for LLM consumption.",
      "notes": [
        "[Imported from cleo-testing as T018 on 2026-01-03]"
      ],
      "depends": [
        "T1367"
      ],
      "createdAt": "2026-01-03T08:29:26Z",
      "updatedAt": "2026-01-03T08:29:26Z"
    },
    {
      "id": "T1370",
      "title": "Integrate with cleo session system",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 8,
      "positionVersion": 0,
      "description": "Auto-start session on 'cleo work start'. Resume session on 'cleo work resume'. Track session stats (iterations, tasks completed). Log work events to cleo log. Handle multi-session conflicts.",
      "notes": [
        "[Imported from cleo-testing as T020 on 2026-01-03]"
      ],
      "depends": [
        "T1366"
      ],
      "createdAt": "2026-01-03T08:29:40Z",
      "updatedAt": "2026-01-03T08:29:40Z"
    },
    {
      "id": "T1371",
      "title": "Add cleo command map entry",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 9,
      "positionVersion": 0,
      "description": "Add 'work' to CMD_MAP and CMD_DESC in main cleo script. Create aliases: 'loop' -> 'work'. Document in cleo --help output.",
      "notes": [
        "[Imported from cleo-testing as T021 on 2026-01-03]"
      ],
      "depends": [
        "T1366"
      ],
      "createdAt": "2026-01-03T08:29:40Z",
      "updatedAt": "2026-01-03T08:29:40Z"
    },
    {
      "id": "T1372",
      "title": "Create test suite for cleo work",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 10,
      "positionVersion": 0,
      "description": "Full test suite for cleo work. See subtasks: T1381 (unit: state), T1382 (unit: hook), T1383 (integration). Container task - completes when all subtasks done.",
      "notes": [
        "[Imported from cleo-testing as T022 on 2026-01-03]"
      ],
      "depends": [
        "T1366",
        "T1369"
      ],
      "createdAt": "2026-01-03T08:29:54Z",
      "updatedAt": "2026-01-03T08:29:54Z"
    },
    {
      "id": "T1374",
      "title": "Write documentation and usage guide",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 12,
      "positionVersion": 0,
      "description": "Create docs/commands/work.md documentation. Required sections: (1) Overview and purpose (2) Command reference with all subcommands (3) State file format (4) Hook system explanation (5) Examples: start loop, check status, cancel, resume (6) Troubleshooting common issues. Template: Follow existing command docs format.",
      "notes": [
        "[Imported from cleo-testing as T024 on 2026-01-03]"
      ],
      "depends": [
        "T1366"
      ],
      "createdAt": "2026-01-03T08:29:54Z",
      "updatedAt": "2026-01-03T08:29:54Z"
    },
    {
      "id": "T1373",
      "title": "Create end-to-end integration test",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 11,
      "positionVersion": 0,
      "description": "Full test: Create test epic with 3 tasks -> run cleo work -> verify all tasks completed -> verify state cleanup. May need to simulate Claude responses or use actual Claude Code session.",
      "notes": [
        "[Imported from cleo-testing as T023 on 2026-01-03]"
      ],
      "depends": [
        "T1372"
      ],
      "createdAt": "2026-01-03T08:29:54Z",
      "updatedAt": "2026-01-03T08:29:54Z"
    },
    {
      "id": "T1375",
      "title": "Package for cleo distribution",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 13,
      "positionVersion": 0,
      "description": "Package cleo work for distribution. Checklist: (1) scripts/work.sh in ~/.cleo/scripts/ (2) work-stop-hook.sh in ~/.cleo/hooks/ (3) work-prompt.template.md in ~/.cleo/templates/ (4) Update VERSION file (5) Add CHANGELOG entry (6) Run install.sh --check to verify (7) Test fresh install in temp directory.",
      "notes": [
        "[Imported from cleo-testing as T025 on 2026-01-03]"
      ],
      "depends": [
        "T1371",
        "T1372",
        "T1374"
      ],
      "createdAt": "2026-01-03T08:29:55Z",
      "updatedAt": "2026-01-03T08:29:55Z"
    },
    {
      "id": "T1376",
      "title": "Consolidate prototype files into cleo work structure",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T1362",
      "phase": "setup",
      "size": "medium",
      "position": 14,
      "positionVersion": 0,
      "description": "Merge existing prototype files into proper structure:\n- .cleo/scripts/ralph.sh  refactor to work.sh\n- .claude/scripts/cleo-ralph.sh  merge useful parts\n- .claude/cleo-ralph-template.md  merge into prompt template\n- .claude/RALPH-CLEO-GUIDE.md  update for cleo work docs\n\nFiles location: .cleo/scripts/, .claude/scripts/, .claude/*.md",
      "notes": [
        "[Imported from cleo-testing as T026 on 2026-01-03]"
      ],
      "createdAt": "2026-01-03T23:42:57Z",
      "updatedAt": "2026-01-03T23:42:57Z"
    },
    {
      "id": "T1377",
      "title": "Implement work start subcommand",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1366",
      "phase": "core",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Implement cleo work start epic-id. Parse args, validate epic, call setup, register hook, start session.",
      "depends": [
        "T1364",
        "T1365"
      ],
      "createdAt": "2026-01-03T23:52:38Z",
      "updatedAt": "2026-01-03T23:52:38Z"
    },
    {
      "id": "T1378",
      "title": "Implement work status subcommand",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1366",
      "phase": "core",
      "size": "medium",
      "position": 2,
      "positionVersion": 0,
      "description": "Implement cleo work status. Show current loop state: epic, iteration count, session info, started time, completion promise. Exit 100 if no active loop.",
      "depends": [
        "T1377"
      ],
      "createdAt": "2026-01-03T23:52:49Z",
      "updatedAt": "2026-01-03T23:52:49Z"
    },
    {
      "id": "T1379",
      "title": "Implement work cancel subcommand",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1366",
      "phase": "core",
      "size": "medium",
      "position": 3,
      "positionVersion": 0,
      "description": "Implement cleo work cancel. Stop active loop, cleanup state file, suspend session. Support --force to skip confirmation. Exit 100 if no active loop.",
      "depends": [
        "T1377"
      ],
      "createdAt": "2026-01-03T23:52:52Z",
      "updatedAt": "2026-01-03T23:52:52Z"
    },
    {
      "id": "T1380",
      "title": "Implement work resume subcommand",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1366",
      "phase": "core",
      "size": "medium",
      "position": 4,
      "positionVersion": 0,
      "description": "Implement cleo work resume. Resume suspended work session. Support --session to specify session ID. Restore state file and continue loop.",
      "depends": [
        "T1377"
      ],
      "createdAt": "2026-01-03T23:52:54Z",
      "updatedAt": "2026-01-03T23:52:54Z"
    },
    {
      "id": "T1381",
      "title": "Unit tests: state file parsing and frontmatter",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1372",
      "phase": "testing",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Create tests/unit/work-state.bats. Test: state file creation, YAML frontmatter parsing, iteration increment, field validation. Fixture: sample state file.",
      "createdAt": "2026-01-03T23:53:07Z",
      "updatedAt": "2026-01-03T23:53:07Z"
    },
    {
      "id": "T1382",
      "title": "Unit tests: stop hook logic and promise detection",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1372",
      "phase": "testing",
      "size": "medium",
      "position": 2,
      "positionVersion": 0,
      "description": "Create tests/unit/work-hook.bats. Test: promise detection regex, max iteration check, iteration increment, JSON output format. Mock assistant output.",
      "createdAt": "2026-01-03T23:53:09Z",
      "updatedAt": "2026-01-03T23:53:09Z"
    },
    {
      "id": "T1383",
      "title": "Integration tests: work command subcommands",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1372",
      "phase": "testing",
      "size": "medium",
      "position": 3,
      "positionVersion": 0,
      "description": "Create tests/integration/work-command.bats. Test: work start creates state, work status shows info, work cancel cleans up, work resume restores. Use fixture epic.",
      "createdAt": "2026-01-03T23:53:10Z",
      "updatedAt": "2026-01-03T23:53:10Z"
    },
    {
      "id": "T1469",
      "title": "HITL Testing: Validate automated migration system",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "testing",
      "size": "small",
      "position": 6,
      "positionVersion": 0,
      "description": "Human-in-the-loop validation of complete automated migration system. Test scenarios: (1) PATCH change: Edit schema with maxLength increase, commit, verify hook generates complete migration automatically. (2) MINOR change: Add new optional field to schema, commit, verify hook generates template with correct TODO structure. (3) MAJOR change: Make breaking change, verify hook generates warning template. (4) Developer mode: Test CLEO_DEVELOPER_MODE=1 bypass of migrate gate. (5) Agent protection: Verify migrate command shows warning interactively, allows status/check without warning. (6) Documentation: Confirm agents cannot learn migrate command from docs. Success criteria: All scenarios work as designed, no false positives, clean user experience. BLOCKS: Epic T1463 completion.",
      "labels": [
        "hitl",
        "testing",
        "validation"
      ],
      "notes": [
        "2026-01-05 05:33:33 UTC: HITL TESTING STRATEGY: Use REAL schema improvements for functional validation instead of dummy test data. Complete testing plan documented in dev/REAL-SCHEMA-CHANGES-TESTING.md. Testing covers: (1) PATCH automation (2 constraint relaxations: title 120200, description 20003000), (2) MINOR automation (3 new fields: effort enum, technicalDebt boolean, agentModel string), (3) MAJOR templates (test schema only), (4) Developer mode protection, (5) Documentation sanitization. All schema changes provide dual value: thorough automation testing AND actual CLEO feature improvements. Schema evolution: todo v2.6.12.7.1, sessions v1.0.01.1.0. Expected outcome: End-to-end validation of 95% automation system with real-world usage patterns.",
        "2026-01-22 23:05:54 UTC: 2026-01-22: Doctor command fixes committed (62b2860):\n- Fixed GRAY variable undefined error\n- Fixed color variable scoping (export for helper functions)\n- Fixed project table filter logic (AND not OR)\n- Fixed hardcoded schema versions in migrate_config_to_2_5_0 (now uses get_schema_version_from_file)\n- Fixed boolean string inconsistency (unquoted true/false for jq)\n- Fixed extra blank line in doctor-checks.sh\n- Added lib/doctor-project-cache.sh for caching\n- Added DOCTOR_IMPROVEMENTS.md documentation\n- Validation: All syntax checks pass, doctor --human works correctly\n\nRELATED TO T1463: The hardcoded schema versions fix validates that the single source of truth principle is enforced in migration functions.",
        "2026-01-23 00:43:23 UTC: Continued doctor fixes from previous session:\n\nFIXES APPLIED:\n1. lib/migrate.sh: Renamed SCRIPT_DIR to _MIGRATE_LIB_DIR (prevents collision with caller)\n2. scripts/doctor.sh: Fixed schemas_outdated unbound variable (default to '[]')\n3. scripts/doctor.sh: Removed ISSUES column truncation (now shows full text)\n4. scripts/validate.sh: Fixed arithmetic error in invalid_count (sanitize non-numeric)\n5. scripts/doctor.sh: Fixed --clean-temp loop failure (handle set -e gracefully)\n\nVALIDATED:\n- cleo doctor --human shows full issues\n- ISSUES column no longer truncated\n- Temp projects cleaned successfully\n- All validation errors are legitimate data issues, not bugs\n\nREMAINING:\n- claude-todo shows 'Validation failed' because focus.currentTask doesn't match active task (data issue)\n- Other projects show 'Outdated schemas' (need cleo upgrade on each project)",
        "2026-01-23 00:43:32 UTC: Continued doctor fixes from previous session - FIXES APPLIED: 1. migrate.sh SCRIPT_DIR collision, 2. schemas_outdated unbound variable, 3. ISSUES column truncation removed, 4. validate.sh arithmetic error fixed, 5. clean-temp loop failure fixed",
        "[COMPLETED 2026-01-23T08:18:57Z] HITL testing validated. cleo upgrade works correctly for migrations. Found bug in low-level cleo migrate run command (arithmetic error in find_migration_path). Documented in claudedocs/research-outputs/2026-01-23_T1469-hitl-testing.md",
        "[REOPENED 2026-01-26T17:50:50Z] Reason: Epic has pending children | Was completed at: 2026-01-23T08:18:57Z"
      ],
      "files": [
        "dev/REAL-SCHEMA-CHANGES-TESTING.md"
      ],
      "createdAt": "2026-01-05T03:50:08Z",
      "updatedAt": "2026-01-26T17:50:50Z",
      "verification": {
        "passed": false,
        "round": 0,
        "gates": {
          "implemented": true,
          "testsPassed": null,
          "qaPassed": null,
          "cleanupDone": null,
          "securityPassed": null,
          "documented": null
        },
        "lastAgent": "coder",
        "lastUpdated": "2026-01-23T08:18:58Z",
        "failureLog": []
      }
    },
    {
      "id": "T1482",
      "title": "Test PATCH auto-generation end-to-end",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1469",
      "phase": "testing",
      "size": "small",
      "position": 3,
      "positionVersion": 0,
      "description": "Validate PATCH automation with real schema change. Test: (1) Make PATCH change to todo.schema.json (increase maxLength from current value), (2) Stage schema file: git add schemas/todo.schema.json, (3) Attempt commit, (4) Verify pre-commit hook detects change, (5) Verify hook generates complete migration function, (6) Verify migration function inserted into lib/migrate.sh, (7) Verify prompted to stage lib/migrate.sh, (8) Accept staging and complete commit, (9) Verify migration runs successfully with cleo upgrade. Success: Zero manual coding required, migration auto-generated and works.",
      "labels": [
        "hitl",
        "testing",
        "validation"
      ],
      "notes": [
        "2026-01-05 04:59:27 UTC: TESTING PLAN: Use REAL schema improvements for functional validation. PATCH changes: (1) title maxLength 120200 (todo v2.6.12.6.2), (2) description maxLength 20003000 (todo v2.6.22.6.3). Both are valuable improvements AND test 100% PATCH automation. Justification: Current limits restrictive for complex features. Testing validates: hook detects changes, generates complete migrations, inserts into lib/migrate.sh, prompts to stage, blocks commit if declined, migrations run successfully. Reference: dev/REAL-SCHEMA-CHANGES-TESTING.md for complete testing strategy."
      ],
      "files": [
        "dev/REAL-SCHEMA-CHANGES-TESTING.md"
      ],
      "createdAt": "2026-01-05T04:08:02Z",
      "updatedAt": "2026-01-05T04:08:02Z"
    },
    {
      "id": "T1483",
      "title": "Test MINOR/MAJOR template generation",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1469",
      "phase": "testing",
      "size": "small",
      "position": 4,
      "positionVersion": 0,
      "description": "Validate MINOR and MAJOR template generation (after automation improvements). Test MINOR: (1) Add new optional field to schema, (2) Commit, (3) Verify smart template with suggested implementation OR complete auto-generated code. Test MAJOR: (1) Remove field or make breaking change, (2) Commit, (3) Verify warning template with helpful TODOs and suggested transformations. Success: Templates provide actionable guidance or complete automation for common patterns.",
      "labels": [
        "hitl",
        "testing",
        "validation"
      ],
      "notes": [
        "2026-01-05 04:59:29 UTC: TESTING PLAN: Use REAL schema improvements for functional validation. MINOR changes: (1) Add 'effort' enum field (todo v2.6.32.7.0) - relative effort without time estimates, (2) Add 'technicalDebt' boolean (todo v2.7.02.7.1) - flag debt vs features, (3) Add 'agentModel' enum to sessions (v1.0.11.1.0) - track which model used. Tests enum, boolean, and string type auto-generation. MAJOR testing: Use throwaway test.schema.json with dummy field removal to verify smart jq templates. Reference: dev/REAL-SCHEMA-CHANGES-TESTING.md. Expected: MINOR ~90% automated with type-aware defaults, MAJOR smart templates with jq hints."
      ],
      "files": [
        "dev/REAL-SCHEMA-CHANGES-TESTING.md"
      ],
      "createdAt": "2026-01-05T04:08:04Z",
      "updatedAt": "2026-01-05T04:08:04Z"
    },
    {
      "id": "T1484",
      "title": "Test developer mode bypass and runtime protection",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1469",
      "phase": "testing",
      "size": "small",
      "position": 5,
      "positionVersion": 0,
      "description": "Validate runtime protection mechanisms. Test developer mode bypass: (1) Run: CLEO_DEVELOPER_MODE=1 cleo migrate status, (2) Verify no warning shown, direct access granted. Test runtime warning: (1) Run: cleo migrate run (without CLEO_DEVELOPER_MODE), (2) Verify interactive warning appears, (3) Verify explains upgrade vs migrate, (4) Test 'n' response redirects to upgrade, (5) Test 'y' response proceeds with migrate. Test read-only bypass: (1) Run: cleo migrate status (no env var), (2) Verify no warning for read-only operations. Success: Protection works as designed, developers can opt-in, agents get redirected.",
      "labels": [
        "hitl",
        "security",
        "testing",
        "validation"
      ],
      "createdAt": "2026-01-05T04:08:07Z",
      "updatedAt": "2026-01-05T04:08:07Z"
    },
    {
      "id": "T1485",
      "title": "Verify agent documentation sanitization",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1469",
      "phase": "testing",
      "size": "small",
      "position": 6,
      "positionVersion": 0,
      "description": "Confirm migrate command removed from agent-facing documentation. Check: (1) Search docs/TODO_Task_Management.md for 'migrate' references, (2) Verify line 239-240 shows 'cleo upgrade' not 'cleo migrate', (3) Verify line 708 Error Recovery table shows 'cleo upgrade' for schema issues, (4) Verify no other migrate references exist in agent docs, (5) Check CLAUDE.md injection doesn't reference migrate. Success: Agents cannot learn about low-level migrate command from documentation.",
      "labels": [
        "documentation",
        "security",
        "testing",
        "validation"
      ],
      "createdAt": "2026-01-05T04:08:09Z",
      "updatedAt": "2026-01-05T04:08:09Z"
    },
    {
      "id": "T1610",
      "title": "Documentation Management System",
      "status": "cancelled",
      "priority": "high",
      "type": "epic",
      "phase": "core",
      "size": "large",
      "position": 103,
      "positionVersion": 0,
      "description": "Build reusable DOCUMENTOR subagent and documentation management best practices. Includes: subagent template, skill integration, versioning strategy, archiving policy, deduplication rules, temp doc handling. Designed for ANY project reuse.",
      "labels": [
        "documentation",
        "governance",
        "infrastructure",
        "subagent"
      ],
      "notes": [
        "2026-02-16 18:00:52 UTC: Triage T4570: Obsolete. Superseded by T4556 Documentation Consolidation and GitBook Migration."
      ],
      "createdAt": "2026-01-19T19:48:15Z",
      "updatedAt": "2026-02-16T18:00:52.698Z",
      "cancelledAt": "2026-02-16T18:00:52.698Z"
    },
    {
      "id": "T1611",
      "title": "Research documentation best practices",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T1610",
      "phase": "core",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Survey industry patterns (Google, Stripe, Anthropic docs). Identify: organization patterns, versioning strategies, archiving policies, temp doc handling. Output: Research findings document. HITL_GATE: Orchestrator will ask user to review findings before proceeding.",
      "labels": [
        "hitl-gate",
        "research"
      ],
      "notes": [
        "2026-01-19 19:49:39 UTC: HITL_GATE: Requires user review of research findings before T1614 (Design) begins"
      ],
      "createdAt": "2026-01-19T19:48:22Z",
      "updatedAt": "2026-01-20T04:28:52Z"
    },
    {
      "id": "T1614",
      "title": "Design documentation taxonomy",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T1610",
      "phase": "core",
      "size": "medium",
      "position": 3,
      "positionVersion": 0,
      "description": "Propose folder structure and doc types: guides, reference, specs, temp, archive. Define lifecycle: draft -> review -> published -> deprecated -> archived. Define naming conventions and versioning scheme. HITL_GATE: User approves taxonomy before implementation.",
      "labels": [
        "design",
        "hitl-gate"
      ],
      "notes": [
        "2026-01-19 19:49:45 UTC: HITL_GATE: User must approve taxonomy design before implementation tasks T1616, T1618 can proceed"
      ],
      "depends": [
        "T1611"
      ],
      "createdAt": "2026-01-19T19:48:36Z",
      "updatedAt": "2026-01-19T19:48:36Z"
    },
    {
      "id": "T1616",
      "title": "Create DOCUMENTOR subagent template",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T1610",
      "phase": "core",
      "size": "large",
      "position": 4,
      "positionVersion": 0,
      "description": "Create templates/orchestrator-protocol/subagent-prompts/DOCUMENTOR.md. Include: best practices from research, skill references (docs-review, docs-write), lifecycle management guidance, versioning rules, archiving procedures. Follow BASE-SUBAGENT-PROMPT.md structure.",
      "labels": [
        "implementation",
        "subagent"
      ],
      "depends": [
        "T1614"
      ],
      "createdAt": "2026-01-19T19:48:44Z",
      "updatedAt": "2026-01-19T19:48:44Z"
    },
    {
      "id": "T1618",
      "title": "Create documentation governance spec",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T1610",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Create docs/specs/DOCUMENTATION-GOVERNANCE.md. Define: naming conventions (kebab-case, prefixes), versioning scheme (semver vs date-based), archive policy (when/how to archive), deduplication rules, temp doc expiry rules. Machine-readable metadata format.",
      "labels": [
        "implementation",
        "spec"
      ],
      "depends": [
        "T1614"
      ],
      "createdAt": "2026-01-19T19:48:51Z",
      "updatedAt": "2026-01-19T19:48:51Z"
    },
    {
      "id": "T1620",
      "title": "Integrate with existing docs skills",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T1610",
      "phase": "core",
      "size": "medium",
      "position": 6,
      "positionVersion": 0,
      "description": "Update skills/docs-review/SKILL.md to reference DOCUMENTOR patterns and governance spec. Update skills/docs-write/SKILL.md to include lifecycle awareness. Consider creating skills/docs-manage/SKILL.md for lifecycle operations (archive, version bump, dedup check).",
      "labels": [
        "implementation",
        "skills"
      ],
      "depends": [
        "T1616"
      ],
      "createdAt": "2026-01-19T19:48:58Z",
      "updatedAt": "2026-01-19T19:48:58Z"
    },
    {
      "id": "T1622",
      "title": "Create doc management CLI commands",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T1610",
      "phase": "core",
      "size": "large",
      "position": 7,
      "positionVersion": 0,
      "description": "Create 'cleo docs' subcommand family: 'cleo docs audit' - Find duplicates, orphans, outdated docs; 'cleo docs archive' - Move to archive with metadata preservation; 'cleo docs version' - Show/update doc versions. Follow existing cleo command patterns.",
      "labels": [
        "cli",
        "implementation"
      ],
      "depends": [
        "T1618",
        "T1620"
      ],
      "createdAt": "2026-01-19T19:49:07Z",
      "updatedAt": "2026-01-19T19:49:07Z"
    },
    {
      "id": "T1624",
      "title": "Create temp doc handling system",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T1610",
      "phase": "core",
      "size": "medium",
      "position": 8,
      "positionVersion": 0,
      "description": "Implement temp doc lifecycle: auto-expiry detection for temp docs, promotion path from temp to permanent, cleanup rules. Temp docs in claudedocs/ should have clear expiry markers. Integration with cleo docs audit to flag expired temps.",
      "labels": [
        "implementation"
      ],
      "depends": [
        "T1618"
      ],
      "createdAt": "2026-01-19T19:49:14Z",
      "updatedAt": "2026-01-19T19:49:14Z"
    },
    {
      "id": "T1626",
      "title": "Integration tests for doc management",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T1610",
      "phase": "testing",
      "size": "medium",
      "position": 9,
      "positionVersion": 0,
      "description": "Create BATS tests for: full doc lifecycle (create -> version -> archive), deduplication detection, CLI command integration, temp doc expiry. HITL_GATE: User reviews test coverage before final documentation.",
      "labels": [
        "hitl-gate",
        "testing"
      ],
      "notes": [
        "2026-01-19 19:49:47 UTC: HITL_GATE: User reviews test coverage and results before T1628 (final docs)"
      ],
      "depends": [
        "T1622",
        "T1624"
      ],
      "createdAt": "2026-01-19T19:49:21Z",
      "updatedAt": "2026-01-19T19:49:21Z"
    },
    {
      "id": "T1628",
      "title": "Documentation for documentation system",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T1610",
      "phase": "polish",
      "size": "medium",
      "position": 10,
      "positionVersion": 0,
      "description": "Meta-documentation: How to use the DOCUMENTOR subagent, best practices guide for doc management, workflow examples. Update docs/INDEX.md with new documentation management section. HITL_GATE: Final review before epic completion.",
      "labels": [
        "documentation",
        "hitl-gate"
      ],
      "notes": [
        "2026-01-19 19:49:49 UTC: HITL_GATE: Final review checkpoint before epic T1610 completion"
      ],
      "depends": [
        "T1626"
      ],
      "createdAt": "2026-01-19T19:49:30Z",
      "updatedAt": "2026-01-19T19:49:30Z"
    },
    {
      "id": "T1636",
      "title": "Set up Mintlify infrastructure",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2794",
      "phase": "polish",
      "size": "large",
      "position": 5,
      "positionVersion": 0,
      "description": "Set up and enhance Mintlify infrastructure for robust, modern documentation.\n\n## Current State\n- Basic docs.json exists with 6 tabs\n- 16 MDX files created\n- Missing: mermaid support, advanced theming, CI/CD\n\n## Updated Scope\n1. **Mermaid Integration**\n   - Configure mermaid in docs.json\n   - Test rendering across pages\n   - Set up theme-aware styling\n\n2. **Advanced Theming**\n   - Custom CSS for CLEO branding\n   - Dark/light mode consistency\n   - Code block syntax highlighting\n\n3. **CI/CD Pipeline**\n   - GitHub Actions for preview deployments\n   - Auto-deploy on merge to main\n   - Command docs regeneration trigger\n\n4. **Analytics & Search**\n   - Configure Mintlify search\n   - Set up analytics dashboard\n   - Add feedback widgets\n\n## Subtasks\n- T1929: Redesign docs.json navigation structure\n\n## Dependencies\n- T1921: Information architecture (structure decisions)\n- T1631: Mintlify research (requirements)\n\n## Deliverables\n- Fully configured docs.json with mermaid support\n- CI/CD pipeline (.github/workflows/docs.yml)\n- Working search and analytics\n- Custom CSS theming",
      "labels": [
        "documentation",
        "infrastructure",
        "mintlify"
      ],
      "notes": [
        "[COMPLETED 2026-01-20T03:51:17Z] Mintlify infrastructure complete: docs.json with 6 nav tabs, new directories created (concepts, api, skills, images), .gitignore and .mintignore configured",
        "[REOPENED 2026-01-21T06:26:54Z] Reason: Updating plan to incorporate vision documents and modern MDX features | Was completed at: 2026-01-20T03:51:17Z",
        "[COMPLETED 2026-01-21T07:14:14Z] Enhanced infrastructure complete",
        "[REOPENED 2026-01-26T17:50:51Z] Reason: Epic has pending children | Was completed at: 2026-01-21T07:14:14Z"
      ],
      "createdAt": "2026-01-19T20:17:46Z",
      "updatedAt": "2026-02-11T05:35:00Z",
      "verification": {
        "passed": true,
        "round": 0,
        "gates": {
          "implemented": true,
          "testsPassed": null,
          "qaPassed": null,
          "cleanupDone": null,
          "securityPassed": null,
          "documented": null
        },
        "lastAgent": "coder",
        "lastUpdated": "2026-01-21T07:14:15Z",
        "failureLog": []
      }
    },
    {
      "id": "T1929",
      "title": "Redesign docs.json navigation structure",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1636",
      "phase": "core",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Redesign the Mintlify docs.json navigation based on information architecture.\n\n## Current Structure (6 tabs)\n- Getting Started, Guides, Commands, Concepts, API, Skills\n\n## Proposed Structure (audience-based)\nOption A: Audience-split tabs\n- User Guide (getting started, workflows, commands)\n- Developer (architecture, contributing, API)\n- Reference (commands, schemas, exit codes)\n\nOption B: Content-type tabs  \n- Learn (tutorials, concepts, guides)\n- Reference (commands, API, schemas)\n- Community (roadmap, contributing, changelog)\n\n## Key Updates Needed\n1. Add Vision section with CLEO-UNIFIED-VISION content\n2. Add Orchestrator Protocol section\n3. Restructure Commands to use auto-generated pages\n4. Add interactive tutorials section\n5. Add changelog/releases section\n\n## Deliverables\n- Updated docs.json with new navigation\n- Placeholder MDX files for new pages\n- Navigation testing across devices",
      "labels": [
        "documentation",
        "mintlify",
        "navigation"
      ],
      "createdAt": "2026-01-21T06:28:24Z",
      "updatedAt": "2026-01-21T06:28:24Z"
    },
    {
      "id": "T1964",
      "title": "Fix doctor ISSUES column truncation - show full issue text",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1469",
      "phase": "core",
      "size": "medium",
      "position": 8,
      "positionVersion": 0,
      "description": "ISSUES column truncated to 25 chars making it useless. Lines 697-699 and 739-741 in doctor.sh truncate issues. Fix: remove truncation or increase limit significantly, update printf format from %-30s to %s for dynamic width.",
      "labels": [
        "bug",
        "doctor"
      ],
      "createdAt": "2026-01-22T23:22:59Z",
      "updatedAt": "2026-01-22T23:22:59Z"
    },
    {
      "id": "T1965",
      "title": "Fix doctor schema vs CLI version comparison bug",
      "status": "pending",
      "priority": "critical",
      "type": "subtask",
      "parentId": "T1469",
      "phase": "core",
      "size": "medium",
      "position": 9,
      "positionVersion": 0,
      "description": "CRITICAL BUG: doctor-checks.sh lines 798-813 compares schema version (2.x.x) with CLI version (0.x.x) - completely different versioning systems. This causes false 'outdated schema' warnings. Fix: use get_schema_version_from_file() to get expected schema version, not CLI VERSION file.",
      "labels": [
        "bug",
        "doctor",
        "schema"
      ],
      "createdAt": "2026-01-22T23:23:01Z",
      "updatedAt": "2026-01-23T08:14:55Z"
    },
    {
      "id": "T1966",
      "title": "Fix doctor --clean-temp showing stale counts",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1469",
      "phase": "core",
      "size": "medium",
      "position": 10,
      "positionVersion": 0,
      "description": "Health check runs before cleanup in Phase 1-3, cleanup runs in Phase 5b, but output shows pre-clean data. Also wc -l returns 1 for empty string. Fix: run cleanup before health checks when --clean-temp specified, or re-run health check after cleanup.",
      "labels": [
        "bug",
        "doctor"
      ],
      "createdAt": "2026-01-22T23:23:04Z",
      "updatedAt": "2026-01-22T23:23:04Z"
    },
    {
      "id": "T1967",
      "title": "Fix agent config registry never created",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T1469",
      "phase": "core",
      "size": "medium",
      "position": 11,
      "positionVersion": 0,
      "description": "setup-agents.sh defines AGENT_CONFIGS_REGISTRY but never calls init_agent_config_registry() or update_agent_config_registry() from agent-config.sh. Doctor keeps showing 'Agent config registry not found' because it never gets created. Fix: add registry creation calls to setup-agents.sh.",
      "labels": [
        "agent-config",
        "bug",
        "doctor"
      ],
      "createdAt": "2026-01-22T23:23:06Z",
      "updatedAt": "2026-01-22T23:23:06Z"
    },
    {
      "id": "T1968",
      "title": "Fix doctor double counting orphaned and temp projects",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T1469",
      "phase": "core",
      "size": "medium",
      "position": 12,
      "positionVersion": 0,
      "description": "When orphaned project matches temp pattern, both temp_count and orphaned are incremented. Fix: check orphan status FIRST and skip temp counting for orphaned projects. Move orphan check before temp check and use continue to skip.",
      "labels": [
        "bug",
        "doctor"
      ],
      "createdAt": "2026-01-22T23:23:08Z",
      "updatedAt": "2026-01-22T23:23:08Z"
    },
    {
      "id": "T2089",
      "title": "EPIC: Claude CLI Aliases Integration - Cross-Platform Setup Command",
      "status": "cancelled",
      "priority": "high",
      "type": "epic",
      "phase": "core",
      "size": "large",
      "position": 124,
      "positionVersion": 0,
      "description": "Implement cleo setup-claude-aliases command to install optimized Claude Code CLI aliases across Linux, macOS, and Windows (native). Includes doctor integration for health checks and auto-fix support. See spec: claudedocs/specs/SETUP-CLAUDE-ALIASES-SPEC.md",
      "labels": [
        "aliases",
        "claude-cli",
        "cross-platform",
        "integration"
      ],
      "notes": [
        "[COMPLETED 2026-01-23T07:34:49Z] Feature complete: lib/claude-aliases.sh, scripts/setup-claude-aliases.sh, doctor integration, 94 passing tests, documentation. T2111 (Windows) deferred to future release.",
        "[REOPENED 2026-01-26T17:50:53Z] Reason: Epic has pending children | Was completed at: 2026-01-23T07:34:49Z",
        "2026-02-16 18:00:52 UTC: Triage T4570: Obsolete. Bash-specific CLI aliases. TS CLI uses Commander.js with built-in support."
      ],
      "createdAt": "2026-01-23T06:23:19Z",
      "updatedAt": "2026-02-16T18:00:52.876Z",
      "cancelledAt": "2026-02-16T18:00:52.876Z"
    },
    {
      "id": "T2111",
      "title": "Windows-specific: PowerShell profile creation and CMD registry",
      "status": "blocked",
      "priority": "low",
      "type": "task",
      "parentId": "T2089",
      "phase": "polish",
      "size": "small",
      "position": 6,
      "positionVersion": 0,
      "description": "Enhance Windows support: auto-create PowerShell profile directory if missing, handle CMD.exe via batch file + optional registry AutoRun key. Detect pwsh vs powershell.exe. Handle Windows path separators. Test on Windows 10/11 with native Claude Code installer.",
      "labels": [
        "enhancement",
        "windows"
      ],
      "blockedBy": "Deferred: Windows support not critical for initial release. Core functionality complete for Linux/macOS.",
      "createdAt": "2026-01-23T06:25:18Z",
      "updatedAt": "2026-01-23T06:25:18Z"
    },
    {
      "id": "T2113",
      "title": "Test size default",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 126,
      "positionVersion": 0,
      "description": "Testing that size defaults to medium",
      "createdAt": "2026-01-23T07:19:00Z",
      "updatedAt": "2026-01-23T07:19:00Z"
    },
    {
      "id": "T2119",
      "title": "Alias collision detection and smart recognition",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2089",
      "phase": "core",
      "size": "medium",
      "position": 7,
      "positionVersion": 0,
      "description": "Add collision detection for existing aliases/functions, recognize function-based Claude aliases in doctor check, warn before overwriting non-Claude aliases",
      "labels": [
        "enhancement",
        "safety"
      ],
      "createdAt": "2026-01-23T08:06:31Z",
      "updatedAt": "2026-01-23T08:06:31Z"
    },
    {
      "id": "T2150",
      "title": "Add format validation before resolve_format calls",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "small",
      "position": 4,
      "positionVersion": 0,
      "description": "Add validate_format_value() call from flags.sh:432 before resolve_format() in deps-command.sh and relates-command.sh. Pattern: if \\! validate_format_value FLAG_FORMAT 'text,json,markdown'; then exit EXIT_INVALID_INPUT; fi",
      "labels": [
        "bugfix",
        "validation"
      ],
      "createdAt": "2026-01-23T17:14:17Z",
      "updatedAt": "2026-01-23T17:14:17Z"
    },
    {
      "id": "T2154",
      "title": "Fix unit tests - CLEO_DIR env var alignment and graph-cache return codes",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "testing",
      "size": "small",
      "position": 8,
      "positionVersion": 0,
      "description": "Fix failing unit tests: (1) graph-cache.bats uses wrong env var - update to CLAUDE_DIR, (2) graph-ops.bats fails due to invalidate_graph_cache return code bug - ensure_graph_cache returns 1 when cache rebuilt which propagates incorrectly. Fix return code handling in invalidate_graph_cache.",
      "labels": [
        "bugfix",
        "testing"
      ],
      "createdAt": "2026-01-23T17:14:34Z",
      "updatedAt": "2026-01-23T17:14:34Z"
    },
    {
      "id": "T2199",
      "title": "Release Management & Version Automation Epic",
      "status": "cancelled",
      "priority": "high",
      "type": "epic",
      "parentId": "T2286",
      "phase": "core",
      "size": "medium",
      "position": 3,
      "positionVersion": 0,
      "description": "Comprehensive overhaul of CLEO's release management, version bumping, and changelog automation. Includes evaluating changesets, release-please, and custom CLEO-native solutions for tracking changes across tasks/commits.",
      "labels": [
        "ci-cd",
        "infrastructure",
        "release-management"
      ],
      "notes": [
        "2026-02-16 18:00:53 UTC: Triage T4570: Obsolete. Release management rewritten in TS (T4467, release-engine.ts)."
      ],
      "createdAt": "2026-01-24T01:33:54Z",
      "updatedAt": "2026-02-16T18:00:53.059Z",
      "cancelledAt": "2026-02-16T18:00:53.059Z"
    },
    {
      "id": "T2200",
      "title": "Research: Version Bump Tooling Evaluation",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2199",
      "phase": "core",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Evaluate version bump approaches: release-please (Google), semantic-release, changesets, bump2version, and custom CLEO-native solution. Consider: single source of truth, conventional commits integration, multi-file sync, end-user applicability.",
      "labels": [
        "research",
        "version-management"
      ],
      "notes": [
        "2026-01-24 01:35:25 UTC: Initial research completed. See claudedocs/research-outputs/2026-01-24_release-management-research.md for full findings. Key options: release-please (recommended for CLEO), changesets (potential task linking), custom CLEO solution (future)."
      ],
      "files": [
        "claudedocs/research-outputs/2026-01-24_release-management-research.md"
      ],
      "createdAt": "2026-01-24T01:34:04Z",
      "updatedAt": "2026-01-27T03:18:12Z"
    },
    {
      "id": "T2201",
      "title": "Research: Changelog Automation with Changesets",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2199",
      "phase": "core",
      "size": "medium",
      "position": 2,
      "positionVersion": 0,
      "description": "Evaluate changesets (@changesets/cli) for changelog generation. Consider: task-to-changelog linking, CLEO-native change tracking, conventional commits parsing, Mintlify integration.",
      "labels": [
        "changelog",
        "research"
      ],
      "createdAt": "2026-01-24T01:34:14Z",
      "updatedAt": "2026-01-24T01:34:14Z"
    },
    {
      "id": "T2202",
      "title": "Fix ct-dev-workflow skill to be project-agnostic",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2199",
      "phase": "core",
      "size": "medium",
      "position": 3,
      "positionVersion": 0,
      "description": "Current skill references CLEO-specific commands (./dev/bump-version.sh, CLEO CI pipelines). Refactor to be generic: atomic commits, conventional commits, task tracking concepts. Project-specific commands should be configurable or examples only.",
      "labels": [
        "refactor",
        "skills"
      ],
      "createdAt": "2026-01-24T01:34:25Z",
      "updatedAt": "2026-01-24T01:34:25Z"
    },
    {
      "id": "T2203",
      "title": "Implement chosen release automation solution",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2199",
      "phase": "core",
      "size": "medium",
      "position": 4,
      "positionVersion": 0,
      "description": "Based on research findings, implement the chosen solution for automated releases. May include: release-please, changesets, custom CLEO solution, or hybrid approach.",
      "labels": [
        "ci-cd",
        "implementation"
      ],
      "depends": [
        "T2200",
        "T2201"
      ],
      "createdAt": "2026-01-24T01:34:35Z",
      "updatedAt": "2026-01-24T01:34:35Z"
    },
    {
      "id": "T2286",
      "title": "EPIC: CLEO Implementation Protocol Unification",
      "status": "cancelled",
      "priority": "critical",
      "type": "epic",
      "parentId": "T2392",
      "phase": "core",
      "size": "large",
      "position": 146,
      "positionVersion": 0,
      "description": "Master epic unifying RCSD research, changeset implementation, and release automation into a coherent CLEO implementation protocol. Coordinates T2204 (research), T2155 (changeset), T2199 (release) under single governance.\n\n## Problem Statement\nThree parallel epics have been independently advancing:\n- T2204: RCSD Integration Research Consolidation (Sessions A/B/C complete)\n- T2155: CLEO Changeset and Release Lifecycle System\n- T2199: Release Management & Version Automation\n\nThese need unified governance to ensure:\n1. Research findings inform implementation decisions\n2. Changeset design aligns with release automation needs\n3. Protocol handoffs are clearly defined\n\n## Deliverables\n- Unified epic tree with clear dependencies\n- Protocol specification for RCSD  Implementation handoff\n- Protocol specification for Implementation  Release handoff\n- Resolved decisions from T2276 (7 pending decisions)\n- Coherent implementation roadmap\n\n## Success Criteria\n- All three epics reparented under this master epic\n- Protocol specifications complete and validated\n- No ambiguity in implementation sequence\n- Clear ownership and dependencies at every level",
      "labels": [
        "infrastructure",
        "protocol",
        "unification"
      ],
      "notes": [
        "2026-02-16 18:01:08 UTC: Triage T4570: Obsolete. Protocol unification superseded by TS protocol system."
      ],
      "createdAt": "2026-01-25T23:48:50Z",
      "updatedAt": "2026-02-16T18:01:08.914Z",
      "cancelledAt": "2026-02-16T18:01:08.914Z"
    },
    {
      "id": "T2287",
      "title": "Protocol Specification & Handoff Definitions",
      "status": "pending",
      "priority": "critical",
      "type": "task",
      "parentId": "T2286",
      "phase": "core",
      "size": "medium",
      "position": 4,
      "positionVersion": 0,
      "description": "Define the protocol handoffs and ensure T2276 decisions are properly resolved before implementation proceeds.\n\n## Purpose\nBridge the gap between research findings (T2204) and implementation work (T2155, T2199) by establishing clear handoff protocols.\n\n## Scope\n- RCSD  Implementation handoff protocol\n- Implementation  Release handoff protocol\n- Resolution of all 7 T2276 decisions\n- Integration with existing decision subtasks\n\n## Dependencies\n- Blocked by: T2276 (Consensus: Protocol Unification Decisions)\n- Enables: T2155 (Changeset implementation), T2199 (Release automation)\n\n## Deliverables\n- Protocol specification documents\n- Dependency mapping\n- Implementation sequence",
      "labels": [
        "protocol",
        "specification"
      ],
      "createdAt": "2026-01-25T23:49:09Z",
      "updatedAt": "2026-01-25T23:49:39Z"
    },
    {
      "id": "T2288",
      "title": "Define RCSD  Implementation Handoff Protocol",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T2287",
      "phase": "core",
      "size": "small",
      "position": 1,
      "positionVersion": 0,
      "description": "Specify exactly what artifacts and validations must exist before implementation work can begin. Links to T2282 decision.\n\n## Inputs (from Research)\n- Session A/B/C findings\n- T2276 resolved decisions\n- Conflict matrix (T2207)\n- Final consensus (T2208)\n\n## Outputs (for Implementation)\n- Schema specifications\n- API contracts\n- Validation rules\n- Test requirements\n\n## Gate Criteria\n- All T2276 decisions resolved\n- No conflicting specifications\n- Implementation team can execute without ambiguity",
      "labels": [
        "handoff",
        "protocol"
      ],
      "createdAt": "2026-01-25T23:49:27Z",
      "updatedAt": "2026-01-25T23:49:27Z"
    },
    {
      "id": "T2289",
      "title": "Define Implementation  Release Handoff Protocol",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T2287",
      "phase": "core",
      "size": "small",
      "position": 2,
      "positionVersion": 0,
      "description": "Specify how changeset data flows into release automation. Links to T2283 decision.\n\n## Inputs (from Implementation)\n- Changeset JSON files\n- Task-commit mappings\n- File change records\n\n## Outputs (for Release)\n- Aggregated changelog entries\n- Version bump signals\n- Release notes generation\n\n## Gate Criteria\n- Changeset schema finalized\n- Aggregation logic specified\n- Release tool integration defined",
      "labels": [
        "handoff",
        "protocol"
      ],
      "createdAt": "2026-01-25T23:49:29Z",
      "updatedAt": "2026-01-25T23:49:29Z"
    },
    {
      "id": "T2290",
      "title": "Validate Changeset Storage Model Decision",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T2287",
      "phase": "core",
      "size": "small",
      "position": 3,
      "positionVersion": 0,
      "description": "Validate and finalize T2277 decision on changeset storage model.\n\n## Session C Position\nOption B: Separate .cleo/changes/*.json files\n- One file per task completion\n- Hash-named for immutability\n- Easier aggregation and cleanup\n\n## Validation Steps\n1. Review against Session A/B findings\n2. Check for conflicts with existing schema patterns\n3. Confirm compatibility with release aggregation\n4. Document final decision rationale",
      "labels": [
        "decision",
        "protocol"
      ],
      "createdAt": "2026-01-25T23:49:32Z",
      "updatedAt": "2026-01-25T23:49:32Z"
    },
    {
      "id": "T2291",
      "title": "Validate Commit Message Format Standard",
      "status": "pending",
      "priority": "high",
      "type": "subtask",
      "parentId": "T2287",
      "phase": "core",
      "size": "small",
      "position": 4,
      "positionVersion": 0,
      "description": "Validate and finalize T2280 decision on commit message format.\n\n## Session C Position\nFormat: {type}({phase}-{task}): {description}\nExample: feat(core-T2156): add changeset field to schema\n\n## Validation Steps\n1. Check compatibility with existing CLEO commit conventions\n2. Verify parseability for changelog generation\n3. Test against real commit history\n4. Document final decision rationale",
      "labels": [
        "decision",
        "protocol"
      ],
      "createdAt": "2026-01-25T23:49:34Z",
      "updatedAt": "2026-01-25T23:49:34Z"
    },
    {
      "id": "T2304",
      "title": "BUG: Active sessions never auto-end/archive - causes unbounded accumulation",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T998",
      "phase": "core",
      "size": "medium",
      "position": 29,
      "positionVersion": 0,
      "description": "## Problem\n15+ active sessions accumulating, many from weeks ago. The `session_auto_archive()` function in lib/sessions.sh ONLY targets 'ended' or 'suspended' sessions - it NEVER processes 'active' sessions.\n\n## Root Cause\n- `sessionTimeoutHours` config (24h) only generates warnings during `session end` - doesn't auto-transition\n- `session gc` runs auto_archive but skips active sessions entirely\n- No detection of stale active sessions (lastActivity > X days)\n\n## Evidence\n- session_20251230_232225_71660c: lastActivity 2025-12-31 (26 days stale)\n- session_20260103_155207_c21933: lastActivity 2026-01-03 (23 days stale)\n- 15 active sessions total, should be 1-3 max\n\n## Solution Options\n1. Add `retention.autoEndActiveAfterDays` config (default: 7)\n2. `session gc --include-active` to end stale active sessions\n3. Add `session_auto_end_stale()` function mirroring `session_auto_archive()`\n4. Warning during `session start` when stale active sessions exist\n\n## Acceptance Criteria\n- [ ] Active sessions older than threshold auto-transitioned to 'ended'\n- [ ] `session gc` has option to handle stale active sessions\n- [ ] `session doctor` warns about stale active sessions\n- [ ] Config `retention.autoEndActiveAfterDays` available",
      "labels": [
        "bug",
        "lifecycle",
        "session"
      ],
      "notes": [
        "2026-01-26 17:02:02 UTC: Related to T2318 (Session Lifecycle Management Overhaul). T2322 implements the core fix for this bug."
      ],
      "createdAt": "2026-01-26T16:45:49Z",
      "updatedAt": "2026-01-26T17:02:02Z"
    },
    {
      "id": "T2305",
      "title": "BUG: session list fails with 'Argument list too long' when sessions.json > ~130KB",
      "status": "pending",
      "priority": "critical",
      "type": "task",
      "parentId": "T998",
      "phase": "core",
      "size": "medium",
      "position": 30,
      "positionVersion": 0,
      "description": "## Problem\nsession list command fails with 'Argument list too long' when sessions.json grows large.\n\n## Root Cause\nscripts/session.sh line 1774 uses:\n```bash\n--argjson sessions \"$sessions\"\n```\n\nWhen sessions array is large (332KB in our case with 221 sessions), this exceeds shell argument limit.\n\n## Evidence\n```\n/home/.../.cleo/scripts/session.sh: line 1771: /usr/bin/jq: Argument list too long\n```\n\n## Solution\nUse stdin for large JSON instead of --argjson:\n```bash\necho \"$sessions\" | jq -n --slurpfile sessions /dev/stdin ...\n```\n\nOr use process substitution:\n```bash\njq -n --slurpfile sessions <(echo \"$sessions\") ...\n```\n\n## Affected Commands\n- session list\n- session doctor  \n- Any command reading sessions array\n\n## Acceptance Criteria\n- [ ] session list works with 200+ sessions\n- [ ] No argument list too long errors\n- [ ] Performance acceptable with large session counts",
      "labels": [
        "bug",
        "cli",
        "session"
      ],
      "notes": [
        "2026-01-26 17:02:05 UTC: Related to T2318 (Session Lifecycle Management Overhaul). T2325 implements the fix for this bug."
      ],
      "createdAt": "2026-01-26T16:48:01Z",
      "updatedAt": "2026-01-26T17:02:05Z"
    },
    {
      "id": "T2306",
      "title": "BUG: session end command cannot accept session ID as argument",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T998",
      "phase": "core",
      "size": "medium",
      "position": 31,
      "positionVersion": 0,
      "description": "## Problem\nIn multi-session mode, cannot end a specific session by providing ID as argument.\n\n## Evidence\n```bash\ncleo session end session_20251231_140205_e07e64 --note 'Test'\n# Fails - session ID is ignored\n\n# Only works with env var:\nCLEO_SESSION=session_xxx cleo session end --note 'Test'\n```\n\n## Root Cause\nscripts/session.sh cmd_end() lines 858-862:\n```bash\nwhile [[ $# -gt 0 ]]; do\n  case $1 in\n    --note) note=\"$2\"; shift 2 ;;\n    *) shift ;;  # <-- Ignores positional args!\n  esac\ndone\n```\n\n## Solution\nAdd positional session ID parsing like other session subcommands:\n```bash\ncase $1 in\n  --note) note=\"$2\"; shift 2 ;;\n  session_*) session_id=\"$1\"; shift ;;  # Accept session ID\n  *) shift ;;\nesac\n```\n\n## Acceptance Criteria\n- `cleo session end SESSION_ID --note 'text'` works\n- `cleo session end --note 'text'` uses current session (backward compat)\n- Error message when no session resolvable",
      "labels": [
        "bug",
        "cli",
        "session"
      ],
      "notes": [
        "2026-01-26 17:02:08 UTC: Related to T2318 (Session Lifecycle Management Overhaul). T2326 implements the fix for this bug."
      ],
      "createdAt": "2026-01-26T16:49:30Z",
      "updatedAt": "2026-01-26T17:02:08Z"
    },
    {
      "id": "T2308",
      "title": "EPIC: Contribution Protocol System v2 - JSON-First Multi-Agent Consensus",
      "status": "cancelled",
      "priority": "critical",
      "type": "epic",
      "parentId": "T2392",
      "phase": "core",
      "size": "medium",
      "position": 147,
      "positionVersion": 0,
      "description": "Legitimize and harden the Contribution Protocol for structured multi-agent consensus workflows.\n\n## Problem\nCurrent contribution protocol (T2262) uses markdown templates. Markdown is NOT optimized for:\n- Machine validation of contributions\n- Structured conflict detection\n- Multi-agent consensus aggregation\n- Programmatic synthesis\n\n## Solution\nJSON/JSONL-first contribution system with:\n1. Structured contribution format (JSON)\n2. Machine-parseable conflict detection\n3. Automated consensus aggregation\n4. Skill-based workflow integration\n\n## Builds On\n- T2262: Contribution Protocol Infrastructure (DONE) - schema, template, lib\n- T2204: RCSD Integration Research Consolidation - first consumer\n\n## Deliverables\n1. JSON contribution format spec\n2. JSONL manifest for contribution tracking\n3. Contribution Protocol Skill (/contribution)\n4. Usage guide (docs/guides/CONTRIBUTION-PROTOCOL-GUIDE.md)\n5. Conflict detection automation\n6. Consensus aggregation tooling\n7. RCSD pipeline integration updates\n\n## Success Criteria\n- Contributions are 100% JSON (no markdown decisions)\n- Conflicts machine-detectable\n- Consensus can be computed programmatically\n- Skill provides guided workflow for agents",
      "labels": [
        "consensus-system",
        "contribution-protocol",
        "json-first",
        "rcsd-infrastructure"
      ],
      "notes": [
        "2026-01-26 16:53:29 UTC: Relates-to: T2262 (Contribution Protocol Infrastructure - DONE), T2204 (RCSD Research Consolidation)",
        "2026-02-16 18:01:09 UTC: Triage T4570: Obsolete. Contribution Protocol v2 superseded by TS protocol system."
      ],
      "createdAt": "2026-01-26T16:53:22Z",
      "updatedAt": "2026-02-16T18:01:09.111Z",
      "cancelledAt": "2026-02-16T18:01:09.111Z"
    },
    {
      "id": "T2315",
      "title": "Implement consensus aggregation tooling",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2308",
      "phase": "core",
      "size": "large",
      "position": 7,
      "positionVersion": 0,
      "description": "Implement programmatic consensus computation from contributions.\n\n## Depends On\n- T2314: Conflict detection (need conflicts identified first)\n\n## Deliverable\nAdd to `lib/contribution-protocol.sh`:\n\n### Functions\n\n```bash\ncontribution_compute_consensus()\n  # Input: epic_id\n  # Output: JSON consensus object with confidence-weighted decisions\n  \ncontribution_weighted_vote()\n  # Input: decisions[] (from multiple sessions)\n  # Output: {winner: string, confidence: float, votes: [...]}\n  \ncontribution_generate_synthesis()\n  # Input: epic_id\n  # Output: Unified consensus document ready for T2208-style synthesis\n```\n\n### Consensus Algorithm\n1. Group decisions by questionId\n2. Weight by confidence score\n3. Apply voting rules:\n   - Unanimous = HIGH confidence\n   - Majority = MEDIUM confidence\n   - Split = HITL required\n4. Flag unresolved for human review\n\n### Output Format\n```json\n{\n  \"consensus\": {\n    \"epicId\": \"T2204\",\n    \"contributionCount\": 3,\n    \"decisions\": [\n      {\n        \"questionId\": \"Q1\",\n        \"answer\": \"...\",\n        \"confidence\": 0.92,\n        \"votingResult\": \"unanimous\",\n        \"supportingSessions\": [\"a\", \"b\", \"c\"]\n      }\n    ],\n    \"unresolved\": [...],\n    \"hitlRequired\": true/false\n  }\n}\n```",
      "labels": [
        "consensus",
        "implementation"
      ],
      "createdAt": "2026-01-26T16:54:59Z",
      "updatedAt": "2026-01-26T17:34:51Z"
    },
    {
      "id": "T2316",
      "title": "Update RCSD pipeline for JSON-first contributions",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2308",
      "phase": "core",
      "size": "medium",
      "position": 8,
      "positionVersion": 0,
      "description": "Update RCSD pipeline spec and implementation for JSON-first contributions.\n\n## Depends On\n- T2313: Contribution skill (for workflow integration)\n- T2315: Consensus aggregation (for synthesis stage)\n\n## Updates Required\n\n### RCSD-PIPELINE-SPEC.md\n1. Update Consensus stage to use JSON contributions\n2. Add contribution validation to workflow\n3. Document JSON-first requirement\n4. Update Part 16 (Contribution Protocol) for v2\n\n### lib/rcsd.sh (if exists)\n1. Add contribution JSON validation\n2. Integrate consensus aggregation\n3. Add HITL gates for unresolved conflicts\n\n### Integration Points\n- Research stage outputs JSON contributions\n- Consensus stage reads CONTRIBUTIONS.jsonl\n- Synthesis stage uses computed consensus",
      "labels": [
        "integration",
        "rcsd"
      ],
      "depends": [
        "T2315"
      ],
      "createdAt": "2026-01-26T16:55:13Z",
      "updatedAt": "2026-01-26T16:55:13Z"
    },
    {
      "id": "T2317",
      "title": "Write BATS tests for JSON-first contribution system",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2308",
      "phase": "testing",
      "size": "medium",
      "position": 9,
      "positionVersion": 0,
      "description": "Write comprehensive BATS tests for JSON-first contribution system.\n\n## Depends On\n- T2314: Conflict detection\n- T2315: Consensus aggregation\n\n## Deliverable\n`tests/unit/contribution-json.bats`\n\n## Test Coverage\n\n### JSON Format Tests\n- Valid contribution JSON passes validation\n- Invalid JSON fails with clear error\n- Missing required fields detected\n- Confidence scores validated (0.0-1.0)\n\n### Conflict Detection Tests\n- Identical answers = no conflict\n- Different answers = conflict detected\n- Confidence delta warning\n- Severity classification correct\n\n### Consensus Aggregation Tests\n- Unanimous vote computed correctly\n- Majority vote computed correctly\n- Split vote flags HITL\n- Weighted confidence calculation\n\n### Manifest Tests\n- Append creates valid JSONL\n- Query returns correct entries\n- Status tracking works\n\n### Integration Tests\n- Full workflow: contribute -> detect -> aggregate",
      "labels": [
        "bats",
        "tests"
      ],
      "depends": [
        "T2315"
      ],
      "createdAt": "2026-01-26T16:55:24Z",
      "updatedAt": "2026-01-26T16:55:24Z"
    },
    {
      "id": "T2344",
      "title": "Improve ct-orchestrator as main CLEO HITL entry point",
      "status": "pending",
      "priority": "critical",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 31,
      "positionVersion": 0,
      "description": "Update ct-orchestrator to be the definitive HITL entry point for CLEO. Additions: (1) Session startup protocol with session list/resume flow, (2) Skill dispatch matrix showing when to use each skill, (3) Basic task operation quick reference (add/complete/focus), (4) Clear pointer from AGENT-INJECTION.md to this skill. The orchestrator should be the 'conductor' that knows how to dispatch to all other skills.",
      "labels": [
        "ct-orchestrator",
        "skills"
      ],
      "notes": [
        "2026-01-26 19:08:39 UTC: Skills System: T2344 merged into T2389 (slim ct-orchestrator)"
      ],
      "createdAt": "2026-01-26T17:05:22Z",
      "updatedAt": "2026-01-26T19:08:39Z"
    },
    {
      "id": "T2345",
      "title": "Improve ct-epic-architect alignment with current CLEO capabilities",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 32,
      "positionVersion": 0,
      "description": "Review and update ct-epic-architect to align with current CLEO v0.69+ capabilities. Updates: (1) Ensure all command tokens match current CLI, (2) Add file attachment (--files) patterns, (3) Add research linking patterns, (4) Update references/ with current examples, (5) Verify hierarchy constraints match schema (max depth 3, siblings 7). Cross-reference with ct-orchestrator skill dispatch.",
      "labels": [
        "ct-epic-architect",
        "skills"
      ],
      "notes": [
        "2026-01-26 19:08:43 UTC: Skills System: T2345 merged into T2390 (epic-architect alignment)"
      ],
      "createdAt": "2026-01-26T17:05:24Z",
      "updatedAt": "2026-01-27T07:55:15Z"
    },
    {
      "id": "T2346",
      "title": "Update _shared/task-system-integration.md for CLEO v0.69+",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2483",
      "phase": "core",
      "size": "small",
      "position": 33,
      "positionVersion": 0,
      "description": "Update the portable task command reference to include all CLEO v0.69+ features. Additions: (1) File attachment tokens (--files), (2) Research linking tokens (research link), (3) Context monitoring tokens (context, context check), (4) Session tokens (session list, session start --scope, session resume), (5) Hierarchy tokens (tree, reparent, promote). This is the shared foundation all skills reference.",
      "labels": [
        "shared-infrastructure",
        "skills"
      ],
      "notes": [
        "2026-01-26 19:08:48 UTC: Skills System: shared infrastructure updates depend on manifest v2.0.0"
      ],
      "createdAt": "2026-01-26T17:05:27Z",
      "updatedAt": "2026-02-11T05:35:00Z"
    },
    {
      "id": "T2348",
      "title": "Epic: Cross-Agent Communication Protocol Unification",
      "status": "cancelled",
      "priority": "high",
      "type": "epic",
      "parentId": "T2392",
      "phase": "core",
      "size": "medium",
      "position": 150,
      "positionVersion": 0,
      "description": "Unify the orchestrator protocol, subagent protocol, manifest system, and context tracking into a cohesive cross-agent communication system. Current state has fragmented components that work independently but lack proper integration, enforcement, and generalization.\n\n## Problem Statement\n\n1. Protocol Injection Not Enforced: Orchestrator SHOULD inject subagent protocol but this is not enforced\n2. Research Naming Too Narrow: Manifest system can handle ANY subagent output, not just research\n3. Context Tracking Not Integrated: Context monitoring not used in orchestrator decisions\n4. No Unified Consensus Mechanism: Contribution protocol not integrated with orchestrator\n5. Protocol Violation Detection Missing: Orchestrator reading outputs directly instead of manifests\n\n## Success Criteria\n\n1. Orchestrator MUST inject protocol block to every spawned subagent\n2. Manifest system generalized from research-outputs to agent-outputs\n3. Context tracking integrated into orchestrator spawn decisions\n4. Protocol compliance verified before spawning next agent\n5. Unified agent handoff abstraction across all components",
      "notes": [
        "2026-02-16 18:01:09 UTC: Triage T4570: Obsolete. Cross-agent comms superseded by T4540 NEXUS integration (done)."
      ],
      "createdAt": "2026-01-26T18:08:02Z",
      "updatedAt": "2026-02-16T18:01:09.301Z",
      "cancelledAt": "2026-02-16T18:01:09.301Z"
    },
    {
      "id": "T2350",
      "title": "Design: Unified Agent Handoff Abstraction",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2348",
      "phase": "core",
      "size": "medium",
      "position": 2,
      "positionVersion": 0,
      "description": "Design the unified abstraction layer for agent handoffs that replaces the current research-centric model.\n\n## Requirements\n\n1. Generalize from research-outputs to agent-outputs\n2. Support multiple output types: research, implementation, validation, review\n3. Define standard manifest entry schema for all agent types\n4. Establish handoff protocol that works for any subagent type\n\n## Considerations\n\n- Backward compatibility with existing research-outputs\n- Migration path for existing MANIFEST.jsonl files\n- Token system for protocol injection\n- Integration with CLEO task lifecycle\n\n## Deliverables\n\n- RFC-style design document\n- Updated manifest schema definition\n- Migration strategy document",
      "createdAt": "2026-01-26T18:08:50Z",
      "updatedAt": "2026-01-26T19:30:58Z"
    },
    {
      "id": "T2355",
      "title": "Implement: Contribution Protocol Integration",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2348",
      "phase": "core",
      "size": "medium",
      "position": 7,
      "positionVersion": 0,
      "description": "Integrate the contribution protocol with the unified agent handoff system.\n\n## Requirements\n\n1. Contribution protocol works with generalized agent-outputs\n2. Consensus computation uses manifest entries\n3. HITL gates integrated with orchestrator workflow\n4. Synthesis generation produces agent-output format\n\n## Integration Points\n\n1. lib/contribution-protocol.sh - Update to use agent-outputs\n2. lib/agent-manifest.sh - Support contribution entries\n3. ct-orchestrator/SKILL.md - Document consensus workflow\n\n## Workflow\n\n1. Orchestrator spawns multiple research agents\n2. Each agent writes to agent-outputs/MANIFEST.jsonl\n3. Contribution protocol detects conflicts from manifest\n4. Consensus computed using weighted voting\n5. HITL gate if split votes\n6. Synthesis written to agent-outputs\n\n## Deliverables\n\n- Updated contribution-protocol.sh\n- Integration tests for consensus workflow\n- Documentation updates",
      "depends": [
        "T2350"
      ],
      "createdAt": "2026-01-26T18:09:39Z",
      "updatedAt": "2026-01-26T18:09:39Z"
    },
    {
      "id": "T2392",
      "title": "CLEO Universal Subagent Architecture",
      "status": "pending",
      "priority": "critical",
      "type": "task",
      "phase": "core",
      "size": "large",
      "position": 35,
      "positionVersion": 0,
      "description": "Transform CLEO from skill-as-agent to 2-tier system: (1) ct-orchestrator as HITL coordinator, (2) cleo-subagent as universal morphic worker. Skills become injectable context loaded by subagent via @references. Orchestrator pre-resolves tokens. Big-bang migration. Research-first approach.",
      "labels": [
        "architecture",
        "subagent"
      ],
      "createdAt": "2026-01-26T20:13:19Z",
      "updatedAt": "2026-01-26T21:56:33Z"
    },
    {
      "id": "T2415",
      "title": "Deprecate old skill-as-agent references",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T2392",
      "phase": "polish",
      "size": "small",
      "position": 22,
      "positionVersion": 0,
      "description": "Remove or mark deprecated all old skill-as-agent references. Clean up: old dispatch patterns, skill agent type references, outdated manifest entries. Update manifest.json to reflect new architecture.",
      "labels": [
        "cleanup",
        "deprecation"
      ],
      "createdAt": "2026-01-26T20:15:58Z",
      "updatedAt": "2026-01-26T22:48:08Z"
    },
    {
      "id": "T2483",
      "title": "EPIC: Skills Documentation Overhaul",
      "status": "cancelled",
      "priority": "critical",
      "type": "epic",
      "phase": "core",
      "size": "medium",
      "position": 155,
      "positionVersion": 0,
      "description": "Complete docs overhaul. Gap: 35% documented.",
      "labels": [
        "documentation",
        "skills"
      ],
      "notes": [
        "2026-02-16 18:01:09 UTC: Triage T4570: Obsolete. Skills system being ported to TS (T4516-T4522). Docs need full TS rewrite."
      ],
      "createdAt": "2026-01-27T06:18:44Z",
      "updatedAt": "2026-02-16T18:01:09.655Z",
      "cancelledAt": "2026-02-16T18:01:09.655Z"
    },
    {
      "id": "T2484",
      "title": "P0: Create SKILL-DISPATCH-ALGORITHM.md",
      "status": "pending",
      "priority": "critical",
      "type": "task",
      "parentId": "T2483",
      "phase": "core",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Step-by-step dispatch decision tree with all matching strategies",
      "labels": [
        "documentation",
        "p0"
      ],
      "createdAt": "2026-01-27T06:18:58Z",
      "updatedAt": "2026-02-07T16:57:13Z"
    },
    {
      "id": "T2486",
      "title": "P0: Create PROTOCOL-INJECTION-FLOW.md",
      "status": "pending",
      "priority": "critical",
      "type": "task",
      "parentId": "T2483",
      "phase": "core",
      "size": "medium",
      "position": 2,
      "positionVersion": 0,
      "description": "Full flow: task  skill  protocols  tokens  prompt",
      "labels": [
        "documentation",
        "p0"
      ],
      "createdAt": "2026-01-27T06:19:00Z",
      "updatedAt": "2026-01-27T06:19:00Z"
    },
    {
      "id": "T2488",
      "title": "P1: Create skills-dispatch.md command doc",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2483",
      "phase": "core",
      "size": "medium",
      "position": 3,
      "positionVersion": 0,
      "description": "CLI/programmatic dispatch usage documentation",
      "labels": [
        "documentation",
        "p1"
      ],
      "createdAt": "2026-01-27T06:19:01Z",
      "updatedAt": "2026-01-27T06:19:01Z"
    },
    {
      "id": "T2489",
      "title": "P1: Update skill-development.md",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2483",
      "phase": "core",
      "size": "medium",
      "position": 4,
      "positionVersion": 0,
      "description": "Expand token lifecycle, add conditional protocols section",
      "labels": [
        "documentation",
        "p1"
      ],
      "createdAt": "2026-01-27T06:19:02Z",
      "updatedAt": "2026-01-27T06:19:02Z"
    },
    {
      "id": "T2490",
      "title": "P2: Create MANIFEST-SCHEMA.md",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2483",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Document all manifest.json fields and schema versioning",
      "labels": [
        "documentation",
        "p2"
      ],
      "createdAt": "2026-01-27T06:19:03Z",
      "updatedAt": "2026-01-27T06:19:03Z"
    },
    {
      "id": "T2491",
      "title": "P2: Create DISPATCH-DEBUG.md troubleshooting",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2483",
      "phase": "core",
      "size": "medium",
      "position": 6,
      "positionVersion": 0,
      "description": "Troubleshooting guide for dispatch issues",
      "labels": [
        "documentation",
        "p2"
      ],
      "createdAt": "2026-01-27T06:19:04Z",
      "updatedAt": "2026-01-27T06:19:04Z"
    },
    {
      "id": "T2492",
      "title": "P2: Update Mintlify docs.json navigation",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2483",
      "phase": "core",
      "size": "medium",
      "position": 7,
      "positionVersion": 0,
      "description": "Add all new docs to Mintlify navigation structure",
      "labels": [
        "documentation",
        "p2"
      ],
      "createdAt": "2026-01-27T06:19:05Z",
      "updatedAt": "2026-01-27T06:19:05Z"
    },
    {
      "id": "T2493",
      "title": "P0: Create PROTOCOL-STACK-SPEC.md",
      "status": "pending",
      "priority": "critical",
      "type": "task",
      "parentId": "T2483",
      "phase": "core",
      "size": "medium",
      "position": 8,
      "positionVersion": 0,
      "description": "RFC 2119 for all protocols",
      "labels": [
        "documentation",
        "p0"
      ],
      "createdAt": "2026-01-27T06:19:20Z",
      "updatedAt": "2026-01-27T06:19:20Z"
    },
    {
      "id": "T2494",
      "title": "P1: Update CLEO-SUBAGENT.md architecture",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2483",
      "phase": "core",
      "size": "medium",
      "position": 9,
      "positionVersion": 0,
      "description": "Add dispatch matrix and virtual hierarchy",
      "labels": [
        "documentation",
        "p1"
      ],
      "createdAt": "2026-01-27T06:19:21Z",
      "updatedAt": "2026-01-27T06:19:21Z"
    },
    {
      "id": "T2497",
      "title": "EPIC: CLEO Capabilities Coverage Review",
      "status": "cancelled",
      "priority": "high",
      "type": "epic",
      "phase": "core",
      "size": "medium",
      "position": 158,
      "positionVersion": 0,
      "description": "Comprehensive review to validate CLEO epic-architect skill covers all validated capabilities: Greenfield/Brownfield projects, Feature/Bug/Research/Refactor/Migration epics, HITL clarification, CLEO metadata schema coverage, Phase discipline with cross-phase guidelines, and Verification gates workflow. Reference: 2026-01-19_epic-architect-skill-gap-analysis.md",
      "labels": [
        "capabilities",
        "ct-epic-architect",
        "documentation",
        "review"
      ],
      "notes": [
        "2026-01-27 07:54:01 UTC: Initiated via ct-orchestrator for systematic capability validation",
        "2026-02-16 18:01:22 UTC: Triage T4570: Obsolete. 19 bash-era validation children. TS has new validation system."
      ],
      "acceptance": [
        "Improvement tasks created for gaps"
      ],
      "createdAt": "2026-01-27T07:54:01Z",
      "updatedAt": "2026-02-16T18:01:22.877Z",
      "cancelledAt": "2026-02-16T18:01:22.877Z"
    },
    {
      "id": "T2498",
      "title": "Validate Greenfield project support",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2497",
      "phase": "core",
      "size": "small",
      "position": 1,
      "positionVersion": 0,
      "description": "Verify ct-epic-architect provides complete guidance for new (greenfield) projects. Check: feature-epic-example.md exists, no existing codebase assumptions, clean slate patterns documented.",
      "labels": [
        "greenfield",
        "review"
      ],
      "acceptance": [
        "Greenfield patterns documented"
      ],
      "files": [
        "skills/ct-epic-architect/references/feature-epic-example.md"
      ],
      "createdAt": "2026-01-27T07:54:14Z",
      "updatedAt": "2026-01-27T07:54:14Z"
    },
    {
      "id": "T2499",
      "title": "Validate Brownfield project support",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2497",
      "phase": "core",
      "size": "small",
      "position": 2,
      "positionVersion": 0,
      "description": "Verify ct-epic-architect provides complete guidance for existing codebases. Check: patterns.md brownfield section, impact analysis Wave 0 requirement, regression baseline requirement, rollback procedures, discovery commands.",
      "labels": [
        "brownfield",
        "review"
      ],
      "acceptance": [
        "Rollback checkpoints documented"
      ],
      "files": [
        "skills/ct-epic-architect/references/patterns.md",
        "skills/ct-epic-architect/references/refactor-epic-example.md"
      ],
      "createdAt": "2026-01-27T07:54:15Z",
      "updatedAt": "2026-01-27T07:54:15Z"
    },
    {
      "id": "T2500",
      "title": "Validate Feature epic support",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2497",
      "phase": "core",
      "size": "small",
      "position": 3,
      "positionVersion": 0,
      "description": "Verify ct-epic-architect provides complete feature epic patterns. Check: feature-epic-example.md completeness, wave planning, dependency analysis, acceptance criteria patterns.",
      "labels": [
        "feature-epic",
        "review"
      ],
      "acceptance": [
        "Dependency analysis patterns present"
      ],
      "files": [
        "skills/ct-epic-architect/references/feature-epic-example.md"
      ],
      "createdAt": "2026-01-27T07:54:17Z",
      "updatedAt": "2026-01-27T07:54:17Z"
    },
    {
      "id": "T2501",
      "title": "Validate Bug fix epic support",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2497",
      "phase": "core",
      "size": "small",
      "position": 4,
      "positionVersion": 0,
      "description": "Verify ct-epic-architect provides complete bug fix epic patterns. Check: bug-epic-example.md, severity-to-priority mapping, root cause analysis Wave 0, regression test requirements.",
      "labels": [
        "bug-epic",
        "review"
      ],
      "acceptance": [
        "Root cause analysis pattern present"
      ],
      "files": [
        "skills/ct-epic-architect/references/bug-epic-example.md",
        "skills/ct-epic-architect/references/patterns.md"
      ],
      "createdAt": "2026-01-27T07:54:31Z",
      "updatedAt": "2026-01-27T07:54:31Z"
    },
    {
      "id": "T2502",
      "title": "Validate Research epic support",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2497",
      "phase": "core",
      "size": "small",
      "position": 5,
      "positionVersion": 0,
      "description": "Verify ct-epic-architect provides complete research epic patterns. Check: research-epic-example.md, 3 research types (exploratory, decision, codebase analysis), synthesis wave, research linking.",
      "labels": [
        "research-epic",
        "review"
      ],
      "acceptance": [
        "Research linking workflow present"
      ],
      "files": [
        "skills/ct-epic-architect/references/research-epic-example.md",
        "skills/ct-epic-architect/references/patterns.md"
      ],
      "createdAt": "2026-01-27T07:54:33Z",
      "updatedAt": "2026-01-27T07:54:33Z"
    },
    {
      "id": "T2503",
      "title": "Validate Refactor epic support",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2497",
      "phase": "core",
      "size": "small",
      "position": 6,
      "positionVersion": 0,
      "description": "Verify ct-epic-architect provides complete refactor epic patterns. Check: refactor-epic-example.md exists, strangler fig pattern, feature flags, gradual migration, legacy removal sequence.",
      "labels": [
        "refactor-epic",
        "review"
      ],
      "acceptance": [
        "Legacy removal sequence documented"
      ],
      "files": [
        "skills/ct-epic-architect/references/refactor-epic-example.md",
        "skills/ct-epic-architect/references/patterns.md"
      ],
      "createdAt": "2026-01-27T07:54:35Z",
      "updatedAt": "2026-01-27T07:54:35Z"
    },
    {
      "id": "T2504",
      "title": "Validate Migration epic support",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2497",
      "phase": "core",
      "size": "small",
      "position": 7,
      "positionVersion": 0,
      "description": "Verify ct-epic-architect provides complete migration epic patterns. Check: migration-epic-example.md exists, multi-phase migration, rollback at each phase, data migration safety patterns.",
      "labels": [
        "migration-epic",
        "review"
      ],
      "acceptance": [
        "Rollback checkpoints documented"
      ],
      "files": [
        "skills/ct-epic-architect/references/migration-epic-example.md"
      ],
      "createdAt": "2026-01-27T07:54:36Z",
      "updatedAt": "2026-01-27T07:54:36Z"
    },
    {
      "id": "T2505",
      "title": "Validate HITL clarification guidance",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2497",
      "phase": "core",
      "size": "small",
      "position": 8,
      "positionVersion": 0,
      "description": "Verify HITL (Human-in-the-Loop) clarification guidance is complete. Check: When to ask questions, AskUserQuestion tool reference (or portable alternative), question template format, ambiguity detection triggers.",
      "labels": [
        "askuserquestion",
        "hitl",
        "review"
      ],
      "acceptance": [
        "Portability note for AskUserQuestion"
      ],
      "files": [
        "skills/ct-epic-architect/SKILL.md"
      ],
      "createdAt": "2026-01-27T07:54:54Z",
      "updatedAt": "2026-01-27T08:02:05Z"
    },
    {
      "id": "T2506",
      "title": "Validate CLEO metadata schema coverage",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2497",
      "phase": "core",
      "size": "medium",
      "position": 9,
      "positionVersion": 0,
      "description": "Verify ct-epic-architect covers 100%% CLEO schema fields. Check: All task fields documented (type, size, priority, phase, labels, depends, acceptance, files, notes, blocked-by, status), example usage for each field, error handling for field validation.",
      "labels": [
        "metadata",
        "review",
        "schema"
      ],
      "acceptance": [
        "Missing fields identified from gap analysis"
      ],
      "files": [
        "skills/ct-epic-architect/references/commands.md",
        "claudedocs/agent-outputs/2026-01-19_epic-architect-skill-gap-analysis.md"
      ],
      "createdAt": "2026-01-27T07:54:56Z",
      "updatedAt": "2026-01-27T07:54:56Z"
    },
    {
      "id": "T2507",
      "title": "Validate Phase discipline and cross-phase guidelines",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2497",
      "phase": "core",
      "size": "medium",
      "position": 10,
      "positionVersion": 0,
      "description": "Verify phase discipline guidance is complete. Check: Phase assignment section, cross-phase work guidelines, phase checking before task creation, phase-aware task filtering, relationship between project.currentPhase and task.phase.",
      "labels": [
        "cross-phase",
        "phase-discipline",
        "review"
      ],
      "acceptance": [
        "Dual-level phase model explained"
      ],
      "files": [
        "skills/ct-epic-architect/SKILL.md",
        "docs/specs/PHASE-SYSTEM-SPEC.md"
      ],
      "createdAt": "2026-01-27T07:54:58Z",
      "updatedAt": "2026-01-27T07:54:58Z"
    },
    {
      "id": "T2508",
      "title": "Validate Verification gates workflow",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2497",
      "phase": "core",
      "size": "medium",
      "position": 11,
      "positionVersion": 0,
      "description": "Verify verification gates workflow is complete. Check: All gates documented (implemented, testsPassed, qaPassed, securityPassed, documented, cleanupDone), auto-set behavior, cleo verify command usage, parent auto-complete integration, gate setting sequence.",
      "labels": [
        "quality-gates",
        "review",
        "verification"
      ],
      "acceptance": [
        "Parent auto-complete integration explained"
      ],
      "files": [
        "skills/ct-epic-architect/references/commands.md"
      ],
      "createdAt": "2026-01-27T07:55:00Z",
      "updatedAt": "2026-01-27T07:55:00Z"
    },
    {
      "id": "T2509",
      "title": "Synthesize capabilities review findings",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2497",
      "phase": "testing",
      "size": "medium",
      "position": 12,
      "positionVersion": 0,
      "description": "Aggregate findings from all validation tasks. Create comprehensive gap analysis report. Identify priority improvements. Create follow-up tasks for any gaps found.",
      "labels": [
        "gap-analysis",
        "review",
        "synthesis"
      ],
      "acceptance": [
        "Follow-up tasks created for gaps"
      ],
      "depends": [
        "T2498",
        "T2499",
        "T2500",
        "T2501",
        "T2502",
        "T2503",
        "T2504",
        "T2505",
        "T2506",
        "T2507",
        "T2508"
      ],
      "createdAt": "2026-01-27T07:55:08Z",
      "updatedAt": "2026-01-27T07:55:08Z"
    },
    {
      "id": "T2510",
      "title": "DOC: Add Skill Taxonomy Spec to Mintlify docs",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2497",
      "phase": "polish",
      "size": "small",
      "position": 13,
      "positionVersion": 0,
      "description": "Add Skill Taxonomy Spec documentation to Mintlify site. Source: docs/specs/SKILL-TAXONOMY-SPEC.md. Needs MDX conversion and navigation entry.",
      "labels": [
        "documentation",
        "mintlify",
        "specs"
      ],
      "acceptance": [
        "Navigation updated"
      ],
      "files": [
        "docs/specs/SKILL-TAXONOMY-SPEC.md"
      ],
      "createdAt": "2026-01-27T08:01:27Z",
      "updatedAt": "2026-01-27T08:01:27Z"
    },
    {
      "id": "T2511",
      "title": "DOC: Add Protocol Stack Spec to Mintlify docs",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2497",
      "phase": "polish",
      "size": "small",
      "position": 14,
      "positionVersion": 0,
      "description": "Add Protocol Stack Spec documentation to Mintlify site. Source: docs/specs/PROTOCOL-STACK-SPEC.md. Needs MDX conversion and navigation entry.",
      "labels": [
        "documentation",
        "mintlify",
        "specs"
      ],
      "acceptance": [
        "Navigation updated"
      ],
      "files": [
        "docs/specs/PROTOCOL-STACK-SPEC.md"
      ],
      "createdAt": "2026-01-27T08:01:29Z",
      "updatedAt": "2026-01-27T08:01:29Z"
    },
    {
      "id": "T2512",
      "title": "DOC: Add Validator command to Mintlify /commands page",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2497",
      "phase": "polish",
      "size": "small",
      "position": 15,
      "positionVersion": 0,
      "description": "Add missing 'validator' command documentation to Mintlify /commands section. Should document cleo validate command and its options.",
      "labels": [
        "commands",
        "documentation",
        "mintlify"
      ],
      "acceptance": [
        "Command page added to navigation"
      ],
      "createdAt": "2026-01-27T08:01:31Z",
      "updatedAt": "2026-01-27T08:01:31Z"
    },
    {
      "id": "T2513",
      "title": "DOC: Add Skill Creator command to Mintlify /commands page",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2497",
      "phase": "polish",
      "size": "small",
      "position": 16,
      "positionVersion": 0,
      "description": "Add missing 'skill creator' command documentation to Mintlify /commands section. Document skill creation workflow and commands.",
      "labels": [
        "commands",
        "documentation",
        "mintlify"
      ],
      "acceptance": [
        "Command page added to navigation"
      ],
      "createdAt": "2026-01-27T08:01:33Z",
      "updatedAt": "2026-01-27T08:01:33Z"
    },
    {
      "id": "T2514",
      "title": "DOC: Make /commands page dynamic from COMMANDS-INDEX.json",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2497",
      "phase": "polish",
      "size": "medium",
      "position": 17,
      "positionVersion": 0,
      "description": "Refactor Mintlify /commands page to dynamically load and generate command documentation from docs/COMMANDS-INDEX.json. This ensures commands stay in sync with CLI capabilities. Current approach is static and prone to drift.",
      "labels": [
        "commands",
        "documentation",
        "enhancement",
        "mintlify"
      ],
      "acceptance": [
        "No manual sync required"
      ],
      "files": [
        "docs/COMMANDS-INDEX.json"
      ],
      "createdAt": "2026-01-27T08:01:46Z",
      "updatedAt": "2026-01-27T08:01:46Z"
    },
    {
      "id": "T2515",
      "title": "DOC: Add Context Monitoring guide to Mintlify /guides",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2497",
      "phase": "polish",
      "size": "small",
      "position": 18,
      "positionVersion": 0,
      "description": "Add Context Monitoring guide to Mintlify /guides section. Document cleo context command, exit codes, automatic alerts, threshold configuration, and multi-session context tracking.",
      "labels": [
        "context",
        "documentation",
        "guides",
        "mintlify"
      ],
      "acceptance": [
        "Navigation updated"
      ],
      "files": [
        "docs/commands/context.md"
      ],
      "createdAt": "2026-01-27T08:01:49Z",
      "updatedAt": "2026-01-27T08:01:49Z"
    },
    {
      "id": "T2516",
      "title": "DOC: Add Metrics and Compliance guide to Mintlify /guides",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2497",
      "phase": "polish",
      "size": "small",
      "position": 19,
      "positionVersion": 0,
      "description": "Add Metrics and Compliance guide to Mintlify /guides section. Document verification gates, compliance tracking, audit trail (todo-log.json), session metrics, and quality assurance workflows.",
      "labels": [
        "compliance",
        "documentation",
        "guides",
        "metrics",
        "mintlify"
      ],
      "acceptance": [
        "Navigation updated"
      ],
      "createdAt": "2026-01-27T08:01:51Z",
      "updatedAt": "2026-01-27T08:01:51Z"
    },
    {
      "id": "T2794",
      "title": "EPIC: Mintlify Documentation Standards & Full Validation",
      "status": "cancelled",
      "priority": "medium",
      "type": "epic",
      "phase": "core",
      "size": "medium",
      "position": 180,
      "positionVersion": 0,
      "description": "Master epic for ensuring all Mintlify documentation follows standards and is validated. Session 2026-01-30 performed major overhaul. Next session must verify all pages load, create documentation standards guide, and audit all .mdx files for frontmatter compliance.",
      "notes": [
        "[COMPLETED 2026-01-30T18:45:14Z] Cross-validated Wave 0 outputs. All protocol-compliant. 404s are build issues. Standards guide complete. Wave 0 approved.",
        "[REOPENED 2026-01-30T19:19:34Z] Reason: 47 pages still returning 404. Files exist but Mintlify not serving them. Need comprehensive validation and fixes. | Was completed at: 2026-01-30T18:45:14Z",
        "2026-02-16 18:01:23 UTC: Triage T4570: Obsolete. Mintlify-specific. Superseded by T4556 GitBook migration."
      ],
      "createdAt": "2026-01-30T18:27:21Z",
      "updatedAt": "2026-02-16T18:01:23.077Z",
      "cancelledAt": "2026-02-16T18:01:23.077Z"
    },
    {
      "id": "T2811",
      "title": "Investigate Mintlify routing issue for developer/* paths",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2794",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Developer section pages (developer/development/*, developer/protocols/*, developer/specifications/*) return 404 despite files existing with valid frontmatter. Guides/* pages now work. Need to investigate: 1) Mintlify build logs in dashboard, 2) Check if developer tab has special config requirements, 3) Compare working vs non-working file structures, 4) Contact Mintlify support if needed.",
      "notes": [
        "2026-01-30 19:25:18 UTC: Investigation complete: Issue is Mintlify-side caching/indexing, NOT our files. Files exist with valid frontmatter. Deployment handled by Mintlify GitHub App, not our workflow. Need dashboard access to trigger rebuild."
      ],
      "createdAt": "2026-01-30T19:21:42Z",
      "updatedAt": "2026-01-30T19:25:18Z"
    },
    {
      "id": "T2813",
      "title": "Create automated Mintlify page verification script",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T2794",
      "phase": "core",
      "size": "medium",
      "position": 7,
      "positionVersion": 0,
      "description": "Create dev/verify-mintlify-pages.sh that: 1) Extracts all paths from docs.json, 2) Tests each page on live site, 3) Reports 404s and broken pages, 4) Can be run in CI for regression testing. Use approach from T2795 verification.",
      "createdAt": "2026-01-30T19:21:45Z",
      "updatedAt": "2026-01-30T19:21:45Z"
    },
    {
      "id": "T2847",
      "title": "EPIC: Metrics Value Proof System - Real Token Tracking and Validation",
      "status": "pending",
      "priority": "medium",
      "type": "epic",
      "phase": "core",
      "size": "medium",
      "position": 187,
      "positionVersion": 0,
      "description": "Implement end-to-end metrics system that PROVES CLEO saves context tokens and prevents hallucinations. Uses OpenTelemetry for real token tracking, multi-skill composition with progressive disclosure, and real manifest validation. Must generate evidence that subagent+manifest architecture is superior to direct implementation.",
      "labels": [
        "metrics",
        "otel",
        "validation",
        "value-proof"
      ],
      "notes": [
        "2026-02-16 18:01:38 UTC: Triage T4570: KEPT. Core mission value. Needs TS-native children. Child T2947 cancelled."
      ],
      "createdAt": "2026-02-01T01:44:27Z",
      "updatedAt": "2026-02-16T18:01:38.761Z"
    },
    {
      "id": "T2947",
      "title": "EPIC: Provable Token Savings Benchmark",
      "status": "cancelled",
      "priority": "critical",
      "type": "epic",
      "parentId": "T2847",
      "phase": "core",
      "size": "medium",
      "position": 196,
      "positionVersion": 0,
      "description": "Create reproducible benchmark to PROVE CLEO saves tokens. Must produce real numbers from Claude Code API, not estimates. Goal: Publish claims that other developers can verify.\n\n## Success Criteria\n- Real token data from Claude Code (via OTel or API logs)\n- A/B comparison: manifest reads vs full file reads\n- Reproducible benchmark script anyone can run\n- Published results with methodology\n\n## Anti-Goals\n- No more estimated tokens (4 chars = 1 token)\n- No fake 100% compliance scores\n- No claims without data",
      "labels": [
        "benchmark",
        "critical",
        "metrics",
        "proof"
      ],
      "notes": [
        "2026-02-16 18:01:23 UTC: Triage T4570: Obsolete. Bash-era benchmark. Parent T2847 kept for TS reimplementation."
      ],
      "createdAt": "2026-02-01T08:20:11Z",
      "updatedAt": "2026-02-16T18:01:23.254Z",
      "cancelledAt": "2026-02-16T18:01:23.254Z"
    },
    {
      "id": "T2952",
      "title": "Publish benchmark results with methodology",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T2947",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Create docs/BENCHMARK-RESULTS.md with: methodology, raw data, statistical analysis, reproducibility instructions. Claims must be verifiable by third parties.",
      "labels": [
        "documentation"
      ],
      "createdAt": "2026-02-01T08:20:50Z",
      "updatedAt": "2026-02-01T08:20:50Z"
    },
    {
      "id": "T3077",
      "title": "Add JSON output to version command",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 11,
      "positionVersion": 0,
      "description": "Add --json flag support to cleo version command. Required for MCP server initialization and validation.",
      "createdAt": "2026-02-04T18:43:52Z",
      "updatedAt": "2026-02-04T18:43:52Z",
      "verification": {
        "passed": false,
        "round": 0,
        "gates": {
          "implemented": true,
          "testsPassed": null,
          "qaPassed": null,
          "cleanupDone": null,
          "securityPassed": null,
          "documented": null
        },
        "lastAgent": "coder",
        "lastUpdated": "2026-02-14T06:41:43Z",
        "failureLog": []
      }
    },
    {
      "id": "T3128",
      "title": "Fix session start ghost creation on failure",
      "status": "pending",
      "priority": "critical",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 19,
      "positionVersion": 0,
      "description": "Session start creates active record before validation. Must be atomic.",
      "createdAt": "2026-02-07T03:29:03Z",
      "updatedAt": "2026-02-07T03:29:03Z"
    },
    {
      "id": "T3129",
      "title": "Fix exit code propagation in CLI scripts",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 20,
      "positionVersion": 0,
      "description": "Some commands return 0 but JSON has success:false with non-zero exitCode.",
      "createdAt": "2026-02-07T03:29:04Z",
      "updatedAt": "2026-02-07T03:29:04Z"
    },
    {
      "id": "T3156",
      "title": "EPIC: CLEO Claude Code Tasks Integration & LLM-Agnostic Portability",
      "status": "cancelled",
      "priority": "high",
      "type": "epic",
      "phase": "core",
      "size": "large",
      "position": 215,
      "positionVersion": 0,
      "description": "Integrate CLEO with Claude Code persistent Tasks system and establish LLM-agnostic portability. CLEO becomes the validated, persistent, portable layer instructing any LLM (Claude, Gemini, Codex, Kimi) via MCP or injection. Claude Code native Tasks serves as synced display/UI layer. Architecture: project-level .cleo/ as source of truth, global ~/.cleo/ for cross-project, MCP server for universal access, injection templates for each LLM. 6 execution waves: W0-Foundation, W1-Injection, W2-Sync Protocol, W3-MCP+Skills, W4-Portability+Roles, W5-Advanced Sync+Packaging.",
      "labels": [
        "claude-code",
        "epic",
        "integration",
        "mcp",
        "portability"
      ],
      "notes": [
        "2026-02-16 18:01:23 UTC: Triage T4570: Obsolete. 14 bash-era children. Concepts absorbed into TS V2 architecture."
      ],
      "createdAt": "2026-02-07T16:53:40Z",
      "updatedAt": "2026-02-16T18:01:23.440Z",
      "cancelledAt": "2026-02-16T18:01:23.440Z"
    },
    {
      "id": "T3157",
      "title": "Consolidate triple subagent definitions",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "small",
      "position": 1,
      "positionVersion": 0,
      "description": "Problem: 3 overlapping cleo-subagent definitions (agents/cleo-subagent/AGENT.md, .claude/agents/cleo-subagent.md, inline in CLEO-INJECTION.md). Fix: agents/cleo-subagent/AGENT.md = CLEO canonical definition; .claude/agents/cleo-subagent.md = Claude Code native format referencing CLEO canonical; injection template references but does not redefine. Acceptance: single source of truth for subagent definition, no content duplication across files.",
      "labels": [
        "agents",
        "foundation",
        "refactor",
        "wave-0"
      ],
      "createdAt": "2026-02-07T16:54:07Z",
      "updatedAt": "2026-02-07T16:54:07Z"
    },
    {
      "id": "T3159",
      "title": "Document CLEO-Tasks alignment conventions",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "small",
      "position": 3,
      "positionVersion": 0,
      "description": "Create authoritative spec documenting: status mapping (CLEO pending/active/blocked/done to Tasks pending/in_progress/completed), ID correlation (T#### stored in metadata.cleoId), hierarchy flattening strategy (CLEO parent-child to Tasks blocks/blockedBy), sync direction (CLEO as source of truth, push to Tasks), conflict resolution rules. Replaces old TODOWRITE-SYNC.mdx with Tasks-aware spec. Output: docs/specs/CLEO-TASKS-ALIGNMENT-SPEC.md. Acceptance: spec covers all mapping rules, approved for use by injection layer.",
      "labels": [
        "documentation",
        "foundation",
        "spec",
        "wave-0"
      ],
      "createdAt": "2026-02-07T16:54:11Z",
      "updatedAt": "2026-02-07T16:54:11Z"
    },
    {
      "id": "T3160",
      "title": "Update AGENT-INJECTION.md for Claude Code Tasks era",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "small",
      "position": 4,
      "positionVersion": 0,
      "description": "Update injection template to instruct Claude (and other LLMs) to use CLEO (ct CLI or MCP) as PRIMARY task system. Replace old TodoWrite references with Tasks-aware language. Keep language LLM-agnostic so same content works in GEMINI.md, CODEX.md, KIMI.md. Add section explaining Claude Code Tasks as synced display layer, not competing system. Files: .cleo/templates/AGENT-INJECTION.md. Acceptance: no TodoWrite references remain, injection works for Claude and non-Claude LLMs.",
      "labels": [
        "injection",
        "portability",
        "wave-1"
      ],
      "depends": [
        "T3159"
      ],
      "createdAt": "2026-02-07T16:54:31Z",
      "updatedAt": "2026-02-07T16:54:31Z"
    },
    {
      "id": "T3161",
      "title": "Update todowrite-integration.sh for Tasks format",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Adapt lib/todowrite-integration.sh to produce Claude Code Tasks JSON schema. New task_to_claude_tasks() function converting CLEO tasks to Tasks format. STATUS_TO_TASKS and STATUS_FROM_TASKS mapping arrays (pending->pending, active->in_progress, blocked->pending+blockedBy, done->completed). Populate metadata.cleoId with T#### IDs. Map CLEO depends[] to Tasks blockedBy[]. Keep backward compat with old TodoWrite functions for transition period. Files: lib/todowrite-integration.sh, tests/unit/export.bats. Acceptance: round-trip conversion CLEO->Tasks->CLEO preserves all data.",
      "labels": [
        "injection",
        "library",
        "sync",
        "wave-1"
      ],
      "depends": [
        "T3159"
      ],
      "createdAt": "2026-02-07T16:54:34Z",
      "updatedAt": "2026-02-07T16:54:34Z"
    },
    {
      "id": "T3162",
      "title": "Implement CLEO-to-Tasks sync protocol",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "large",
      "position": 6,
      "positionVersion": 0,
      "description": "Push CLEO state to ~/.claude/tasks/{listId}/ as individual JSON files matching Claude Code Tasks schema. ID correlation table at .cleo/sync/task-mapping.json. Commands: cleo sync --push (full rebuild) and cleo sync --push --incremental (changes only based on updatedAt timestamps). Hierarchy flattening: parent tasks generate blocks/blockedBy relationships in Tasks format. Status mapping per CLEO-TASKS-ALIGNMENT-SPEC. Files: new scripts/tasks-sync.sh or extend existing scripts/sync.sh. Acceptance: cleo sync --push creates valid Tasks files, incremental mode only syncs changed tasks, mapping table maintains stable ID correlation.",
      "labels": [
        "core",
        "protocol",
        "sync",
        "wave-2"
      ],
      "depends": [
        "T3159",
        "T3161"
      ],
      "createdAt": "2026-02-07T16:54:53Z",
      "updatedAt": "2026-02-07T16:54:53Z"
    },
    {
      "id": "T3163",
      "title": "Add SubagentStart hook for lifecycle gates",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "medium",
      "position": 7,
      "positionVersion": 0,
      "description": "Enforce RCSD lifecycle prerequisites before subagent work begins using Claude Code hooks. Create .claude/hooks/subagent-lifecycle-gate.sh that checks RCSD stage completion before allowing subagent spawns. Register hook in .claude/settings.json as PreToolUse hook on Task tool. Gate checks: verify research/consensus/specification stages completed for implementation tasks. Error output follows Claude Code hook protocol (JSON with allow/deny). Files: .claude/hooks/subagent-lifecycle-gate.sh (new), .claude/settings.json (update). Acceptance: subagent spawn blocked when lifecycle prerequisites not met, hook registered and functional in Claude Code.",
      "labels": [
        "enforcement",
        "hooks",
        "lifecycle",
        "wave-2"
      ],
      "depends": [
        "T3157"
      ],
      "createdAt": "2026-02-07T16:54:56Z",
      "updatedAt": "2026-02-07T16:54:56Z"
    },
    {
      "id": "T3164",
      "title": "Add sync domain to MCP server",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "medium",
      "position": 8,
      "positionVersion": 0,
      "description": "New sync domain in MCP server with operations: sync.status (check sync state), sync.mapping (view ID correlation table), sync.push (trigger CLEO->Tasks sync), sync.pull (trigger Tasks->CLEO sync), sync.clear (reset sync state). Register domain in both CQRS gateways (query and mutation). Domain calls underlying bash sync scripts. Files: mcp-server/src/domains/sync.ts (new), mcp-server/src/domains/index.ts (update registrations). Acceptance: all 5 sync operations functional via MCP, proper error handling for missing sync state.",
      "labels": [
        "domain",
        "mcp-server",
        "sync",
        "wave-3"
      ],
      "depends": [
        "T3161",
        "T3162"
      ],
      "createdAt": "2026-02-07T16:55:13Z",
      "updatedAt": "2026-02-07T16:55:13Z"
    },
    {
      "id": "T3165",
      "title": "Create Claude Code slash commands for CLEO skills",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "medium",
      "position": 9,
      "positionVersion": 0,
      "description": "Create .claude/commands/ directory with 6 priority slash commands that bridge Claude Code to CLEO skills: /orchestrate (triggers ct-orchestrator skill), /epic (triggers ct-epic-architect), /research (triggers ct-research-agent), /implement (triggers ct-task-executor), /test (triggers ct-test-writer-bats), /validate (triggers ct-validator). Each command file is markdown with frontmatter describing the command and body containing the skill dispatch instructions. Files: .claude/commands/orchestrate.md, epic.md, research.md, implement.md, test.md, validate.md (all new). Acceptance: all 6 commands appear in Claude Code slash command list and trigger correct CLEO skills.",
      "labels": [
        "claude-code",
        "commands",
        "skills",
        "wave-3"
      ],
      "depends": [
        "T3157",
        "T3160"
      ],
      "createdAt": "2026-02-07T16:55:15Z",
      "updatedAt": "2026-02-07T16:55:15Z"
    },
    {
      "id": "T3166",
      "title": "Create role-specific subagents",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "small",
      "position": 10,
      "positionVersion": 0,
      "description": "Create 3 role-specific Claude Code subagent definitions that supplement (not replace) the universal cleo-subagent: cleo-researcher.md (read-only tools: Read, Glob, Grep, WebSearch, WebFetch - for research tasks), cleo-implementer.md (full tools: Read, Write, Edit, Bash, Glob, Grep - for implementation), cleo-planner.md (read-only + planning: Read, Glob, Grep, EnterPlanMode - for architecture/decomposition). Each references CLEO canonical agent definition and adds role constraints. Files: .claude/agents/cleo-researcher.md, cleo-implementer.md, cleo-planner.md (all new). Acceptance: all 3 agents appear in Claude Code agent list, each has correct tool restrictions.",
      "labels": [
        "agents",
        "claude-code",
        "roles",
        "wave-4"
      ],
      "depends": [
        "T3157",
        "T3165"
      ],
      "createdAt": "2026-02-07T16:55:39Z",
      "updatedAt": "2026-02-07T16:55:39Z"
    },
    {
      "id": "T3167",
      "title": "Test LLM portability",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "medium",
      "position": 11,
      "positionVersion": 0,
      "description": "Verify CLEO injection and MCP work across multiple LLM targets. Test matrix: Gemini (via GEMINI.md injection + MCP), Codex (via AGENTS.md injection + MCP), Kimi (via AGENTS.md injection + MCP). Verify: no Claude-specific tool names in non-Claude injections, MCP server responds correctly to non-Claude MCP clients, ct CLI works when invoked by any LLM agent, injection template produces valid instructions for each target. Output: docs/integration/LLM-PORTABILITY.md documenting test results and compatibility matrix. Acceptance: at least 2 non-Claude LLMs can use CLEO via injection or MCP.",
      "labels": [
        "documentation",
        "portability",
        "testing",
        "wave-4"
      ],
      "depends": [
        "T3160"
      ],
      "createdAt": "2026-02-07T16:55:42Z",
      "updatedAt": "2026-02-07T16:55:42Z"
    },
    {
      "id": "T3168",
      "title": "Create cleo-base-protocol as native skill",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "small",
      "position": 12,
      "positionVersion": 0,
      "description": "Create .claude/commands/cleo-protocol.md that loads CLEO base protocol into Claude context on demand. Bridges CLEO protocol injection and direct Claude Code usage. Content: base protocol lifecycle (spawn, inject, execute, output, return), output requirements (file + manifest), RFC 2119 constraints, error handling patterns. This lets Claude Code users invoke /cleo-protocol to get full CLEO protocol context without relying on injection. Files: .claude/commands/cleo-protocol.md (new). Acceptance: /cleo-protocol command loads full base protocol, content matches agents/cleo-subagent/AGENT.md canonical definition.",
      "labels": [
        "claude-code",
        "commands",
        "protocol",
        "wave-4"
      ],
      "depends": [
        "T3157",
        "T3165"
      ],
      "createdAt": "2026-02-07T16:55:44Z",
      "updatedAt": "2026-02-07T16:55:44Z"
    },
    {
      "id": "T3169",
      "title": "Implement bidirectional status sync via hooks",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "large",
      "position": 13,
      "positionVersion": 0,
      "description": "PostToolUse hook on TaskUpdate detects Claude Code Task status changes and propagates back to CLEO. Cross-reference .cleo/sync/task-mapping.json to find CLEO task ID from Claude Code Task ID. Propagate status change back to CLEO (Tasks completed -> cleo complete, Tasks in_progress -> cleo update --status active). Loop prevention: set CLEO_SYNC_ACTIVE=1 env var during sync operations, hook checks and skips if set. Conflict resolution: CLEO wins on conflict (per alignment spec). Files: .claude/hooks/task-status-backflow.sh (new), .claude/settings.json (update). Acceptance: status changes in Claude Code Tasks automatically reflected in CLEO, no infinite loops, conflict resolution works correctly.",
      "labels": [
        "bidirectional",
        "hooks",
        "sync",
        "wave-5"
      ],
      "depends": [
        "T3162",
        "T3163"
      ],
      "createdAt": "2026-02-07T16:56:03Z",
      "updatedAt": "2026-02-07T16:56:03Z"
    },
    {
      "id": "T3171",
      "title": "Design ~/.cleo/memory/ layer specification",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "medium",
      "position": 15,
      "positionVersion": 0,
      "description": "Design the BRAIN memory architecture for CLEO: decisions (architectural choices with rationale), patterns (recurring code/workflow patterns), learnings (lessons learned from failures/successes). Define storage format, indexing strategy, and retention policies. Define MCP resource URIs for memory access (e.g., cleo://memory/decisions/auth-strategy). Integration with existing CLEO state (sessions, tasks, metrics). Output: docs/specs/CLEO-MEMORY-LAYER-SPEC.md. Acceptance: spec defines memory schema, MCP resource URIs, storage format, and integration points with existing CLEO systems.",
      "labels": [
        "architecture",
        "memory",
        "specification",
        "wave-6"
      ],
      "depends": [
        "T3159"
      ],
      "createdAt": "2026-02-07T16:56:15Z",
      "updatedAt": "2026-02-07T16:56:15Z"
    },
    {
      "id": "T3172",
      "title": "Package CLEO as distributable plugin",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T3156",
      "phase": "core",
      "size": "large",
      "position": 16,
      "positionVersion": 0,
      "description": "Package CLEO for distribution: npm package for MCP server (mcp-server/ as standalone publishable package), installer script for CLI (curl-pipe or brew-style installation), cleo init bootstraps both .cleo/ project directory and LLM integration files (.claude/agents/, .claude/commands/, GEMINI.md, etc.). Works on macOS and Linux. Installer detects platform, installs dependencies (bash 4+, jq), creates symlinks. npm package includes TypeScript MCP server with all domains. Files: install.sh (update), package.json (new at root or mcp-server/), mcp-server/package.json (update for publishing). Acceptance: fresh install on macOS and Linux works, cleo init creates complete project setup, MCP server installable via npm.",
      "labels": [
        "distribution",
        "installer",
        "packaging",
        "wave-6"
      ],
      "depends": [
        "T3167"
      ],
      "createdAt": "2026-02-07T16:56:32Z",
      "updatedAt": "2026-02-07T16:56:32Z"
    },
    {
      "id": "T4246",
      "title": "Fix checkpoint/release conflict: eliminate race conditions and state corruption",
      "status": "pending",
      "priority": "medium",
      "type": "epic",
      "phase": "core",
      "size": "medium",
      "position": 838,
      "positionVersion": 0,
      "description": "Root cause: git checkpoint auto-commits interfere with release ship flow causing state corruption. 5 fixes: (1) Add checkpoint suppression mechanism for multi-step atomic flows, (2) Reorder release ship to set status before git commit, (3) Route raw writes through save_json, (4) Prevent checkpoint side-effects during validation gates, (5) Deduplicate checksum recalculation into shared helper.",
      "notes": [
        "2026-02-16 18:01:38 UTC: Triage T4570: KEPT. Active bug. Checkpoint/release race conditions still relevant in TS."
      ],
      "createdAt": "2026-02-09T22:58:04Z",
      "updatedAt": "2026-02-16T18:01:38.968Z"
    },
    {
      "id": "T4274",
      "title": "Review release pipeline defaults and CLEO config for push behavior",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 843,
      "positionVersion": 0,
      "description": "Investigate whether cleo release ship should default to --push or require explicit opt-in. Review all CLEO config settings that control release behavior (push, tag creation, version bump). Audit agent protocols to ensure no agent or subagent ever bypasses cleo release ship for git push operations on releases. This was triggered by a protocol violation where git push was run manually outside the release pipeline, breaking provenance tracking.",
      "labels": [
        "config",
        "epic",
        "release",
        "review"
      ],
      "createdAt": "2026-02-11T01:16:22Z",
      "updatedAt": "2026-02-11T01:16:22Z"
    },
    {
      "id": "T4275",
      "title": "Audit cleo release ship flags and determine safe defaults",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4274",
      "phase": "core",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Review the current cleo release ship flags (--bump-version, --create-tag, --push, --dry-run). Determine: 1) Should --push be default or explicit opt-in? 2) Should there be a config setting in .cleo/config.json to control default push behavior? 3) What guardrails exist to prevent partial releases (committed+tagged but not pushed)? 4) Should ship refuse to complete without --push unless --no-push is explicitly passed? Document findings and recommend config schema changes.",
      "createdAt": "2026-02-11T01:16:42Z",
      "updatedAt": "2026-02-11T01:16:42Z"
    },
    {
      "id": "T4276",
      "title": "Review .cleo/config.json release settings and add push policy",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4274",
      "phase": "core",
      "size": "medium",
      "position": 2,
      "positionVersion": 0,
      "description": "Examine the current .cleo/config.json schema for release-related settings. Add a release.pushPolicy config option with values: 'always' (--push is implicit), 'explicit' (--push must be passed), 'prompt' (interactive confirmation before push). Default should be determined by T4275 findings. Update schemas/config.schema.json accordingly.",
      "createdAt": "2026-02-11T01:16:50Z",
      "updatedAt": "2026-02-11T01:16:50Z"
    },
    {
      "id": "T4279",
      "title": "Add agent protocol guard against manual git push for releases",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4274",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Update agent injection templates and protocols to explicitly prohibit manual git push for release operations. Add to CLEO-INJECTION.md and agent-protocol.md: agents MUST use cleo release ship --push, NEVER git push directly for tagged releases. Add enforcement check in release.sh that warns if HEAD has a release tag but remote is behind.",
      "createdAt": "2026-02-11T01:17:14Z",
      "updatedAt": "2026-02-11T01:17:14Z"
    },
    {
      "id": "T4284",
      "title": "EPIC: CLEO Nexus Command Center WebUI",
      "status": "pending",
      "priority": "critical",
      "type": "epic",
      "phase": "core",
      "size": "large",
      "position": 844,
      "positionVersion": 0,
      "description": "Build a local web-based visual interface for CLEO MCP server providing a Command Center dashboard. MVP is read-only visualization of all registered projects, Nexus intelligence, task hierarchies, and brain/memory. Runs on localhost with real-time updates via file watching. Uses existing MCP server domain handlers for data access.",
      "labels": [
        "mvp",
        "nexus",
        "visualization",
        "web-ui"
      ],
      "notes": [
        "2026-02-16 18:01:39 UTC: Triage T4570: KEPT. Future WebUI feature. Not bash-dependent. 35 children."
      ],
      "createdAt": "2026-02-11T03:57:36Z",
      "updatedAt": "2026-02-16T18:01:39.154Z"
    },
    {
      "id": "T4293",
      "title": "Phase 1: Build dashboard overview with metric cards and phase progress",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 9,
      "positionVersion": 0,
      "description": "Create charts showing completion rate, phase progress, priority distribution. Use Chart.js or D3.js. Include time-series activity graph.",
      "labels": [
        "charts",
        "phase-2",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:58:31Z",
      "updatedAt": "2026-02-13T05:50:39Z"
    },
    {
      "id": "T4294",
      "title": "Phase 2: Implement task search with filters (status, priority, phase, label)",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 10,
      "positionVersion": 0,
      "description": "Build search interface querying all project tasks. Full-text search on titles and descriptions. Filter by status, priority, project. Show results with project context.",
      "labels": [
        "phase-2",
        "search",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:58:32Z",
      "updatedAt": "2026-02-13T05:50:47Z"
    },
    {
      "id": "T4295",
      "title": "Phase 4: Create Nexus multi-project view with aggregate stats",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "large",
      "position": 11,
      "positionVersion": 0,
      "description": "Visualize cross-project relationships using force-directed graph. Show relationships between tasks in different projects. Filter by relationship type and project.",
      "labels": [
        "nexus",
        "phase-2",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:58:33Z",
      "updatedAt": "2026-02-13T05:51:00Z"
    },
    {
      "id": "T4296",
      "title": "Phase 1: Build system health view (versions, schemas, storage, warnings)",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 12,
      "positionVersion": 0,
      "description": "Display system-wide health metrics: CLEO version, schema versions, project health status, storage usage. Show warnings and issues requiring attention.",
      "labels": [
        "monitoring",
        "phase-2",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:58:34Z",
      "updatedAt": "2026-02-13T05:50:43Z"
    },
    {
      "id": "T4297",
      "title": "Phase 2: Build research artifact browser with status filtering",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 13,
      "positionVersion": 0,
      "description": "Create interface to browse research artifacts from .cleo/research/ and claudedocs/agent-outputs/. Show manifest entries with search, filter by date/status, and link to source tasks.",
      "labels": [
        "memory",
        "phase-3",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:58:51Z",
      "updatedAt": "2026-02-13T05:50:49Z"
    },
    {
      "id": "T4298",
      "title": "Phase 2: Create RCSD pipeline visualization",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 14,
      "positionVersion": 0,
      "description": "Display architectural decisions from .cleo/memory/decisions.jsonl or similar. Show decision rationale, alternatives considered, linked tasks, and outcomes.",
      "labels": [
        "memory",
        "phase-3",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:58:52Z",
      "updatedAt": "2026-02-13T05:50:51Z"
    },
    {
      "id": "T4299",
      "title": "Phase 2: Build analytics view with velocity, cycle time, and trend charts",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 15,
      "positionVersion": 0,
      "description": "Visualize discovered workflow patterns from completed work. Show pattern frequency, success rates, and recommendations for new tasks.",
      "labels": [
        "memory",
        "phase-3",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:58:53Z",
      "updatedAt": "2026-02-13T05:50:53Z"
    },
    {
      "id": "T4300",
      "title": "Phase 1: Build session list view with active session detail",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 16,
      "positionVersion": 0,
      "description": "Create timeline visualization of session history. Show session start/end, focus changes, completed tasks, and notes. Filter by date range and project.",
      "labels": [
        "memory",
        "phase-3",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:58:54Z",
      "updatedAt": "2026-02-13T05:50:45Z"
    },
    {
      "id": "T4301",
      "title": "Phase 4: Create cross-project search and pattern detection",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "large",
      "position": 17,
      "positionVersion": 0,
      "description": "Analyze patterns across multiple projects. Identify common workflows, anti-patterns, and best practices. Show project comparison and knowledge transfer opportunities.",
      "labels": [
        "memory",
        "nexus",
        "phase-3",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:58:55Z",
      "updatedAt": "2026-02-13T05:51:02Z"
    },
    {
      "id": "T4302",
      "title": "Phase 2: Build brain view (research, consensus, RCSD tabs)",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 18,
      "positionVersion": 0,
      "description": "Create overview of all brain/memory systems: research count, decision count, patterns learned, insights accumulated. Quick links to detailed views.",
      "labels": [
        "memory",
        "phase-3",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:58:56Z",
      "updatedAt": "2026-02-13T05:50:55Z"
    },
    {
      "id": "T4303",
      "title": "Phase 2: Implement dark/light mode theme toggle",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "small",
      "position": 19,
      "positionVersion": 0,
      "description": "Add theme switcher supporting dark mode (default) and light mode. Store preference in localStorage. Apply CLEO brand colors consistently across both themes.",
      "labels": [
        "phase-4",
        "polish",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:59:13Z",
      "updatedAt": "2026-02-13T05:50:57Z"
    },
    {
      "id": "T4304",
      "title": "Phase 2: Add responsive design for tablet/mobile",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 20,
      "positionVersion": 0,
      "description": "Ensure UI works on smaller screens. Collapsible sidebar, stacked layouts, touch-friendly controls. Test on various viewport sizes.",
      "labels": [
        "phase-4",
        "polish",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:59:14Z",
      "updatedAt": "2026-02-13T05:51:06Z"
    },
    {
      "id": "T4305",
      "title": "Phase 3: Task create/update/complete from web UI",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 21,
      "positionVersion": 0,
      "description": "Implement virtualization for large lists (1000+ tasks). Lazy loading, pagination, or virtual scrolling. Ensure smooth rendering.",
      "labels": [
        "performance",
        "phase-4",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:59:15Z",
      "updatedAt": "2026-02-13T05:50:59Z"
    },
    {
      "id": "T4306",
      "title": "Phase 1: Create cleo web start/stop/status CLI command",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 22,
      "positionVersion": 0,
      "description": "Add cleo web start command to launch web server. Support --port, --open flags. Integrate with existing CLI structure.",
      "labels": [
        "cli",
        "phase-4",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:59:16Z",
      "updatedAt": "2026-02-13T05:50:41Z"
    },
    {
      "id": "T4307",
      "title": "Phase 1: Write Web UI user documentation",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 23,
      "positionVersion": 0,
      "description": "Create comprehensive documentation for Web UI: installation, features, navigation guide, keyboard shortcuts. Include screenshots and examples.",
      "labels": [
        "docs",
        "phase-4",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:59:17Z",
      "updatedAt": "2026-02-13T05:51:08Z"
    },
    {
      "id": "T4308",
      "title": "Release web dashboard MVP",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "small",
      "position": 24,
      "positionVersion": 0,
      "description": "Document all Web UI features for v0.87.0 release. Highlight key capabilities, installation instructions, and breaking changes.",
      "labels": [
        "phase-4",
        "release",
        "web-ui"
      ],
      "createdAt": "2026-02-11T03:59:18Z",
      "updatedAt": "2026-02-13T05:51:04Z"
    },
    {
      "id": "T4329",
      "title": "Fix research manifest invalid entries",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 4,
      "positionVersion": 0,
      "description": "ct validate reports 2 invalid research manifest entries. Diagnose: (1) Read .cleo/research/MANIFEST.jsonl and identify malformed lines. (2) Fix or remove invalid entries. (3) Verify manifest parses cleanly with jq.",
      "createdAt": "2026-02-11T04:51:30Z",
      "updatedAt": "2026-02-11T05:02:23Z"
    },
    {
      "id": "T4334",
      "title": "EPIC: MCP Server Native TypeScript Engine",
      "status": "pending",
      "priority": "high",
      "type": "epic",
      "phase": "core",
      "size": "large",
      "position": 851,
      "positionVersion": 0,
      "description": "Native TypeScript data engine enabling MCP server standalone operation without bash/jq. Dual-mode execution, capability matrix, atomic writes, cross-process locking.",
      "notes": [
        "2026-02-12 02:19:04 UTC: 2026-02-12 HYGIENE: T4334 is the canonical MCP native engine epic. T4333 (originally intended as canonical) is locked in done status. T4334 owns children P0-P4 (T4335-T4339). P0-P2 phases delivered in v0.91.0-v0.93.1. P3 (golden parity tests) and P4 (rollout) remain pending.",
        "2026-02-16 18:01:39 UTC: Triage T4570: KEPT. Partially done (T4335-T4337 done). Remaining work still relevant."
      ],
      "createdAt": "2026-02-11T23:29:10Z",
      "updatedAt": "2026-02-16T18:01:39.367Z"
    },
    {
      "id": "T4338",
      "title": "P3: Golden Parity Tests and Cross-Platform CI",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4334",
      "phase": "core",
      "size": "large",
      "position": 4,
      "positionVersion": 0,
      "description": "Write golden parity test suite (native vs CLI output diff), lock contention tests, cross-platform CI matrix (ubuntu, macos, windows). Gate criteria before enabling auto mode by default.",
      "createdAt": "2026-02-11T23:29:31Z",
      "updatedAt": "2026-02-12T02:21:25Z"
    },
    {
      "id": "T4339",
      "title": "P4: Feature-flagged Rollout",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T4334",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Alpha (native opt-in) -> Beta (auto default) -> GA. Documentation updates, npm README, MCP server listing. Mark as cross-platform.",
      "depends": [
        "T4337"
      ],
      "createdAt": "2026-02-11T23:29:33Z",
      "updatedAt": "2026-02-11T23:29:33Z"
    },
    {
      "id": "T4357",
      "title": "Update AGENT-INJECTION.md for MCP-first guidance",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 854,
      "positionVersion": 0,
      "description": "Add MCP quick reference section at top of .cleo/templates/AGENT-INJECTION.md. Reorder content so MCP tools (cleo_query/cleo_mutate) appear before CLI commands. Add Level 0 progressive disclosure content (~200 tokens) as the primary entry point. Move CLI content to a clearly marked fallback section. Reference: docs/specs/MCP-AGENT-INTERACTION-SPEC.md Section 8.",
      "createdAt": "2026-02-11T23:37:47Z",
      "updatedAt": "2026-02-11T23:37:47Z"
    },
    {
      "id": "T4360",
      "title": "Update CLEO-INJECTION.md for MCP-first guidance",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 855,
      "positionVersion": 0,
      "description": "Add MCP-first entry section (Level 0) at top of templates/CLEO-INJECTION.md. Add progressive disclosure guidance showing how agents escalate from Level 0 to Level 3. Condense CLI reference into a fallback appendix. Keep full protocol stack content (Level 3) intact for orchestrator use. Reference: docs/specs/MCP-AGENT-INTERACTION-SPEC.md Section 8.",
      "createdAt": "2026-02-11T23:37:59Z",
      "updatedAt": "2026-02-11T23:37:59Z"
    },
    {
      "id": "T4362",
      "title": "Implement progressive disclosure layer in MCP server",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 856,
      "positionVersion": 0,
      "description": "Add system.help operation to MCP server that serves context at 4 disclosure levels. Level 0: minimal entry (two tools, quick reference). Level 1: domain discovery (all operations listed). Level 2: operation-specific (parameter schemas, error codes, examples). Level 3: protocol-aware (full lifecycle gates, validation rules). Implementation in mcp-server/src/engine/ or new disclosure module. Reference: docs/specs/MCP-AGENT-INTERACTION-SPEC.md Section 6.",
      "createdAt": "2026-02-11T23:38:06Z",
      "updatedAt": "2026-02-11T23:38:06Z"
    },
    {
      "id": "T4371",
      "title": "Task operation golden parity tests (native vs CLI)",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4338",
      "phase": "core",
      "size": "medium",
      "position": 2,
      "positionVersion": 0,
      "description": "Jest test suite that runs every native-supported task operation (create, read, update, delete, list, find) through BOTH native engine and CLI subprocess. Diff JSON responses for semantic equivalence. Must achieve 100% parity on response structure, field values, and exit codes. Uses golden fixtures.",
      "labels": [
        "testing",
        "typescript"
      ],
      "depends": [
        "T4370"
      ],
      "createdAt": "2026-02-12T02:19:19Z",
      "updatedAt": "2026-02-12T02:19:19Z"
    },
    {
      "id": "T4373",
      "title": "Session operation golden parity tests (native vs CLI)",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4338",
      "phase": "core",
      "size": "medium",
      "position": 3,
      "positionVersion": 0,
      "description": "Jest test suite for session operations (start, end, status, focus.set, focus.get, focus.clear) through both paths. Verify identical behavior for session lifecycle including error conditions.",
      "labels": [
        "testing",
        "typescript"
      ],
      "depends": [
        "T4370"
      ],
      "createdAt": "2026-02-12T02:19:30Z",
      "updatedAt": "2026-02-12T02:19:30Z"
    },
    {
      "id": "T4376",
      "title": "Cross-platform CI test matrix (Linux, macOS, Windows)",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4338",
      "phase": "core",
      "size": "medium",
      "position": 6,
      "positionVersion": 0,
      "description": "GitHub Actions workflow with matrix: ubuntu-latest (both modes), macos-latest (both modes), windows-latest (native only). Run golden parity suite on each platform. Gate: all platforms must pass before merge.",
      "labels": [
        "ci",
        "testing",
        "typescript"
      ],
      "depends": [
        "T4371",
        "T4373",
        "T4374",
        "T4375"
      ],
      "createdAt": "2026-02-12T02:19:51Z",
      "updatedAt": "2026-02-12T02:19:51Z"
    },
    {
      "id": "T4377",
      "title": "Expose capability matrix in system.doctor and system.capabilities",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4339",
      "phase": "core",
      "size": "small",
      "position": 1,
      "positionVersion": 0,
      "description": "Add system.doctor reporting that shows: current execution mode (native/cli/auto), available native operations count, CLI-only operations count, degraded operations list. Add system.capabilities query that returns full operation matrix with native/cli/hybrid tags.",
      "labels": [
        "implementation",
        "typescript"
      ],
      "createdAt": "2026-02-12T02:19:59Z",
      "updatedAt": "2026-02-12T02:19:59Z"
    },
    {
      "id": "T4378",
      "title": "Enforce initialization policy (auto-init vs explicit system.init)",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4339",
      "phase": "core",
      "size": "small",
      "position": 2,
      "positionVersion": 0,
      "description": "Finalize and enforce init behavior: (1) Default: require explicit system.init or CLEO_AUTO_INIT=true (2) Return E_NOT_INITIALIZED with fix instructions if .cleo/ missing (3) Document policy in README and MCP server docs (4) Add init state check to mode-detector startup.",
      "labels": [
        "implementation",
        "typescript"
      ],
      "createdAt": "2026-02-12T02:20:08Z",
      "updatedAt": "2026-02-12T02:20:08Z"
    },
    {
      "id": "T4379",
      "title": "Update roadmap and decision docs for single-source migration narrative",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4339",
      "phase": "core",
      "size": "medium",
      "position": 3,
      "positionVersion": 0,
      "description": "Ensure these docs all tell consistent story: CLEO-STRATEGIC-ROADMAP-SPEC.md, CLEO-V2-ARCHITECTURE-DECISIONS.md, CLEO-PATH-FORWARD-2026Q1.md, vision.mdx. Remove any conflicting statements about T2021 vs MCP-first. Reference T4333 as canonical cross-platform epic.",
      "labels": [
        "documentation",
        "typescript"
      ],
      "createdAt": "2026-02-12T02:20:16Z",
      "updatedAt": "2026-02-12T02:20:16Z"
    },
    {
      "id": "T4380",
      "title": "Define MCP native mode GA exit criteria",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4339",
      "phase": "core",
      "size": "small",
      "position": 4,
      "positionVersion": 0,
      "description": "Document formal exit criteria for MCP native mode general availability: (1) 100 percent golden parity pass rate (2) Zero data corruption in mixed-writer tests (3) Cross-platform CI green (4) Capability matrix exposed and documented (5) Init policy enforced (6) All task hygiene complete. Write to docs/specs/MCP-NATIVE-GA-CRITERIA.md.",
      "labels": [
        "specification",
        "typescript"
      ],
      "createdAt": "2026-02-12T02:20:23Z",
      "updatedAt": "2026-02-12T02:20:23Z"
    },
    {
      "id": "T4381",
      "title": "Implement feature-flagged rollout (alpha/beta/GA)",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4339",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Implement MCP_EXECUTION_MODE flag progression: (1) Alpha: native opt-in only (2) Beta: auto default with CLI preference (3) GA: auto default, native preferred. Add opt-in telemetry counters: ops per mode, error rates, lock contention, degradation events. Integrate with existing OTEL config.",
      "labels": [
        "implementation",
        "typescript"
      ],
      "depends": [
        "T4376"
      ],
      "createdAt": "2026-02-12T02:20:32Z",
      "updatedAt": "2026-02-12T02:20:32Z"
    },
    {
      "id": "T4391",
      "title": "T4387 CLI Repro Parent Task",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 862,
      "positionVersion": 0,
      "description": "Temp parent task for auto-complete repro",
      "labels": [
        "repro",
        "t4387",
        "temp"
      ],
      "acceptance": [
        "Temp"
      ],
      "createdAt": "2026-02-12T21:21:53Z",
      "updatedAt": "2026-02-12T21:21:53Z"
    },
    {
      "id": "T4394",
      "title": "T4387 AutoComplete Grandparent",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 863,
      "positionVersion": 0,
      "description": "Auto-complete repro grandparent",
      "labels": [
        "repro",
        "t4387",
        "temp"
      ],
      "acceptance": [
        "Temp"
      ],
      "createdAt": "2026-02-12T21:22:17Z",
      "updatedAt": "2026-02-12T21:22:17Z"
    },
    {
      "id": "T4395",
      "title": "T4387 AutoComplete Parent",
      "status": "pending",
      "priority": "low",
      "type": "subtask",
      "parentId": "T4394",
      "phase": "core",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Auto-complete repro parent",
      "labels": [
        "repro",
        "t4387",
        "temp"
      ],
      "acceptance": [
        "Temp"
      ],
      "createdAt": "2026-02-12T21:22:18Z",
      "updatedAt": "2026-02-12T21:22:18Z"
    },
    {
      "id": "T4412",
      "title": "Regression test: cleo issue command and MCP issues domain (v0.94.0)",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 868,
      "positionVersion": 0,
      "description": "Regression testing epic for the cleo issue command and MCP issues domain added in v0.94.0. Covers CLI subcommands, LAFS output, dry-run, validation, template alignment, and MCP server operations.",
      "createdAt": "2026-02-13T02:21:07Z",
      "updatedAt": "2026-02-13T02:21:07Z"
    },
    {
      "id": "T4413",
      "title": "Test CLI: cleo issue diagnostics --json returns valid JSON with all environment fields",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4412",
      "phase": "core",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Run: cleo issue diagnostics --json\nVerify: success=true, result.diagnostics contains cleoVersion, bashVersion, jqVersion, os, shell, cleoHome, ghVersion, installLocation. All fields are non-empty strings.",
      "createdAt": "2026-02-13T02:21:19Z",
      "updatedAt": "2026-02-13T02:21:19Z"
    },
    {
      "id": "T4416",
      "title": "Test: diagnostics human output",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4412",
      "phase": "core",
      "size": "medium",
      "position": 4,
      "positionVersion": 0,
      "description": "Run cleo issue diagnostics --human. Verify readable text output with CLEO Diagnostics header, labeled rows, no JSON.",
      "createdAt": "2026-02-13T02:21:43Z",
      "updatedAt": "2026-02-13T02:21:43Z"
    },
    {
      "id": "T4417",
      "title": "Test: bug dry-run JSON output",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4412",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Run: cleo issue bug --dry-run --title 'Test bug' --body 'Bug description' --json. Verify: success=true, dryRun=true, result.type=bug, result.title starts with '[Bug]: ', result.labels=[bug,triage], result.body contains '### What happened?' section header and '## Environment' diagnostics table.",
      "createdAt": "2026-02-13T02:21:51Z",
      "updatedAt": "2026-02-13T02:21:51Z"
    },
    {
      "id": "T4418",
      "title": "Test: feature dry-run JSON output",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4412",
      "phase": "core",
      "size": "medium",
      "position": 6,
      "positionVersion": 0,
      "description": "Run: cleo issue feature --dry-run --title 'Test feature' --body 'Feature description' --json. Verify: success=true, dryRun=true, result.type=feature, result.title starts with '[Feature]: ', result.labels=[enhancement,triage], result.body contains '### Problem or use case' section header.",
      "createdAt": "2026-02-13T02:21:57Z",
      "updatedAt": "2026-02-13T02:21:57Z"
    },
    {
      "id": "T4419",
      "title": "Test: help dry-run JSON output",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4412",
      "phase": "core",
      "size": "medium",
      "position": 7,
      "positionVersion": 0,
      "description": "Run: cleo issue help --dry-run --title 'Test question' --body 'Question text' --json. Verify: success=true, dryRun=true, result.type=help, result.title starts with '[Question]: ', result.labels=[question,help], result.body contains '### What do you need help with?' section header.",
      "createdAt": "2026-02-13T02:22:03Z",
      "updatedAt": "2026-02-13T02:22:03Z"
    },
    {
      "id": "T4422",
      "title": "Test: validation errors",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4412",
      "phase": "core",
      "size": "medium",
      "position": 10,
      "positionVersion": 0,
      "description": "Three error cases: (1) No flags in non-TTY pipe - exit 6. (2) Title only, no body - exit 6. (3) No subcommand - exit 2. All must return structured JSON errors with codes.",
      "createdAt": "2026-02-13T02:22:24Z",
      "updatedAt": "2026-02-13T02:22:24Z"
    },
    {
      "id": "T4423",
      "title": "Test: severity and area flags",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4412",
      "phase": "core",
      "size": "medium",
      "position": 11,
      "positionVersion": 0,
      "description": "Run: cleo issue bug --dry-run --title test --body test --severity 'Major' --area cli --human. Verify body contains Severity: Major and Area: cli as metadata lines within the body text. Labels should NOT include severity/area (repo has no such labels).",
      "createdAt": "2026-02-13T02:22:31Z",
      "updatedAt": "2026-02-13T02:22:31Z"
    },
    {
      "id": "T4424",
      "title": "Test: commands index registration",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4412",
      "phase": "core",
      "size": "medium",
      "position": 12,
      "positionVersion": 0,
      "description": "Run: cleo commands issue --json. Verify: success=true, command.name=issue, command.category=system, command.subcommands=[bug,feature,help,diagnostics], command.flags includes --dry-run --title --body --severity --area --open, command.exitCodes includes 0,2,5,6,8.",
      "createdAt": "2026-02-13T02:22:38Z",
      "updatedAt": "2026-02-13T02:22:38Z"
    },
    {
      "id": "T4425",
      "title": "Test: MCP cleo_query issues diagnostics",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4412",
      "phase": "core",
      "size": "medium",
      "position": 13,
      "positionVersion": 0,
      "description": "In new chat with local MCP build, call: cleo_query domain=issues operation=diagnostics. Verify: success=true, data contains diagnostics object with cleoVersion, bashVersion, os fields. Confirm the issues domain is recognized (not E_INVALID_DOMAIN).",
      "createdAt": "2026-02-13T02:22:45Z",
      "updatedAt": "2026-02-13T02:22:45Z"
    },
    {
      "id": "T4426",
      "title": "Test: MCP cleo_mutate create_bug",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4412",
      "phase": "core",
      "size": "medium",
      "position": 14,
      "positionVersion": 0,
      "description": "In new chat with local MCP build, call: cleo_mutate domain=issues operation=create_bug params={title:'MCP test bug', body:'Testing MCP issue creation'}. Verify: success=true, data contains result with url, number, title, labels. Confirm issue appears on GitHub with [Bug]: prefix and bug,triage labels.",
      "createdAt": "2026-02-13T02:22:52Z",
      "updatedAt": "2026-02-13T02:22:52Z"
    },
    {
      "id": "T4427",
      "title": "Test: MCP cleo_mutate create_feature and create_help",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4412",
      "phase": "core",
      "size": "medium",
      "position": 15,
      "positionVersion": 0,
      "description": "In new chat with local MCP build: (1) Call cleo_mutate domain=issues operation=create_feature params={title:'MCP test feature', body:'Testing feature creation'}. Verify labels=[enhancement,triage], title prefix [Feature]:. (2) Call cleo_mutate domain=issues operation=create_help params={title:'MCP test question', body:'Testing help creation'}. Verify labels=[question,help], title prefix [Question]:.",
      "createdAt": "2026-02-13T02:22:59Z",
      "updatedAt": "2026-02-13T02:22:59Z"
    },
    {
      "id": "T4428",
      "title": "Test: MCP validation rejects missing params",
      "status": "pending",
      "priority": "medium",
      "type": "subtask",
      "parentId": "T4412",
      "phase": "core",
      "size": "medium",
      "position": 16,
      "positionVersion": 0,
      "description": "In new chat with local MCP build, call: cleo_mutate domain=issues operation=create_bug params={} (no title or body). Verify: success=false, error.code=E_VALIDATION_FAILED, error.message mentions missing title and body.",
      "createdAt": "2026-02-13T02:23:05Z",
      "updatedAt": "2026-02-13T02:23:05Z"
    },
    {
      "id": "T4437",
      "title": "Add beginner-friendly MCP usage guide with workflow examples",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 871,
      "positionVersion": 0,
      "description": "Create docs/guides/mcp-usage-guide.mdx with 4 beginner walkthroughs: adding a feature, debugging, planning large features, and filing GitHub issues. Add quick reference section to README.md and register in docs.json nav.",
      "createdAt": "2026-02-13T04:05:40Z",
      "updatedAt": "2026-02-13T04:05:40Z"
    },
    {
      "id": "T4442",
      "title": "Phase 1: Build release list view with completion progress bars",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 25,
      "positionVersion": 0,
      "description": "Create /releases view showing all releases with status badges, task lists, and progress bars. Released versions show changelog preview. Planned versions show blocking tasks.",
      "createdAt": "2026-02-13T05:51:57Z",
      "updatedAt": "2026-02-13T05:51:57Z"
    },
    {
      "id": "T4443",
      "title": "Phase 1: Implement real-time UI updates via WebSocket",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 26,
      "positionVersion": 0,
      "description": "Wire WebSocket events to update UI in-place: flash affected rows, animate metric card counters, show toast notifications for significant events (release shipped, session started).",
      "createdAt": "2026-02-13T05:51:58Z",
      "updatedAt": "2026-02-13T05:51:58Z"
    },
    {
      "id": "T4444",
      "title": "Phase 1: Build task detail slide-out panel",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 27,
      "positionVersion": 0,
      "description": "Right slide-out panel (400px) showing full task metadata: description, dependencies (clickable), notes (reverse-chronological), acceptance criteria, files, labels. Opens on task row click. Close with Escape.",
      "createdAt": "2026-02-13T05:51:59Z",
      "updatedAt": "2026-02-13T05:51:59Z"
    },
    {
      "id": "T4445",
      "title": "Phase 2: Build token usage and session efficiency charts",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 28,
      "positionVersion": 0,
      "description": "Parse metrics/SESSIONS.jsonl and TOKEN_USAGE.jsonl to generate time-series charts. Token usage area chart, session efficiency scatter plot (tokens vs tasks completed).",
      "createdAt": "2026-02-13T05:52:00Z",
      "updatedAt": "2026-02-13T05:52:00Z"
    },
    {
      "id": "T4446",
      "title": "Phase 2: Build compliance trend dashboard",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 29,
      "positionVersion": 0,
      "description": "Parse metrics/COMPLIANCE.jsonl for pass rate trends, violation counts by severity, and compliance score over time. Line chart + summary cards.",
      "createdAt": "2026-02-13T05:52:01Z",
      "updatedAt": "2026-02-13T05:52:01Z"
    },
    {
      "id": "T4447",
      "title": "Phase 2: Implement archive explorer",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 30,
      "positionVersion": 0,
      "description": "Browse and search 4000+ archived tasks from todo-archive.json. Filterable by date range, priority, phase. Show cycle time stats (created to completed).",
      "createdAt": "2026-02-13T05:52:02Z",
      "updatedAt": "2026-02-13T05:52:02Z"
    },
    {
      "id": "T4448",
      "title": "Phase 3: Implement session management from web UI",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 31,
      "positionVersion": 0,
      "description": "Start/end sessions, set/clear focus task from the web dashboard. All operations go through MCP domain handler mutate() for validation and audit logging.",
      "createdAt": "2026-02-13T05:52:03Z",
      "updatedAt": "2026-02-13T05:52:03Z"
    },
    {
      "id": "T4449",
      "title": "Phase 3: Add drag-and-drop task reordering",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 32,
      "positionVersion": 0,
      "description": "Make task list rows draggable for reordering within the same parent/phase. Visual feedback: ghost row follows cursor, drop target highlighted with cyan border.",
      "createdAt": "2026-02-13T05:52:04Z",
      "updatedAt": "2026-02-13T05:52:04Z"
    },
    {
      "id": "T4450",
      "title": "Phase 3: Add keyboard shortcuts for power users",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 33,
      "positionVersion": 0,
      "description": "Implement vim-style navigation (j/k), go-to shortcuts (g d, g t, g g, g s, g r, g h), search (/) , close (Escape), task actions (Enter). Show help with ?.",
      "createdAt": "2026-02-13T05:52:05Z",
      "updatedAt": "2026-02-13T05:52:05Z"
    },
    {
      "id": "T4451",
      "title": "Phase 4: Build release planning interface",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 34,
      "positionVersion": 0,
      "description": "Assign tasks to planned releases, set target dates, preview release readiness. Ship release button when 100% complete. Goes through cleo release create + ship.",
      "createdAt": "2026-02-13T05:52:06Z",
      "updatedAt": "2026-02-13T05:52:06Z"
    },
    {
      "id": "T4452",
      "title": "Phase 4: Implement backup management from web UI",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T4284",
      "phase": "core",
      "size": "medium",
      "position": 35,
      "positionVersion": 0,
      "description": "List backups with type/date/size. One-click restore with confirmation dialog. Creates safety backup before restore. Uses MCP system.backup/restore domain handlers.",
      "createdAt": "2026-02-13T05:52:07Z",
      "updatedAt": "2026-02-13T05:52:07Z"
    },
    {
      "id": "T4454",
      "title": "EPIC: CLEO V2 Full TypeScript System (LAFS-native)",
      "status": "pending",
      "priority": "medium",
      "type": "epic",
      "phase": "core",
      "size": "medium",
      "position": 877,
      "positionVersion": 0,
      "description": "Master epic for the full CLEO V2 TypeScript rewrite with LAFS baked in from day one. Two parallel tracks: Track MCP (expand native engine 29130 ops) and Track CLI (T2021 ungated, Commander.js full rewrite). CAAMP (@cleocode/caamp v0.3.0) as canonical package manager. Convergence plan merges both tracks into single TypeScript core.",
      "createdAt": "2026-02-13T15:46:00Z",
      "updatedAt": "2026-02-18T00:32:27.226Z"
    },
    {
      "id": "T4491",
      "title": "Refactor cleo issue: DRY template parsing, label validation, naming consistency (GH #17, #18)",
      "status": "pending",
      "priority": "high",
      "type": "epic",
      "phase": "core",
      "size": "medium",
      "position": 883,
      "positionVersion": 0,
      "description": "Eliminate template duplication in cleo issue by reading from .github/ISSUE_TEMPLATE/*.yml as single source of truth. Fix label validation (GH#17), add template-driven body construction (GH#18), resolve issue/issues naming inconsistency between CLI and MCP, fix severity/area enum mismatches, and add DomainName type coverage.",
      "notes": [
        "2026-02-16 18:01:39 UTC: Triage T4570: KEPT. Active GitHub issues #17, #18. 6 children. Still relevant."
      ],
      "createdAt": "2026-02-14T06:36:31Z",
      "updatedAt": "2026-02-16T18:01:39.571Z"
    },
    {
      "id": "T4492",
      "title": "Extract template config from .github/ISSUE_TEMPLATE/*.yml into shared config (GH #18)",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4491",
      "phase": "core",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Create a template parser function that reads title prefix, labels, section headers, severity/area enums from the YAML template files. When running inside the repo, read directly. When running from install, use bundled template config (generated at install/build time). This is the DRY foundation  single source of truth for all template metadata.",
      "createdAt": "2026-02-14T06:36:39Z",
      "updatedAt": "2026-02-14T06:36:39Z"
    },
    {
      "id": "T4496",
      "title": "Refactor build_template_body() to use parsed template sections instead of hardcoded headers",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4491",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Replace hardcoded section headers in build_template_body() with template-parsed values. Generate all required template sections (not just the first one). For sections the CLI cannot auto-fill (e.g., steps to reproduce), include the header with a placeholder or skip gracefully. Ensure CLI-filed issues structurally match the template layout.",
      "createdAt": "2026-02-14T06:36:52Z",
      "updatedAt": "2026-02-14T06:36:52Z"
    },
    {
      "id": "T4541",
      "title": "EPIC: Full System Audit, Assessment & Cleanup Post-V2 Migration",
      "status": "pending",
      "priority": "medium",
      "type": "epic",
      "phase": "core",
      "size": "medium",
      "position": 887,
      "positionVersion": 0,
      "description": "Comprehensive audit of the entire CLEO system after V2 TypeScript migration. Key objectives: (1) AUDIT all 79 bash scripts and 106 lib files to verify every feature was converted and IMPROVED in TypeScript  not just ported but enhanced. (2) AUDIT all documentation  consolidate canonical docs, archive superseded ones, eliminate competing/legacy docs. Canonical hierarchy: vision.mdx  PORTABLE-BRAIN-SPEC  CANONICAL-PLAN-SPEC  supporting specs  superseded/archived. Review NEXUS-SPEC in archive for valuable concepts to preserve. (3) VALIDATE MCP-first architecture  MCP as sole entry point for agents, CLI as backbone. Research modern MCP+CLI patterns. (4) SANDBOX TESTING  full end-to-end stress tests with expected outcomes, real-world scenarios, greenfield and brownfield project simulations. (5) VISION ALIGNMENT  review and revise the overall vision, ensure CLEO works as the Portable Project Brain for ANY LLM agent. (6) DOC CONSOLIDATION  no competing docs, single source of truth per topic, docs support current state and path forward. (7) USE CLEO TO BUILD CLEO  treat CLEO as the brain/memory system it claims to be, validate it works as such. Must decompose into research, consensus, specification, and execution phases following RCSD protocol.",
      "createdAt": "2026-02-16T03:50:40Z",
      "updatedAt": "2026-02-16T03:50:40Z"
    },
    {
      "id": "T4545",
      "title": "Port high-priority bash gaps to TypeScript",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4541",
      "phase": "core",
      "size": "medium",
      "position": 4,
      "positionVersion": 0,
      "description": "Port the high-priority feature gaps identified in T4542: (1) archive-stats  cycle time analysis, trend reporting, phase/label breakdown. (2) Cross-project export with subtree support, filtering, dependency inclusion. (3) Extend import.ts with full bash import feature set. (4) Protocol validators for CLI validation/testing. (5) Skills management CLI  discovery, validation, installation. These are features that existed in bash and are needed for feature parity.",
      "depends": [
        "T4542"
      ],
      "createdAt": "2026-02-16T03:55:59Z",
      "updatedAt": "2026-02-16T03:55:59Z"
    },
    {
      "id": "T4546",
      "title": "Consolidate and clean up documentation",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4541",
      "phase": "core",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "description": "Execute documentation consolidation from T4543: (1) Move superseded specs to archive/specs/deprecated/. (2) Complete or archive v2-api-reference.md. (3) Create docs/guides/migration-overview.mdx as single migration entry point. (4) Create docs/DOCUMENTATION-STRUCTURE.md with audience paths. (5) Create docs/concepts/current-state.mdx. (6) Mark canonical docs with explicit headers. (7) Decide NEXUS spec fate and document decision in Canonical Plan.",
      "depends": [
        "T4543"
      ],
      "createdAt": "2026-02-16T03:56:01Z",
      "updatedAt": "2026-02-16T03:56:01Z"
    },
    {
      "id": "T4547",
      "title": "Validate shared-core architecture (MCP + CLI sibling pattern)",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4541",
      "phase": "core",
      "size": "medium",
      "position": 6,
      "positionVersion": 0,
      "description": "Based on T4544 research: verify and refactor if needed so both CLI and MCP server call into src/core/ as shared domain logic, neither wrapping the other. Audit current MCP engine functions  do they duplicate src/core/ logic or share it? Ensure the architecture matches the Salesforce DX pattern: shared core library, CLI as independent implementation, MCP as agent interface. Document the architecture decision.",
      "depends": [
        "T4544"
      ],
      "createdAt": "2026-02-16T03:56:02Z",
      "updatedAt": "2026-02-16T03:56:02Z"
    },
    {
      "id": "T4548",
      "title": "Full sandbox testing with expected outcomes",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4541",
      "phase": "core",
      "size": "medium",
      "position": 7,
      "positionVersion": 0,
      "description": "End-to-end stress testing of CLEO V2 TypeScript system: (1) Greenfield project simulation  init, add tasks, sessions, phases, complete lifecycle. (2) Brownfield project simulation  import existing tasks, migrate, validate. (3) Multi-session concurrent access stress test. (4) Brain operations validation  bootstrap all tiers, coherence check, critical path, unblock opportunities. (5) MCP server integration  all 11 domains respond correctly. (6) SQLite store layer  migration, CRUD, graph queries. (7) Error handling  all exit codes produce correct error.fix suggestions. Define expected outcomes for each test scenario.",
      "createdAt": "2026-02-16T03:56:03Z",
      "updatedAt": "2026-02-16T03:56:03Z"
    },
    {
      "id": "T4549",
      "title": "Deprecation plan for legacy bash system",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4541",
      "phase": "core",
      "size": "medium",
      "position": 8,
      "positionVersion": 0,
      "description": "Based on audit results, create formal deprecation plan for the 279 bash files: (1) Which scripts can be safely deleted (TS equivalent verified). (2) Which scripts must be kept temporarily (no TS equivalent yet). (3) Which lib functions are still called by anything. (4) Timeline for removing bash wrapper. (5) BATS test migration plan  which BATS tests have Vitest equivalents, which need porting. (6) Update CLAUDE.md and AGENT-INJECTION.md to remove bash references.",
      "depends": [
        "T4542"
      ],
      "createdAt": "2026-02-16T03:56:04Z",
      "updatedAt": "2026-02-16T03:56:04Z"
    },
    {
      "id": "T4556",
      "title": "EPIC: Documentation Consolidation and GitBook Migration",
      "status": "pending",
      "priority": "high",
      "type": "epic",
      "phase": "core",
      "size": "large",
      "position": 888,
      "positionVersion": 0,
      "description": "Aggressive consolidation of 518 docs. Canonical hierarchy: vision.mdx (L1), PORTABLE-BRAIN-SPEC (L2), CANONICAL-PLAN-SPEC (L3), plus supporting specs. Archive superseded docs. Consolidate migration guides. Create LLM-agent-optimized documentation with human summaries. Migrate from Mintlify to GitBook. All docs must support the current TS-native system state. Command reference, MCP usage, and CLI guides are primary. NEXUS concepts preserved.",
      "createdAt": "2026-02-16T04:47:21Z",
      "updatedAt": "2026-02-16T04:47:21Z"
    },
    {
      "id": "T4559",
      "title": "Create LLM-agent-optimized command reference for GitBook",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4556",
      "phase": "core",
      "size": "large",
      "position": 1,
      "positionVersion": 0,
      "description": "Rewrite all 83 command docs in docs/commands/ for LLM-agent consumption. Each command doc needs: structured format with clear parameter/flag documentation, example invocations, MCP equivalent operations, expected output formats. Human summary section at top. GitBook-compatible MDX format. COMMANDS-INDEX.json must map both CLI and MCP entry points.",
      "depends": [
        "T4558"
      ],
      "createdAt": "2026-02-16T04:47:40Z",
      "updatedAt": "2026-02-16T04:49:50Z"
    },
    {
      "id": "T4560",
      "title": "Migrate documentation infrastructure from Mintlify to GitBook",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4556",
      "phase": "core",
      "size": "large",
      "position": 2,
      "positionVersion": 0,
      "description": "Replace Mintlify docs structure with GitBook. Set up GitBook site, configure Git Sync, migrate MDX files to GitBook-compatible format. Set up docs site with proper navigation, search, versioning. Preserve canonical hierarchy. Configure custom domain if applicable. Ensure llms.txt and MCP server integration for LLM-ready docs.",
      "depends": [
        "T4557"
      ],
      "createdAt": "2026-02-16T04:47:43Z",
      "updatedAt": "2026-02-16T04:49:52Z"
    },
    {
      "id": "T4568",
      "title": "Migrate critical BATS tests to vitest for TypeScript system",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4549",
      "phase": "core",
      "size": "large",
      "position": 2,
      "positionVersion": 0,
      "description": "Port the 273 BATS test files to vitest equivalents testing the TypeScript core modules. Priority order: task CRUD tests, session tests, validation tests, protocol tests, graph operation tests, phase/lifecycle tests. Each migrated test must cover the same scenarios. Current vitest coverage is only 6 files - needs to reach parity with BATS coverage. Integration tests for CLI commands using vitest+execa.",
      "depends": [
        "T4567"
      ],
      "createdAt": "2026-02-16T04:48:24Z",
      "updatedAt": "2026-02-16T04:49:56Z"
    },
    {
      "id": "T4573",
      "title": "EPIC: CLEO Vision and Spec Revision",
      "status": "pending",
      "priority": "high",
      "type": "epic",
      "phase": "core",
      "size": "medium",
      "position": 889,
      "positionVersion": 0,
      "description": "Review and revise CLEO vision and specifications to reflect current state and path forward. The Portable Brain concept, NEXUS cross-project discovery, and LLM-agent-first design must be validated against the actual TS implementation. Update vision.mdx if needed (with user approval - it is marked immutable). Ensure NEXUS concepts from archived spec are preserved in active planning.",
      "createdAt": "2026-02-16T04:48:58Z",
      "updatedAt": "2026-02-16T04:48:58Z"
    },
    {
      "id": "T4576",
      "title": "Review ADR-002 Hybrid Storage Decision and approve migration plan",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 890,
      "positionVersion": 0,
      "description": "Review the hybrid storage ADR (ADR-002) and its 3 supporting research deliverables. Decide whether to approve the targeted hybrid approach (SQLite for tasks domain only, JSON for config, JSONL for logs). If approved, plan Phase 1 (fix JSONL append), Phase 2 (introduce tasks.db with drizzle-orm + sql.js), Phase 3 (deprecate todo.json/archive/sessions.json in favor of tasks.db). Key deliverables to review: (1) storage-landscape-analysis.md - full inventory of 30+ data files, (2) sqlite-cli-research.md - SQLite prior art and TS library comparison, (3) storage-competitive-analysis.md - competitive analysis with challenge matrix. ADR location: docs/adrs/ADR-002-hybrid-storage-strategy.md",
      "labels": [
        "adr",
        "architecture",
        "review",
        "storage"
      ],
      "notes": [
        "2026-02-16 04:51:24 UTC: Linked research: storage-landscape-analysis (CLEO Data Storage Landscape Analysis)",
        "2026-02-16 04:51:28 UTC: Linked research: sqlite-cli-research (SQLite for CLI Tools - Research Analysis)",
        "2026-02-16 04:51:31 UTC: Linked research: storage-competitive-analysis (CLEO V2 Storage Strategy: Competitive Analysis)",
        "2026-02-16 04:53:03 UTC: Research deliverables linked: (1) storage-landscape-analysis - 30+ files inventoried, (2) sqlite-cli-research - 7 tools analyzed, 5 TS libraries compared, (3) storage-competitive-analysis - 3-option challenge matrix. ADR: docs/adrs/ADR-002-hybrid-storage-strategy.md. Supersedes ADR-001."
      ],
      "files": [
        "docs/adrs/ADR-002-hybrid-storage-strategy.md"
      ],
      "createdAt": "2026-02-16T04:51:15Z",
      "updatedAt": "2026-02-16T04:53:03Z"
    },
    {
      "id": "T4610",
      "title": "Benchmark test 1",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 891,
      "positionVersion": 0,
      "description": "Perf test",
      "createdAt": "2026-02-16T19:27:43Z",
      "updatedAt": "2026-02-16T19:27:43Z"
    },
    {
      "id": "T4611",
      "title": "Benchmark test 2",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 892,
      "positionVersion": 0,
      "description": "Perf test",
      "createdAt": "2026-02-16T19:27:45Z",
      "updatedAt": "2026-02-16T19:27:45Z"
    },
    {
      "id": "T4612",
      "title": "Benchmark test 3",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 893,
      "positionVersion": 0,
      "description": "Perf test",
      "createdAt": "2026-02-16T19:27:46Z",
      "updatedAt": "2026-02-16T19:27:46Z"
    },
    {
      "id": "T4617",
      "title": "Benchmark test Bash 1",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 894,
      "positionVersion": 0,
      "description": "Perf test",
      "createdAt": "2026-02-16T19:28:22Z",
      "updatedAt": "2026-02-16T19:28:22Z"
    },
    {
      "id": "T4618",
      "title": "Benchmark test Bash 2",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 895,
      "positionVersion": 0,
      "description": "Perf test",
      "createdAt": "2026-02-16T19:28:24Z",
      "updatedAt": "2026-02-16T19:28:24Z"
    },
    {
      "id": "T4619",
      "title": "Benchmark test Bash 3",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 896,
      "positionVersion": 0,
      "description": "Perf test",
      "createdAt": "2026-02-16T19:28:26Z",
      "updatedAt": "2026-02-16T19:28:26Z"
    },
    {
      "id": "T4621",
      "title": "Fix stats/history/log JSONL parsing for hybrid todo-log.json format",
      "status": "pending",
      "priority": "critical",
      "type": "task",
      "parentId": "T4541",
      "phase": "core",
      "size": "small",
      "position": 20,
      "positionVersion": 0,
      "description": "The todo-log.json file starts as valid JSON with entries array from the bash era, but TS CLI appends JSONL entries after the closing brace. Create a readLogEntries function that handles this hybrid format: parse initial JSON, then parse trailing JSONL lines. Affects stats, history, and log commands.",
      "createdAt": "2026-02-16T20:26:52Z",
      "updatedAt": "2026-02-16T20:26:52Z"
    },
    {
      "id": "T4635",
      "title": "Epic",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "phase": "core",
      "size": "medium",
      "position": 899,
      "positionVersion": 0,
      "description": "Test epic",
      "createdAt": "2026-02-16T20:51:10.442Z",
      "updatedAt": "2026-02-16T20:51:10.442Z"
    },
    {
      "id": "T1074",
      "title": "EPIC: CLEO Claude Code Plugin Implementation",
      "status": "pending",
      "priority": "high",
      "type": "epic",
      "phase": "core",
      "positionVersion": 0,
      "description": "Implement companion Claude Code plugin for CLEO (Option A architecture). Plugin provides Claude-native integration while preserving standalone CLI. Replaces CLAUDE.md injection with auto-discovered skills, adds slash commands, agents, and session lifecycle hooks. See claudedocs/specs/CLEO-PLUGIN-SPEC.md for full specification.",
      "notes": [
        "2025-12-30 07:43:12 UTC: Cross-linked with T1062 (CLEO Orchestration Platform). These epics are companions: T1074 provides Claude Code integration, T1062 provides deterministic orchestration engine. Plugin will use orchestration engine for subagent coordination via ct verify and verification gates.",
        "2025-12-31 23:32:55 UTC: EPIC PROGRESS 2025-12-31: Wave 0 complete (7 tasks). Research in .cleo/research/T1075-T1078. Commands in commands/. Wave 1 ready: T1079, T1085, T1131."
      ],
      "createdAt": "2025-12-30T07:40:23Z"
    },
    {
      "id": "T1171",
      "title": "EPIC: Visual Showcase & Marketing Assets",
      "status": "pending",
      "priority": "medium",
      "type": "epic",
      "phase": "polish",
      "positionVersion": 0,
      "description": "Create compelling visual demonstrations of CLEO for Reddit posts and README. Goal: Show what CLEO does in screenshots that hook viewers in 2 seconds. Includes terminal screenshots, side-by-side comparisons, animated GIFs, and demo project creation.",
      "labels": [
        "documentation",
        "marketing",
        "screenshots"
      ],
      "createdAt": "2026-01-01T00:23:14Z"
    },
    {
      "id": "T4663",
      "title": "EPIC: Wave 8 - Full System Integration (LAFS + CAAMP + Init + Output)",
      "status": "pending",
      "priority": "high",
      "type": "epic",
      "size": "medium",
      "position": 1,
      "positionVersion": 0,
      "description": "Wave 8: Full system integration audit and remediation. LAFS protocol conformance, CAAMP provider/injection integration, CLI output flags (--human/--format/--quiet), init command completion, agents/skills canonical path architecture, error envelope unification. Ensures CLEO V2 TypeScript system reaches full parity with bash system design intent while adopting SOLID/DRY architecture through proper CAAMP and LAFS delegation.",
      "createdAt": "2026-02-18T19:17:38.121Z",
      "updatedAt": "2026-02-18T19:17:48.279Z"
    },
    {
      "id": "T4664",
      "title": "8.1: Fix MCP transport value - use 'sdk' with x-cleo-transport extension",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "small",
      "position": 1,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:26.967Z",
      "updatedAt": "2026-02-18T19:18:26.967Z"
    },
    {
      "id": "T4665",
      "title": "8.2: Integrate resolveOutputFormat() from LAFS into CLI flag parsing",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 2,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:27.577Z",
      "updatedAt": "2026-02-18T19:18:27.577Z"
    },
    {
      "id": "T4666",
      "title": "8.3: Add --human, --format, --quiet flags to all CLI commands",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "large",
      "position": 3,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:28.241Z",
      "updatedAt": "2026-02-18T19:18:28.241Z"
    },
    {
      "id": "T4667",
      "title": "8.4: Ensure all CLI formatSuccess/formatError paths pass operation param (full LAFS envelope)",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 4,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:28.921Z",
      "updatedAt": "2026-02-18T19:18:28.921Z"
    },
    {
      "id": "T4668",
      "title": "8.5: Add LAFSPage pagination to list commands (cursor/offset modes)",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 5,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:29.570Z",
      "updatedAt": "2026-02-18T19:18:29.570Z"
    },
    {
      "id": "T4669",
      "title": "8.6: Add _meta.warnings support for deprecation notices",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4663",
      "size": "small",
      "position": 6,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:30.240Z",
      "updatedAt": "2026-02-18T19:18:30.240Z"
    },
    {
      "id": "T4670",
      "title": "8.7: Add _extensions support for CLEO-specific metadata",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4663",
      "size": "small",
      "position": 7,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:30.881Z",
      "updatedAt": "2026-02-18T19:18:30.881Z"
    },
    {
      "id": "T4671",
      "title": "8.8: Register CLEO error codes in LAFS error registry or map to canonical codes",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 8,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:31.490Z",
      "updatedAt": "2026-02-18T19:18:31.490Z"
    },
    {
      "id": "T4672",
      "title": "8.9: Unify dual envelope shape (backward-compat vs full LAFS) into single LAFS shape",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "large",
      "position": 9,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:32.141Z",
      "updatedAt": "2026-02-18T19:18:32.141Z"
    },
    {
      "id": "T4673",
      "title": "8.10: Add runEnvelopeConformance() CI test for all command outputs",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 10,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:32.758Z",
      "updatedAt": "2026-02-18T19:18:32.758Z"
    },
    {
      "id": "T4674",
      "title": "8.11: Eliminate src/core/ui/injection.ts - delegate to CAAMP inject/checkInjection (T4539)",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 11,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:33.372Z",
      "updatedAt": "2026-02-18T19:18:33.372Z"
    },
    {
      "id": "T4675",
      "title": "8.12: Eliminate src/core/ui/mcp-config.ts - delegate provider detection to CAAMP",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 12,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:34.035Z",
      "updatedAt": "2026-02-18T19:18:34.035Z"
    },
    {
      "id": "T4676",
      "title": "8.13: Eliminate src/core/mcp/index.ts - delegate MCP server install to CAAMP",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 13,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:34.766Z",
      "updatedAt": "2026-02-18T19:18:34.766Z"
    },
    {
      "id": "T4677",
      "title": "8.14: Replace injection-registry.ts hardcoded targets with CAAMP getInstructionFiles()",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4663",
      "size": "small",
      "position": 14,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:35.417Z",
      "updatedAt": "2026-02-18T19:18:35.417Z"
    },
    {
      "id": "T4678",
      "title": "8.15: Deduplicate caamp-adapter.ts (src/mcp/engine/ and mcp-server/src/engine/)",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4663",
      "size": "small",
      "position": 15,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:18:36.055Z",
      "updatedAt": "2026-02-18T19:18:36.055Z"
    },
    {
      "id": "T4679",
      "title": "8.16: Consolidate skill discovery to use CAAMP parseSkillFile() instead of manual YAML",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T4663",
      "size": "small",
      "position": 16,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:14.470Z",
      "updatedAt": "2026-02-18T19:19:14.470Z"
    },
    {
      "id": "T4680",
      "title": "8.17: Unify skill version tracking on CAAMP skills-lock as primary",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T4663",
      "size": "small",
      "position": 17,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:15.134Z",
      "updatedAt": "2026-02-18T19:19:15.134Z"
    },
    {
      "id": "T4681",
      "title": "8.18: Complete init - create sessions.json, schemas/, .sequence, project-info.json",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 18,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:15.799Z",
      "updatedAt": "2026-02-18T19:19:15.799Z"
    },
    {
      "id": "T4682",
      "title": "8.19: Init injection - create .cleo/templates/AGENT-INJECTION.md, inject CLAUDE.md/AGENTS.md/GEMINI.md via CAAMP",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "large",
      "position": 19,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:16.449Z",
      "updatedAt": "2026-02-18T19:19:16.449Z"
    },
    {
      "id": "T4683",
      "title": "8.20: Init global injection - update ~/.claude/CLAUDE.md and all detected provider instruction files via CAAMP",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 20,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:17.088Z",
      "updatedAt": "2026-02-18T19:19:17.088Z"
    },
    {
      "id": "T4684",
      "title": "8.21: Init project registration - call nexus register, create project-info.json",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 21,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:17.749Z",
      "updatedAt": "2026-02-18T19:19:17.749Z"
    },
    {
      "id": "T4685",
      "title": "8.22: Init agent definitions - install cleo-subagent.md to ~/.agents/agents/ (symlink)",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4663",
      "size": "small",
      "position": 22,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:18.429Z",
      "updatedAt": "2026-02-18T19:19:18.429Z"
    },
    {
      "id": "T4686",
      "title": "8.23: Implement --update-docs flag in init (refresh all injections)",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4663",
      "size": "small",
      "position": 23,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:19.083Z",
      "updatedAt": "2026-02-18T19:19:19.083Z"
    },
    {
      "id": "T4687",
      "title": "8.24: Implement --detect flag in init (project context detection)",
      "status": "pending",
      "priority": "low",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 24,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:19.721Z",
      "updatedAt": "2026-02-18T19:19:19.721Z"
    },
    {
      "id": "T4688",
      "title": "8.25: Design skills-first agent entry model - small injection references CLEO skill",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 25,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:20.364Z",
      "updatedAt": "2026-02-18T19:19:20.364Z"
    },
    {
      "id": "T4689",
      "title": "8.26: Ensure CLEO skill installed to ~/.agents/skills/ and verified on init",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 26,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:21.035Z",
      "updatedAt": "2026-02-18T19:19:21.035Z"
    },
    {
      "id": "T4690",
      "title": "8.27: Update global injection to minimal reference (load CLEO skill) vs 596-line template",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 27,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:21.742Z",
      "updatedAt": "2026-02-18T19:19:21.742Z"
    },
    {
      "id": "T4691",
      "title": "8.28: Add mcp to LAFSTransport union in @cleocode/lafs-protocol",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "small",
      "position": 28,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:22.422Z",
      "updatedAt": "2026-02-18T19:19:22.422Z"
    },
    {
      "id": "T4692",
      "title": "8.29: Add --quiet flag support to LAFS FlagInput/resolveOutputFormat",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4663",
      "size": "small",
      "position": 29,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:23.071Z",
      "updatedAt": "2026-02-18T19:19:23.071Z"
    },
    {
      "id": "T4693",
      "title": "8.30: Review LAFS mcpAdapter strict_mode_behavior bug",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4663",
      "size": "small",
      "position": 30,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:23.708Z",
      "updatedAt": "2026-02-18T19:19:23.708Z"
    },
    {
      "id": "T4694",
      "title": "8.31: E2E dogfood test - cleo init in fresh project, verify all files created",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 31,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:24.374Z",
      "updatedAt": "2026-02-18T19:19:24.374Z"
    },
    {
      "id": "T4695",
      "title": "8.32: Verify CLEO MCP server auto-installed to detected providers on init",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 32,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:25.070Z",
      "updatedAt": "2026-02-18T19:19:25.070Z"
    },
    {
      "id": "T4696",
      "title": "8.33: Verify --human output renders correctly for all major commands",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 33,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:25.700Z",
      "updatedAt": "2026-02-18T19:19:25.700Z"
    },
    {
      "id": "T4697",
      "title": "8.34: Golden parity test - compare TS vs bash output envelopes for key commands",
      "status": "pending",
      "priority": "medium",
      "type": "task",
      "parentId": "T4663",
      "size": "large",
      "position": 34,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:26.398Z",
      "updatedAt": "2026-02-18T19:19:26.398Z"
    },
    {
      "id": "T4698",
      "title": "8.35: Full LAFS conformance gate - all commands pass runEnvelopeConformance()",
      "status": "pending",
      "priority": "high",
      "type": "task",
      "parentId": "T4663",
      "size": "medium",
      "position": 35,
      "positionVersion": 0,
      "createdAt": "2026-02-18T19:19:27.026Z",
      "updatedAt": "2026-02-18T19:19:27.026Z"
    },
    {
      "id": "T4699",
      "title": "Add pre-flight migration check to core - detect JSON data needing SQLite migration",
      "status": "done",
      "priority": "high",
      "type": "task",
      "size": "medium",
      "position": 900,
      "positionVersion": 0,
      "createdAt": "2026-02-18T23:55:09.489Z",
      "updatedAt": "2026-02-19T00:02:56.876Z",
      "completedAt": "2026-02-19T00:02:56.876Z"
    }
  ]
}
