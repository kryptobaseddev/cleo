{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "tasks.get response",
  "description": "Full task object with all fields",
  "type": "object",
  "properties": {
    "_meta": {
      "$ref": "../../common/meta.schema.json"
    },
    "success": {
      "type": "boolean",
      "const": true
    },
    "data": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "pattern": "^T[0-9]+$"
        },
        "title": {
          "type": "string",
          "minLength": 5,
          "maxLength": 100
        },
        "description": {
          "type": "string",
          "minLength": 10,
          "maxLength": 1000
        },
        "status": {
          "type": "string",
          "enum": ["pending", "active", "blocked", "done"]
        },
        "priority": {
          "type": "string",
          "enum": ["low", "medium", "high", "critical"]
        },
        "parent": {
          "type": ["string", "null"],
          "pattern": "^T[0-9]+$"
        },
        "depends": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^T[0-9]+$"
          }
        },
        "labels": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "notes": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "content": {
                "type": "string"
              },
              "timestamp": {
                "type": "string",
                "format": "date-time"
              }
            },
            "required": ["content", "timestamp"]
          }
        },
        "created": {
          "type": "string",
          "format": "date-time"
        },
        "updated": {
          "type": "string",
          "format": "date-time"
        }
      },
      "required": ["id", "title", "description", "status", "created", "updated"],
      "additionalProperties": false
    }
  },
  "required": ["_meta", "success", "data"],
  "additionalProperties": false
}
