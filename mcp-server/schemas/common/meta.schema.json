{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "_meta envelope",
  "description": "Standard metadata wrapper for all MCP responses",
  "type": "object",
  "properties": {
    "gateway": {
      "type": "string",
      "enum": ["cleo_query", "cleo_mutate"],
      "description": "Gateway tool used"
    },
    "domain": {
      "type": "string",
      "enum": ["tasks", "session", "orchestrate", "research", "lifecycle", "validate", "release", "system"],
      "description": "Functional domain"
    },
    "operation": {
      "type": "string",
      "description": "Domain-specific operation name"
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "MCP server version (semver)"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 timestamp"
    },
    "duration_ms": {
      "type": "integer",
      "minimum": 0,
      "description": "Operation duration in milliseconds"
    }
  },
  "required": ["gateway", "domain", "operation", "version", "timestamp"],
  "additionalProperties": false
}
